{"version":3,"file":"index-CPoZjsmE.js","sources":["../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/scheduler/cjs/scheduler.production.min.js","../../node_modules/scheduler/index.js","../../node_modules/react-dom/cjs/react-dom.production.min.js","../../node_modules/react-dom/index.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/Icon.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/camera.js","../../node_modules/lucide-react/dist/esm/icons/chart-column.js","../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../node_modules/lucide-react/dist/esm/icons/eye.js","../../node_modules/lucide-react/dist/esm/icons/gamepad-2.js","../../node_modules/lucide-react/dist/esm/icons/layout-dashboard.js","../../node_modules/lucide-react/dist/esm/icons/lock.js","../../node_modules/lucide-react/dist/esm/icons/message-circle.js","../../node_modules/lucide-react/dist/esm/icons/mic.js","../../node_modules/lucide-react/dist/esm/icons/pen-line.js","../../node_modules/lucide-react/dist/esm/icons/pound-sterling.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/shield-check.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/volume-2.js","../../src/utils/quota.ts","../../src/utils/admin.ts","../../src/utils/config.ts","../../src/components/Sidebar.tsx","../../src/utils/stats.ts","../../src/store/profileStats.ts","../../src/utils/stripe.ts","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../src/store/userSettings.ts","../../src/components/Home.tsx","../../src/components/ScrollFade.tsx","../../src/components/DartLoader.tsx","../../node_modules/qrcode/lib/can-promise.js","../../node_modules/qrcode/lib/core/utils.js","../../node_modules/qrcode/lib/core/error-correction-level.js","../../node_modules/qrcode/lib/core/bit-buffer.js","../../node_modules/qrcode/lib/core/bit-matrix.js","../../node_modules/qrcode/lib/core/alignment-pattern.js","../../node_modules/qrcode/lib/core/finder-pattern.js","../../node_modules/qrcode/lib/core/mask-pattern.js","../../node_modules/qrcode/lib/core/error-correction-code.js","../../node_modules/qrcode/lib/core/galois-field.js","../../node_modules/qrcode/lib/core/polynomial.js","../../node_modules/qrcode/lib/core/reed-solomon-encoder.js","../../node_modules/qrcode/lib/core/version-check.js","../../node_modules/qrcode/lib/core/regex.js","../../node_modules/qrcode/lib/core/mode.js","../../node_modules/qrcode/lib/core/version.js","../../node_modules/qrcode/lib/core/format-info.js","../../node_modules/qrcode/lib/core/numeric-data.js","../../node_modules/qrcode/lib/core/alphanumeric-data.js","../../node_modules/qrcode/lib/core/byte-data.js","../../node_modules/qrcode/lib/core/kanji-data.js","../../node_modules/dijkstrajs/dijkstra.js","../../node_modules/qrcode/lib/core/segments.js","../../node_modules/qrcode/lib/core/qrcode.js","../../node_modules/qrcode/lib/renderer/utils.js","../../node_modules/qrcode/lib/renderer/canvas.js","../../node_modules/qrcode/lib/renderer/svg-tag.js","../../node_modules/qrcode/lib/browser.js","../../node_modules/zustand/esm/middleware.mjs","../../src/store/calibration.ts","../../src/utils/vision.ts","../../src/components/Calibrator.tsx","../../src/utils/checkout.ts","../../src/components/CameraTile.tsx","../../src/store/match.ts","../../src/utils/autoscore.ts","../../src/utils/scoring.ts","../../src/components/ui/ResizablePanel.tsx","../../src/components/ui/ResizableModal.tsx","../../src/components/CameraView.tsx","../../src/game/types.ts","../../src/game/aroundTheClock.ts","../../src/game/cricket.ts","../../src/game/shanghai.ts","../../src/game/halveIt.ts","../../src/game/highLow.ts","../../src/game/killer.ts","../../src/game/baseball.ts","../../src/game/golf.ts","../../src/game/ticTacToe.ts","../../src/game/americanCricket.ts","../../src/components/OfflinePlay.tsx","../../src/store/toast.ts","../../src/store/messages.ts","../../src/utils/profanity.ts","../../src/components/ui/TabPills.tsx","../../src/components/Friends.tsx","../../src/components/Toaster.tsx","../../src/components/BarChart.tsx","../../src/utils/games.ts","../../src/components/AdminDashboard.tsx","../../src/components/SettingsPanel.tsx","../../src/components/Auth.tsx","../../src/components/ThemeContext.tsx","../../src/components/WSProvider.tsx","../../src/components/ui/StatusDot.tsx","../../src/store/blocklist.ts","../../src/components/OnlinePlay.tsx","../../src/components/StatsPanel.tsx","../../src/components/Tournaments.tsx","../../src/components/AdminAccess.tsx","../../src/components/ui/Drawer.tsx","../../src/components/OpsDashboard.tsx","../../src/App.tsx","../../src/components/ResetPassword.tsx","../../src/components/ErrorBoundary.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && array.indexOf(className) === index;\n}).join(\" \");\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Camera = createLucideIcon(\"Camera\", [\n  [\n    \"path\",\n    {\n      d: \"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",\n      key: \"1tc9qg\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"13\", r: \"3\", key: \"1vg3eu\" }]\n]);\n\nexport { Camera as default };\n//# sourceMappingURL=camera.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChartColumn = createLucideIcon(\"ChartColumn\", [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"M18 17V9\", key: \"2bz60n\" }],\n  [\"path\", { d: \"M13 17V5\", key: \"1frdt8\" }],\n  [\"path\", { d: \"M8 17v-3\", key: \"17ska0\" }]\n]);\n\nexport { ChartColumn as default };\n//# sourceMappingURL=chart-column.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"EyeOff\", [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gamepad2 = createLucideIcon(\"Gamepad2\", [\n  [\"line\", { x1: \"6\", x2: \"10\", y1: \"11\", y2: \"11\", key: \"1gktln\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"9\", y2: \"13\", key: \"qnk9ow\" }],\n  [\"line\", { x1: \"15\", x2: \"15.01\", y1: \"12\", y2: \"12\", key: \"krot7o\" }],\n  [\"line\", { x1: \"18\", x2: \"18.01\", y1: \"10\", y2: \"10\", key: \"1lcuu1\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z\",\n      key: \"mfqc10\"\n    }\n  ]\n]);\n\nexport { Gamepad2 as default };\n//# sourceMappingURL=gamepad-2.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutDashboard = createLucideIcon(\"LayoutDashboard\", [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n]);\n\nexport { LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lock = createLucideIcon(\"Lock\", [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\nexport { Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageCircle = createLucideIcon(\"MessageCircle\", [\n  [\"path\", { d: \"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\", key: \"vv11sd\" }]\n]);\n\nexport { MessageCircle as default };\n//# sourceMappingURL=message-circle.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mic = createLucideIcon(\"Mic\", [\n  [\"path\", { d: \"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\", key: \"131961\" }],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { Mic as default };\n//# sourceMappingURL=mic.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PenLine = createLucideIcon(\"PenLine\", [\n  [\"path\", { d: \"M12 20h9\", key: \"t2du7b\" }],\n  [\n    \"path\",\n    {\n      d: \"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z\",\n      key: \"1ykcvy\"\n    }\n  ]\n]);\n\nexport { PenLine as default };\n//# sourceMappingURL=pen-line.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PoundSterling = createLucideIcon(\"PoundSterling\", [\n  [\"path\", { d: \"M18 7c0-5.333-8-5.333-8 0\", key: \"1prm2n\" }],\n  [\"path\", { d: \"M10 7v14\", key: \"18tmcs\" }],\n  [\"path\", { d: \"M6 21h12\", key: \"4dkmi1\" }],\n  [\"path\", { d: \"M6 13h10\", key: \"ybwr4a\" }]\n]);\n\nexport { PoundSterling as default };\n//# sourceMappingURL=pound-sterling.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShieldCheck = createLucideIcon(\"ShieldCheck\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trophy = createLucideIcon(\"Trophy\", [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n]);\n\nexport { Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Volume2 = createLucideIcon(\"Volume2\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }],\n  [\"path\", { d: \"M19.364 18.364a9 9 0 0 0 0-12.728\", key: \"ijwkga\" }]\n]);\n\nexport { Volume2 as default };\n//# sourceMappingURL=volume-2.js.map\n","// Simple localStorage-based weekly quota for free online games\r\n// 3 free online games per week per user (by username). Premium users are exempt.\r\n\r\nconst KEY = (user: string) => `ndn_online_quota_${user}`\r\n\r\ntype Usage = {\r\n  week: string // e.g., YYYY-WW\r\n  used: number\r\n}\r\n\r\nfunction getWeekId(d = new Date()): string {\r\n  // ISO week-numbering year and week\r\n  const date = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()))\r\n  // Thursday in current week decides the year\r\n  const dayNum = date.getUTCDay() || 7\r\n  date.setUTCDate(date.getUTCDate() + 4 - dayNum)\r\n  const yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1))\r\n  const weekNo = Math.ceil(((date.getTime() - yearStart.getTime()) / 86400000 + 1) / 7)\r\n  const week = String(weekNo).padStart(2, '0')\r\n  return `${date.getUTCFullYear()}-${week}`\r\n}\r\n\r\nexport function getOnlineUsage(user: string): Usage {\r\n  try {\r\n    const raw = localStorage.getItem(KEY(user))\r\n    if (!raw) return { week: getWeekId(), used: 0 }\r\n    const u = JSON.parse(raw)\r\n    const currentWeek = getWeekId()\r\n    if (!u.week || u.week !== currentWeek) return { week: currentWeek, used: 0 }\r\n    return { week: String(u.week), used: Number(u.used) || 0 }\r\n  } catch {\r\n    return { week: getWeekId(), used: 0 }\r\n  }\r\n}\r\n\r\nexport function setOnlineUsage(user: string, usage: Usage) {\r\n  try { localStorage.setItem(KEY(user), JSON.stringify(usage)) } catch {}\r\n}\r\n\r\nexport function incOnlineUsage(user: string, cap = 3): Usage {\r\n  const currentWeek = getWeekId()\r\n  const u = getOnlineUsage(user)\r\n  const next: Usage = { week: currentWeek, used: (u.week === currentWeek ? u.used : 0) + 1 }\r\n  // clamp to cap, though we still store the number\r\n  setOnlineUsage(user, next)\r\n  return next\r\n}\r\n\r\nexport function getFreeRemaining(user: string, cap = 3): number {\r\n  const u = getOnlineUsage(user)\r\n  return Math.max(0, cap - (u.used || 0))\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nconst LS_KEY = 'ndn:isAdmin:v1'\r\n\r\ntype Cache = { [email: string]: { v: boolean; ts: number } }\r\n\r\nfunction getCache(): Cache {\r\n  try { const raw = localStorage.getItem(LS_KEY); return raw ? JSON.parse(raw) : {} } catch { return {} }\r\n}\r\nfunction setCache(email: string, v: boolean) {\r\n  try {\r\n    const c = getCache()\r\n    c[(email||'').toLowerCase()] = { v, ts: Date.now() }\r\n    localStorage.setItem(LS_KEY, JSON.stringify(c))\r\n  } catch {}\r\n}\r\n\r\nexport async function fetchIsAdmin(email?: string|null): Promise<boolean> {\r\n  const e = String(email || '').toLowerCase()\r\n  if (!e) return false\r\n  // Immediate fallbacks: owner env or local override (dev)\r\n  try {\r\n    const owner = String((import.meta as any)?.env?.VITE_OWNER_EMAIL || '').toLowerCase()\r\n    if (owner && e === owner) return true\r\n  } catch {}\r\n  // Hard fallback to known owner (repo default) if nothing else is set\r\n  if (e === 'daviesfamily108@gmail.com') return true\r\n  try {\r\n    const force = localStorage.getItem('ndn:forceAdmin')\r\n    if (force === '1' || force === 'true') return true\r\n  } catch {}\r\n  // try cache first (5 minutes)\r\n  const c = getCache()\r\n  const hit = c[e]\r\n  if (hit && (Date.now() - hit.ts) < 5 * 60 * 1000) return !!hit.v\r\n  try {\r\n    const res = await fetch(`/api/admins/check?email=${encodeURIComponent(e)}`)\r\n    const data = await res.json().catch(()=>({}))\r\n    const v = !!data?.isAdmin\r\n    setCache(e, v)\r\n    return v\r\n  } catch {\r\n    return !!(hit?.v)\r\n  }\r\n}\r\n\r\nexport function useIsAdmin(email?: string|null) {\r\n  const e = String(email || '').toLowerCase()\r\n  const [isAdmin, setIsAdmin] = useState(false)\r\n  useEffect(() => {\r\n    let on = true\r\n    if (!e) { setIsAdmin(false); return }\r\n    // Instant fallbacks before API\r\n    try {\r\n      const owner = String((import.meta as any)?.env?.VITE_OWNER_EMAIL || '').toLowerCase()\r\n      const force = ((): boolean => { try { const v = localStorage.getItem('ndn:forceAdmin'); return v === '1' || v === 'true' } catch { return false } })()\r\n      if (owner && e === owner) { setIsAdmin(true); return }\r\n      if (force) { setIsAdmin(true); return }\r\n    } catch {}\r\n    if (e === 'daviesfamily108@gmail.com') { setIsAdmin(true); return }\r\n    fetchIsAdmin(e).then(v => { if (on) setIsAdmin(!!v) })\r\n    return () => { on = false }\r\n  }, [e])\r\n  return isAdmin\r\n}\r\n","// Demo pricing: base is 5 GBP. Convert to user currency for display.\r\nexport const BASE_PRICE_GBP = 5\r\n\r\n// Simple static FX rates for display (not for real billing). Updated rarely.\r\nconst FX: Record<string, number> = {\r\n\tGBP: 1,\r\n\tEUR: 1.16, //  per \r\n\tUSD: 1.26, // $ per \r\n\tAUD: 1.92,\r\n\tNZD: 2.08,\r\n\tCAD: 1.73,\r\n}\r\n\r\nexport function formatPriceInCurrency(currency: string, gbpAmount = BASE_PRICE_GBP) {\r\n\tconst cur = (currency || 'GBP').toUpperCase()\r\n\tconst rate = FX[cur] ?? 1\r\n\tconst val = gbpAmount * rate\r\n\ttry {\r\n\t\treturn new Intl.NumberFormat(undefined, { style: 'currency', currency: cur }).format(val)\r\n\t} catch {\r\n\t\t// Fallback\r\n\t\treturn `${cur} ${val.toFixed(2)}`\r\n\t}\r\n}\r\n\r\nexport function getUserCurrency(): string {\r\n\ttry {\r\n\t\t// Heuristic: infer from locale\r\n\t\tconst parts = new Intl.NumberFormat().resolvedOptions()\r\n\t\t// Example: en-GB -> GBP, en-US -> USD, en-AU -> AUD, etc. Not 100% accurate.\r\n\t\tconst m = String(parts.locale).toLowerCase()\r\n\t\tif (m.includes('-gb')) return 'GBP'\r\n\t\tif (m.includes('-ie') || m.includes('-de') || m.includes('-fr') || m.includes('-es') || m.includes('-it') || m.includes('-nl')) return 'EUR'\r\n\t\tif (m.includes('-us')) return 'USD'\r\n\t\tif (m.includes('-au')) return 'AUD'\r\n\t\tif (m.includes('-nz')) return 'NZD'\r\n\t\tif (m.includes('-ca')) return 'CAD'\r\n\t\treturn 'GBP'\r\n\t} catch {\r\n\t\treturn 'GBP'\r\n\t}\r\n}\r\n\r\n// Centralized Discord invite; override via VITE_DISCORD_INVITE_URL in Netlify\r\nexport const DISCORD_INVITE_URL: string = (import.meta as any).env?.VITE_DISCORD_INVITE_URL || 'https://discord.gg/bx4KEF8U'\r\n","import { LayoutDashboard, Camera, Users, Trophy, Settings, MessageCircle, Lock, PoundSterling } from 'lucide-react';\r\nimport { useEffect, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { getFreeRemaining } from '../utils/quota'\r\nimport { useIsAdmin } from '../utils/admin'\r\nimport { DISCORD_INVITE_URL } from '../utils/config'\r\n\r\nexport type TabKey = 'score' | 'online' | 'offline' | 'friends' | 'stats' | 'calibrate' | 'settings' | 'admin' | 'tournaments' | 'fullaccess';\r\n\r\nexport function getTabs(user: any) {\r\n  const baseTabs = [\r\n    { key: 'score', label: 'Home', icon: LayoutDashboard },\r\n    { key: 'online', label: 'Online', icon: Users },\r\n    { key: 'offline', label: 'Offline', icon: Trophy },\r\n    { key: 'tournaments', label: 'Tournaments', icon: Trophy },\r\n    { key: 'friends', label: 'Friends', icon: Users },\r\n    { key: 'stats', label: 'Stats', icon: Trophy },\r\n    { key: 'calibrate', label: 'Calibrate', icon: Camera },\r\n    { key: 'settings', label: 'Settings', icon: Settings },\r\n  ];\r\n  // Admin tab visibility handled in Sidebar via hook (client-side fetch)\r\n  if (!user?.fullAccess) {\r\n    baseTabs.push({ key: 'fullaccess', label: 'PREMIUM $', icon: PoundSterling });\r\n  }\r\n  return baseTabs;\r\n}\r\n\r\nexport function Sidebar({\r\n  active,\r\n  onChange,\r\n  user,\r\n  className,\r\n}: {\r\n  active: TabKey;\r\n  onChange: (key: TabKey) => void;\r\n  user: any;\r\n  className?: string;\r\n}) {\r\n  const tabs = getTabs(user);\r\n  const isAdmin = useIsAdmin(user?.email)\r\n  // Ensure Admin tab is shown only for admins: insert it before Settings for better grouping\r\n  if (isAdmin && !tabs.some(t => t.key === 'admin')) {\r\n    const idx = tabs.findIndex(t => t.key === 'settings')\r\n    const adminTab = { key: 'admin', label: 'Admin', icon: Settings } as const\r\n    if (idx >= 0) tabs.splice(idx, 0, adminTab as any); else tabs.push(adminTab as any)\r\n  }\r\n  const [showDiscord, setShowDiscord] = useState(false);\r\n  const freeLeft = user?.username && !user?.fullAccess ? getFreeRemaining(user.username) : Infinity\r\n  useEffect(() => {\r\n    if (!showDiscord) return\r\n    const onKey = (e: KeyboardEvent) => { if (e.key === 'Escape' || e.key === 'Enter') setShowDiscord(false) }\r\n    document.addEventListener('keydown', onKey)\r\n    return () => document.removeEventListener('keydown', onKey)\r\n  }, [showDiscord])\r\n  return (\r\n    <aside className={`${user?.fullAccess ? 'premium-sidebar' : ''} sidebar glass ${className ? '' : 'w-60'} p-2 sm:p-4 rounded-2xl ${className ?? 'hidden sm:flex'} flex-col gap-2 overflow-y-auto overflow-x-hidden ${className ? '' : 'fixed top-2 bottom-2 sm:top-4 sm:bottom-4'}`}>\r\n      {tabs.map(({ key, label, icon: Icon }) => {\r\n  if (key === 'admin' && !isAdmin) return null\r\n        return (\r\n        <button\r\n          key={key}\r\n          className={`tab whitespace-nowrap flex items-center justify-start gap-3 ${active === key ? 'tab--active' : 'tab--inactive'} ${key === 'fullaccess' ? '' : ''}`}\r\n          onClick={() => onChange(key as TabKey)}\r\n          title={label}\r\n          style={{ fontWeight: 700, fontSize: '1.1rem', color: active === key ? '#fff' : '#E5E7EB', letterSpacing: '0.02em' }}\r\n        >\r\n          <Icon className=\"w-6 h-6\" />\r\n          <span className=\"flex items-center gap-2\">\r\n            {label}\r\n            {key === 'online' && !user?.fullAccess && freeLeft <= 0 && (\r\n              <span title=\"Weekly free games used\" className=\"inline-flex items-center gap-1 text-[0.65rem] px-2 py-0.5 rounded-full bg-rose-600 text-white\">\r\n                <Lock className=\"w-3 h-3\" />\r\n                Locked\r\n              </span>\r\n            )}\r\n          </span>\r\n          {/* Only the tab label should show PREMIUM; remove extra badge */}\r\n        </button>\r\n        )\r\n      })}\r\n      {/* Discord tab at the end */}\r\n      <button\r\n        className=\"tab tab--compact whitespace-nowrap flex items-center justify-start gap-3 bg-[#5865F2] text-white mt-2\"\r\n        onClick={() => setShowDiscord(true)}\r\n        title=\"BullseyeDartsLeague\"\r\n        style={{ fontWeight: 700, fontSize: '1.1rem', letterSpacing: '0.02em' }}\r\n      >\r\n        <MessageCircle className=\"w-6 h-6\" />\r\n        <span className=\"truncate\">BullseyeDartsLeague</span>\r\n      </button>\r\n      {/* Discord about dialog via portal */}\r\n      {showDiscord && createPortal(\r\n        <div className=\"fixed inset-0 z-[1000]\">\r\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setShowDiscord(false)} onTouchStart={() => setShowDiscord(false)} />\r\n          <div className=\"absolute inset-0 flex items-center justify-center p-4\">\r\n            <div role=\"dialog\" aria-modal=\"true\" className=\"card max-w-md w-full relative text-left p-6 rounded-xl\">\r\n              <button className=\"absolute -top-3 -right-3 btn px-3 py-1\" aria-label=\"Close\" onClick={() => setShowDiscord(false)}></button>\r\n              <h3 className=\"text-xl font-bold mb-2 flex items-center gap-2 text-[#8ea1e1]\">\r\n                <MessageCircle className=\"w-6 h-6\" /> BullseyeDartsLeague\r\n              </h3>\r\n              <div className=\"mb-4 text-lg font-semibold\">Join this fantastic Online Darts League with divisions and other cool stuff included</div>\r\n        <a\r\n          href={DISCORD_INVITE_URL}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"btn bg-[#5865F2] text-white w-full font-bold text-lg\"\r\n              >\r\n                Join Discord\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>,\r\n        document.body\r\n      )}\r\n    </aside>\r\n  )\r\n}\r\n","export function threeDartAverage(totalScore: number, darts: number): number {\r\n  if (darts === 0) return 0\r\n  return (totalScore / darts) * 3\r\n}\r\n\r\nexport function formatAvg(n?: number) {\r\n  return (n ?? 0).toFixed(2)\r\n}\r\n","export type AllTimeTotals = {\r\n  darts: number\r\n  scored: number\r\n  fnDarts?: number\r\n  fnScored?: number\r\n  // All-time quality metrics\r\n  best3?: number // highest 3-dart avg achieved in a finished leg\r\n  worst3?: number // lowest 3-dart avg achieved in a finished leg\r\n  bestLegDarts?: number // fewest darts to finish a winning leg\r\n  bestCheckout?: number // highest checkout score achieved\r\n  worstLegDarts?: number // most darts in a winning leg (optional)\r\n  bestFNAvg?: number // best per-leg first-nine average\r\n  worstFNAvg?: number // worst per-leg first-nine average\r\n}\r\ntype StatEntry = { t: number; darts: number; scored: number; fnDarts?: number; fnScored?: number }\r\nexport type GameModeStat = { played: number; won: number }\r\nexport type GameModeStats = Record<string, GameModeStat>\r\n\r\nconst keyFor = (name: string) => `ndn_stats_${name}`\r\nconst keySeriesFor = (name: string) => `ndn_stats_ts_${name}`\r\nconst keyDailyFor = (name: string) => `ndn_stats_daily_${name}`\r\n\r\nexport function getAllTime(name: string): AllTimeTotals {\r\n  try {\r\n    const raw = localStorage.getItem(keyFor(name))\r\n    if (!raw) return { darts: 0, scored: 0 }\r\n    const parsed = JSON.parse(raw)\r\n    return {\r\n      darts: Number(parsed.darts) || 0,\r\n      scored: Number(parsed.scored) || 0,\r\n      fnDarts: Number(parsed.fnDarts) || 0,\r\n      fnScored: Number(parsed.fnScored) || 0,\r\n      best3: typeof parsed.best3 === 'number' ? parsed.best3 : 0,\r\n      worst3: typeof parsed.worst3 === 'number' ? parsed.worst3 : 0,\r\n      bestLegDarts: typeof parsed.bestLegDarts === 'number' ? parsed.bestLegDarts : 0,\r\n      bestCheckout: typeof parsed.bestCheckout === 'number' ? parsed.bestCheckout : 0,\r\n      worstLegDarts: typeof parsed.worstLegDarts === 'number' ? parsed.worstLegDarts : 0,\r\n      bestFNAvg: typeof parsed.bestFNAvg === 'number' ? parsed.bestFNAvg : 0,\r\n      worstFNAvg: typeof parsed.worstFNAvg === 'number' ? parsed.worstFNAvg : 0,\r\n    }\r\n  } catch {\r\n    return { darts: 0, scored: 0 }\r\n  }\r\n}\r\n\r\nexport function setAllTime(name: string, totals: AllTimeTotals) {\r\n  try {\r\n    localStorage.setItem(keyFor(name), JSON.stringify(totals))\r\n    window.dispatchEvent(new CustomEvent('ndn:stats-updated', { detail: { name, totals } }))\r\n  } catch {}\r\n}\r\n\r\n// Clear all stored stats for a user (all-time totals, time-series, and daily snapshot)\r\nexport function clearAllStats(name: string) {\r\n  try {\r\n    localStorage.removeItem(keyFor(name))\r\n    localStorage.removeItem(keySeriesFor(name))\r\n    localStorage.removeItem(keyDailyFor(name))\r\n  } catch {}\r\n  try {\r\n    window.dispatchEvent(new CustomEvent('ndn:stats-updated', { detail: { name, cleared: true } }))\r\n  } catch {}\r\n}\r\n\r\nexport function getAllTimeAvg(name: string): number {\r\n  const { darts, scored } = getAllTime(name)\r\n  if (!darts) return 0\r\n  return (scored / darts) * 3\r\n}\r\n\r\nexport function getAllTimeFirstNineAvg(name: string): number {\r\n  const { fnDarts = 0, fnScored = 0 } = getAllTime(name)\r\n  if (!fnDarts) return 0\r\n  return (fnScored / fnDarts) * 3\r\n}\r\n\r\n// All-time quality metric getters\r\nexport function getAllTimeBestWorst(name: string): { best3: number; worst3: number } {\r\n  const { best3 = 0, worst3 = 0 } = getAllTime(name)\r\n  return { best3, worst3 }\r\n}\r\nexport function getAllTimeBestLeg(name: string): number {\r\n  const { bestLegDarts = 0 } = getAllTime(name)\r\n  return bestLegDarts || 0\r\n}\r\nexport function getAllTimeBestCheckout(name: string): number {\r\n  const { bestCheckout = 0 } = getAllTime(name)\r\n  return bestCheckout || 0\r\n}\r\n\r\n// --- Per-game-mode played/won stats (local-only demo) ---\r\nconst keyGameModes = 'ndn_game_mode_stats'\r\n\r\nexport function getGameModeStats(allModeKeys?: string[]): GameModeStats {\r\n  let obj: GameModeStats = {}\r\n  try {\r\n    const raw = localStorage.getItem(keyGameModes)\r\n    if (raw) obj = JSON.parse(raw)\r\n  } catch {}\r\n  // Ensure requested keys exist with zeros so charts are stable\r\n  if (Array.isArray(allModeKeys)) {\r\n    for (const k of allModeKeys) {\r\n      if (!obj[k]) obj[k] = { played: 0, won: 0 }\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\nexport function setGameModeStats(stats: GameModeStats) {\r\n  try {\r\n    localStorage.setItem(keyGameModes, JSON.stringify(stats))\r\n    window.dispatchEvent(new CustomEvent('ndn:stats-updated', { detail: { gameModes: true } }))\r\n  } catch {}\r\n}\r\n\r\nexport function bumpGameMode(mode: string, won: boolean) {\r\n  const current = getGameModeStats()\r\n  const entry = current[mode] || { played: 0, won: 0 }\r\n  entry.played += 1\r\n  if (won) entry.won += 1\r\n  current[mode] = entry\r\n  setGameModeStats(current)\r\n}\r\n\r\n// Time-series helpers for rolling averages\r\nfunction getSeries(name: string): StatEntry[] {\r\n  try {\r\n    const raw = localStorage.getItem(keySeriesFor(name))\r\n    if (!raw) return []\r\n    const arr = JSON.parse(raw)\r\n    if (!Array.isArray(arr)) return []\r\n    return arr.map((e: any) => ({\r\n      t: Number(e.t)||0,\r\n      darts: Number(e.darts)||0,\r\n      scored: Number(e.scored)||0,\r\n      fnDarts: Number(e.fnDarts)||0,\r\n      fnScored: Number(e.fnScored)||0,\r\n    })).filter(e => e.t > 0)\r\n  } catch { return [] }\r\n}\r\n\r\nfunction setSeries(name: string, entries: StatEntry[]) {\r\n  try {\r\n    localStorage.setItem(keySeriesFor(name), JSON.stringify(entries))\r\n    window.dispatchEvent(new CustomEvent('ndn:stats-updated', { detail: { name } }))\r\n  } catch {}\r\n}\r\n\r\nfunction pruneOld(entries: StatEntry[], maxAgeMs: number): StatEntry[] {\r\n  const now = Date.now()\r\n  return entries.filter(e => now - e.t <= maxAgeMs)\r\n}\r\n\r\nexport function addSample(name: string, darts: number, scored: number, when: number = Date.now(), fnDarts?: number, fnScored?: number) {\r\n  if (darts <= 0) return\r\n  const list = getSeries(name)\r\n  const next = pruneOld([...list, { t: when, darts, scored, fnDarts, fnScored }], 1000 * 60 * 60 * 24 * 30) // keep ~30 days\r\n  setSeries(name, next)\r\n}\r\n\r\nexport function getRollingAvg(name: string, windowMs: number = 1000 * 60 * 60 * 24): number {\r\n  const list = getSeries(name)\r\n  if (!list.length) return 0\r\n  const now = Date.now()\r\n  let darts = 0, scored = 0\r\n  for (const e of list) {\r\n    if (now - e.t <= windowMs) { darts += e.darts; scored += e.scored }\r\n  }\r\n  if (darts <= 0) return 0\r\n  return (scored / darts) * 3\r\n}\r\n\r\nexport function getRollingFirstNineAvg(name: string, windowMs: number = 1000 * 60 * 60 * 24 * 30): number {\r\n  const list = getSeries(name)\r\n  if (!list.length) return 0\r\n  const now = Date.now()\r\n  let darts = 0, scored = 0\r\n  for (const e of list) {\r\n    if (now - e.t <= windowMs) {\r\n      darts += (e.fnDarts || 0)\r\n      scored += (e.fnScored || 0)\r\n    }\r\n  }\r\n  if (darts <= 0) return 0\r\n  return (scored / darts) * 3\r\n}\r\n\r\n// Daily adjusted average: recompute from last 24h at most once per 24h and persist the last value\r\ntype DailySnapshot = { avg: number; ts: number }\r\n\r\nfunction getDailySnapshot(name: string): DailySnapshot | null {\r\n  try {\r\n    const raw = localStorage.getItem(keyDailyFor(name))\r\n    if (!raw) return null\r\n    const j = JSON.parse(raw)\r\n    return { avg: Number(j.avg) || 0, ts: Number(j.ts) || 0 }\r\n  } catch { return null }\r\n}\r\n\r\nfunction setDailySnapshot(name: string, snap: DailySnapshot) {\r\n  try {\r\n    localStorage.setItem(keyDailyFor(name), JSON.stringify(snap))\r\n    window.dispatchEvent(new CustomEvent('ndn:stats-updated', { detail: { name } }))\r\n  } catch {}\r\n}\r\n\r\nexport function getDailyAdjustedAvg(name: string): number {\r\n  const snap = getDailySnapshot(name)\r\n  const now = Date.now()\r\n  const DAY = 1000 * 60 * 60 * 24\r\n  if (snap && now - snap.ts < DAY) return snap.avg\r\n  // Need to compute a new daily value from the last 24h of samples\r\n  const ra = getRollingAvg(name, DAY)\r\n  const next: DailySnapshot = { avg: ra, ts: now }\r\n  setDailySnapshot(name, next)\r\n  return ra\r\n}\r\n\r\n// Convenience helpers for monthly (last ~30 days) averages\r\nexport function getMonthlyAvg3(name: string): number {\r\n  const THIRTY_DAYS = 1000 * 60 * 60 * 24 * 30\r\n  const list = getSeries(name)\r\n  if (!list.length) return 0\r\n  const now = Date.now()\r\n  // Prefer match-aggregated entries (those with fnDarts defined) to avoid double counting with per-visit samples\r\n  const windowed = list.filter(e => now - e.t <= THIRTY_DAYS)\r\n  const matchOnly = windowed.filter(e => typeof e.fnDarts === 'number')\r\n  const use = matchOnly.length ? matchOnly : windowed\r\n  let darts = 0, scored = 0\r\n  for (const e of use) { darts += e.darts; scored += e.scored }\r\n  if (darts <= 0) return 0\r\n  return (scored / darts) * 3\r\n}\r\nexport function getMonthlyFirstNineAvg(name: string): number {\r\n  const THIRTY_DAYS = 1000 * 60 * 60 * 24 * 30\r\n  return getRollingFirstNineAvg(name, THIRTY_DAYS)\r\n}\r\n\r\n// Update all players' all-time totals given a finished match roster\r\nimport type { Player, Leg } from './match'\r\nexport function addMatchToAllTime(players: Player[]) {\r\n  for (const p of players) {\r\n    // Sum over finished legs\r\n    let darts = 0\r\n    let scored = 0\r\n    let fnDarts = 0\r\n    let fnScored = 0\r\n    // Per-match quality metrics\r\n    let matchBest3 = 0\r\n    let matchWorst3 = 0\r\n    let matchBestLegDarts = 0 // track fewest darts on a winning leg only\r\n    let matchBestCheckout = 0\r\n    let matchWorstLegDarts = 0 // most darts on a winning leg\r\n    let matchBestFNAvg = 0\r\n    let matchWorstFNAvg = 0\r\n    for (const leg of p.legs) {\r\n      if (!leg.finished) continue\r\n      darts += leg.dartsThrown\r\n      scored += Math.max(0, leg.totalScoreStart - leg.totalScoreRemaining)\r\n      // First nine darts aggregation (or fewer if leg ended earlier)\r\n      const { d: legFnDarts, s: legFnScored } = sumFirstNine(leg)\r\n      fnDarts += legFnDarts\r\n      fnScored += legFnScored\r\n      // Quality metrics per leg\r\n      const legDarts = Math.max(0, leg.dartsThrown)\r\n      const legScored = Math.max(0, leg.totalScoreStart - leg.totalScoreRemaining)\r\n      const legAvg = legDarts > 0 ? (legScored / legDarts) * 3 : 0\r\n      const legFNAvg = legFnDarts > 0 ? (legFnScored / legFnDarts) * 3 : 0\r\n      if (legAvg > 0) {\r\n        matchBest3 = Math.max(matchBest3, legAvg)\r\n        matchWorst3 = matchWorst3 === 0 ? legAvg : Math.min(matchWorst3, legAvg)\r\n      }\r\n      if (legFNAvg > 0) {\r\n        matchBestFNAvg = Math.max(matchBestFNAvg, legFNAvg)\r\n        matchWorstFNAvg = matchWorstFNAvg === 0 ? legFNAvg : Math.min(matchWorstFNAvg, legFNAvg)\r\n      }\r\n      const wasCheckout = leg.totalScoreRemaining === 0\r\n      if (wasCheckout) {\r\n        if (matchBestLegDarts === 0 || legDarts < matchBestLegDarts) matchBestLegDarts = legDarts\r\n        if (matchWorstLegDarts === 0 || legDarts > matchWorstLegDarts) matchWorstLegDarts = legDarts\r\n        const co = typeof leg.checkoutScore === 'number' ? leg.checkoutScore : 0\r\n        if (co > matchBestCheckout) matchBestCheckout = co\r\n      }\r\n    }\r\n    if (darts > 0) {\r\n      const prev = getAllTime(p.name)\r\n      const next: AllTimeTotals = {\r\n        darts: prev.darts + darts,\r\n        scored: prev.scored + scored,\r\n        fnDarts: (prev.fnDarts || 0) + fnDarts,\r\n        fnScored: (prev.fnScored || 0) + fnScored,\r\n        best3: Math.max(prev.best3 || 0, matchBest3 || 0),\r\n        // For worst3, treat 0 as \"unset\"; choose the min positive across history\r\n        worst3: (() => {\r\n          const prior = prev.worst3 || 0\r\n          if (prior === 0) return matchWorst3 || 0\r\n          if (matchWorst3 === 0) return prior\r\n          return Math.min(prior, matchWorst3)\r\n        })(),\r\n        // Fewest darts on winning leg; 0 means no winning legs recorded yet\r\n        bestLegDarts: (() => {\r\n          const prior = prev.bestLegDarts || 0\r\n          if (prior === 0) return matchBestLegDarts || 0\r\n          if (matchBestLegDarts === 0) return prior\r\n          return Math.min(prior, matchBestLegDarts)\r\n        })(),\r\n        bestCheckout: Math.max(prev.bestCheckout || 0, matchBestCheckout || 0),\r\n        worstLegDarts: (() => {\r\n          const prior = prev.worstLegDarts || 0\r\n          if (prior === 0) return matchWorstLegDarts || 0\r\n          if (matchWorstLegDarts === 0) return prior\r\n          return Math.max(prior, matchWorstLegDarts)\r\n        })(),\r\n        bestFNAvg: Math.max(prev.bestFNAvg || 0, matchBestFNAvg || 0),\r\n        worstFNAvg: (() => {\r\n          const prior = prev.worstFNAvg || 0\r\n          if (prior === 0) return matchWorstFNAvg || 0\r\n          if (matchWorstFNAvg === 0) return prior\r\n          return Math.min(prior, matchWorstFNAvg)\r\n        })(),\r\n      }\r\n      setAllTime(p.name, next)\r\n      // Also add a time-series sample for rolling averages\r\n      addSample(p.name, darts, scored, Date.now(), fnDarts, fnScored)\r\n    }\r\n  }\r\n}\r\n\r\n// Helper: sum points and darts for the first 9 darts of a leg (or fewer if finished earlier)\r\nfunction sumFirstNine(leg: Leg): { d: number; s: number } {\r\n  let remain = Math.min(9, leg.dartsThrown)\r\n  if (remain <= 0) return { d: 0, s: 0 }\r\n  let s = 0\r\n  for (const v of leg.visits) {\r\n    if (remain <= 0) break\r\n    const take = Math.min(remain, v.darts)\r\n    // Pro-rate score if partial darts from a visit are included\r\n    if (take === v.darts) s += v.score\r\n    else s += Math.round((v.score / v.darts) * take)\r\n    remain -= take\r\n  }\r\n  const d = Math.min(9, leg.dartsThrown)\r\n  return { d, s }\r\n}\r\n","export const STRIPE_CHECKOUT_URL = 'https://buy.stripe.com/test_8wM8yK7wA0gQeEw5kk'\r\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","import { create } from 'zustand'\r\n\r\ntype LastOffline = { mode: string; x01Start: number; firstTo: number; aiLevel: string }\r\n\r\ntype SettingsState = {\r\n  favoriteDouble: string\r\n  callerEnabled: boolean\r\n  callerVoice: string // voice name\r\n  callerVolume: number // 0..1\r\n  speakCheckoutOnly: boolean\r\n  avgMode: 'all-time' | '24h'\r\n  autoStartOffline: boolean\r\n  rememberLastOffline: boolean\r\n  lastOffline: LastOffline\r\n  reducedMotion: boolean\r\n  compactHeader: boolean\r\n  allowSpectate: boolean\r\n  // UI tuning\r\n  cameraScale: number // 0.5 .. 1.25\r\n  cameraAspect?: 'wide' | 'square'\r\n  // External autoscore provider\r\n  autoscoreProvider?: 'built-in' | 'external-ws'\r\n  autoscoreWsUrl?: string\r\n  calibrationGuide: boolean\r\n  // Devices & preferences\r\n  preferredCameraId?: string\r\n  preferredCameraLabel?: string\r\n  // UI variants\r\n  offlineLayout?: 'classic' | 'modern'\r\n  setFavoriteDouble: (d: string) => void\r\n  setCallerEnabled: (v: boolean) => void\r\n  setCallerVoice: (name: string) => void\r\n  setAvgMode: (mode: 'all-time' | '24h') => void\r\n  setCallerVolume: (v: number) => void\r\n  setSpeakCheckoutOnly: (v: boolean) => void\r\n  setAutoStartOffline: (v: boolean) => void\r\n  setRememberLastOffline: (v: boolean) => void\r\n  setLastOffline: (cfg: Partial<LastOffline>) => void\r\n  setReducedMotion: (v: boolean) => void\r\n  setCompactHeader: (v: boolean) => void\r\n  setAllowSpectate: (v: boolean) => void\r\n  setCameraScale: (n: number) => void\r\n  setCameraAspect: (a: 'wide' | 'square') => void\r\n  setCalibrationGuide: (v: boolean) => void\r\n  setPreferredCamera: (id: string|undefined, label?: string) => void\r\n  setOfflineLayout: (mode: 'classic'|'modern') => void\r\n  setAutoscoreProvider: (p: 'built-in' | 'external-ws') => void\r\n  setAutoscoreWsUrl: (u: string) => void\r\n}\r\nconst KEY = 'ndn_user_settings'\r\n\r\nfunction load(): Pick<SettingsState, 'favoriteDouble' | 'callerEnabled' | 'callerVoice' | 'avgMode' | 'callerVolume' | 'speakCheckoutOnly' | 'autoStartOffline' | 'rememberLastOffline' | 'lastOffline' | 'reducedMotion' | 'compactHeader' | 'allowSpectate' | 'cameraScale' | 'cameraAspect' | 'calibrationGuide' | 'preferredCameraId' | 'preferredCameraLabel' | 'offlineLayout' | 'autoscoreProvider' | 'autoscoreWsUrl'> {\r\n  try {\r\n    const raw = localStorage.getItem(KEY)\r\n  if (!raw) return { favoriteDouble: 'D16', callerEnabled: true, callerVoice: '', callerVolume: 1, speakCheckoutOnly: false, avgMode: 'all-time', autoStartOffline: false, rememberLastOffline: true, lastOffline: { mode: 'X01', x01Start: 501, firstTo: 1, aiLevel: 'None' }, reducedMotion: false, compactHeader: false, allowSpectate: true, cameraScale: 1.0, cameraAspect: 'wide', calibrationGuide: true, preferredCameraId: undefined, preferredCameraLabel: undefined, offlineLayout: 'modern', autoscoreProvider: 'built-in', autoscoreWsUrl: '' }\r\n    const j = JSON.parse(raw)\r\n    return {\r\n      favoriteDouble: j.favoriteDouble || 'D16',\r\n      callerEnabled: typeof j.callerEnabled === 'boolean' ? j.callerEnabled : true,\r\n      callerVoice: j.callerVoice || '',\r\n      callerVolume: (typeof j.callerVolume === 'number') ? Math.max(0, Math.min(1, j.callerVolume)) : 1,\r\n      speakCheckoutOnly: !!j.speakCheckoutOnly,\r\n      avgMode: j.avgMode === '24h' ? '24h' : 'all-time',\r\n      autoStartOffline: !!j.autoStartOffline,\r\n      rememberLastOffline: (typeof j.rememberLastOffline === 'boolean') ? j.rememberLastOffline : true,\r\n      lastOffline: j.lastOffline && typeof j.lastOffline === 'object' ? {\r\n        mode: j.lastOffline.mode || 'X01',\r\n        x01Start: Number(j.lastOffline.x01Start) || 501,\r\n        firstTo: Number(j.lastOffline.firstTo) || 1,\r\n        aiLevel: j.lastOffline.aiLevel || 'None'\r\n      } : { mode: 'X01', x01Start: 501, firstTo: 1, aiLevel: 'None' },\r\n      reducedMotion: !!j.reducedMotion,\r\n      compactHeader: !!j.compactHeader,\r\n      allowSpectate: (typeof j.allowSpectate === 'boolean') ? j.allowSpectate : true,\r\n  cameraScale: (typeof j.cameraScale === 'number' && isFinite(j.cameraScale)) ? Math.max(0.5, Math.min(1.25, j.cameraScale)) : 1.0,\r\n  cameraAspect: j.cameraAspect === 'square' ? 'square' : 'wide',\r\n  autoscoreProvider: (j.autoscoreProvider === 'external-ws') ? 'external-ws' : 'built-in',\r\n  autoscoreWsUrl: typeof j.autoscoreWsUrl === 'string' ? j.autoscoreWsUrl : '',\r\n      calibrationGuide: (typeof j.calibrationGuide === 'boolean') ? j.calibrationGuide : true,\r\n      preferredCameraId: typeof j.preferredCameraId === 'string' ? j.preferredCameraId : undefined,\r\n      preferredCameraLabel: typeof j.preferredCameraLabel === 'string' ? j.preferredCameraLabel : undefined,\r\n      offlineLayout: j.offlineLayout === 'classic' ? 'classic' : 'modern',\r\n    }\r\n  } catch {\r\n  return { favoriteDouble: 'D16', callerEnabled: true, callerVoice: '', callerVolume: 1, speakCheckoutOnly: false, avgMode: 'all-time', autoStartOffline: false, rememberLastOffline: true, lastOffline: { mode: 'X01', x01Start: 501, firstTo: 1, aiLevel: 'None' }, reducedMotion: false, compactHeader: false, allowSpectate: true, cameraScale: 1.0, cameraAspect: 'wide', calibrationGuide: true, preferredCameraId: undefined, preferredCameraLabel: undefined, offlineLayout: 'modern', autoscoreProvider: 'built-in', autoscoreWsUrl: '' }\r\n  }\r\n}\r\n\r\nfunction save(partial: Partial<SettingsState>) {\r\n  try {\r\n    const prev = load()\r\n    localStorage.setItem(KEY, JSON.stringify({ ...prev, ...partial }))\r\n  } catch {}\r\n}\r\n\r\nexport const useUserSettings = create<SettingsState>((set) => ({\r\n  ...load(),\r\n  setFavoriteDouble: (d) => { save({ favoriteDouble: d }); set({ favoriteDouble: d }) },\r\n  setCallerEnabled: (v) => { save({ callerEnabled: v }); set({ callerEnabled: v }) },\r\n  setCallerVoice: (name) => { save({ callerVoice: name }); set({ callerVoice: name }) },\r\n  setAvgMode: (mode) => { save({ avgMode: mode }); set({ avgMode: mode }) },\r\n  setCallerVolume: (v) => { const vol = Math.max(0, Math.min(1, v)); save({ callerVolume: vol }); set({ callerVolume: vol }) },\r\n  setSpeakCheckoutOnly: (v) => { save({ speakCheckoutOnly: v }); set({ speakCheckoutOnly: v }) },\r\n  setAutoStartOffline: (v) => { save({ autoStartOffline: v }); set({ autoStartOffline: v }) },\r\n  setRememberLastOffline: (v) => { save({ rememberLastOffline: v }); set({ rememberLastOffline: v }) },\r\n  setLastOffline: (cfg) => { const prev = load().lastOffline; const next = { ...prev, ...cfg }; save({ lastOffline: next }); set({ lastOffline: next }) },\r\n  setReducedMotion: (v) => { save({ reducedMotion: v }); set({ reducedMotion: v }) },\r\n  setCompactHeader: (v) => { save({ compactHeader: v }); set({ compactHeader: v }) },\r\n  setAllowSpectate: (v) => { save({ allowSpectate: v }); set({ allowSpectate: v }) },\r\n  setCameraScale: (n) => { const s = Math.max(0.5, Math.min(1.25, n)); save({ cameraScale: s }); set({ cameraScale: s }) },\r\n  setCameraAspect: (a) => { const v = (a === 'square') ? 'square' : 'wide'; save({ cameraAspect: v }); set({ cameraAspect: v }) },\r\n  setAutoscoreProvider: (p) => { save({ autoscoreProvider: p }); set({ autoscoreProvider: p }) },\r\n  setAutoscoreWsUrl: (u) => { save({ autoscoreWsUrl: u }); set({ autoscoreWsUrl: u }) },\r\n  setCalibrationGuide: (v) => { save({ calibrationGuide: v }); set({ calibrationGuide: v }) },\r\n  setPreferredCamera: (id, label) => { save({ preferredCameraId: id, preferredCameraLabel: label }); set({ preferredCameraId: id, preferredCameraLabel: label }) },\r\n  setOfflineLayout: (mode) => { save({ offlineLayout: mode }); set({ offlineLayout: mode }) },\r\n}))\r\n","import { useEffect, useState } from 'react';\r\nimport { formatAvg } from '../utils/stats'\r\nimport { getAllTime } from '../store/profileStats'\r\nimport { STRIPE_CHECKOUT_URL } from '../utils/stripe'\r\nimport { useUserSettings } from '../store/userSettings'\r\n\r\nfunction goTab(tab: string) {\r\n  try { window.dispatchEvent(new CustomEvent('ndn:change-tab', { detail: { tab } })) } catch {}\r\n}\r\n\r\nexport default function Home({ user }: { user?: any }) {\r\n  const [showLegal, setShowLegal] = useState(false);\r\n  const [showHowTo, setShowHowTo] = useState(false);\r\n  const [fact, setFact] = useState<string>('');\r\n  const { lastOffline } = useUserSettings()\r\n\r\n  // Rotate a random \"Did you know?\" each time Home mounts\r\n  useEffect(() => {\r\n    const facts: string[] = [\r\n      'The fastest televised 9-darter took roughly 25 seconds!',\r\n      'A perfect leg (501) can be finished in nine darts.',\r\n      'The inner bull is worth 50; the outer bull is 25.',\r\n      'Standard dartboards are made from compressed sisal fibers.',\r\n      'Doubles and trebles are the thin outer and middle rings.',\r\n      'Professional oche (throw line) distance is 7 ft 9 in (2.37 m).',\r\n      'Dartitis is a real condition affecting a players throwing motion.',\r\n      'Phil Taylor holds a record number of World Championship titles.',\r\n      'Checkout routes often end on a doubleclassic double-out.',\r\n      'The highest 3-dart score is 180 (triple 20, triple 20, triple 20).'\r\n    ];\r\n    const idx = Math.floor(Math.random() * facts.length);\r\n    setFact(facts[idx]);\r\n  }, []);\r\n  return (\r\n    <div className={`${user?.fullAccess ? 'premium-main' : ''} relative min-h-[600px] flex flex-col items-center justify-center overflow-hidden`}>\r\n      {/* Background only */}\r\n      <div className=\"absolute inset-0 z-0\">\r\n        <div className=\"w-full h-full bg-gradient-to-br from-purple-700 via-indigo-500 to-blue-600 opacity-60 blur-2xl\"></div>\r\n        <div className=\"absolute top-20 left-1/4 w-40 h-40 bg-pink-400 rounded-full opacity-30 blur-2xl animate-pulse\"></div>\r\n        <div className=\"absolute bottom-10 right-1/4 w-32 h-32 bg-blue-400 rounded-full opacity-30 blur-2xl animate-pulse\"></div>\r\n      </div>\r\n\r\n      {/* Foreground content */}\r\n  <div className=\"relative z-10 w-full max-w-3xl mx-auto bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10 flex flex-col items-center\">\r\n  <h2 className=\"text-3xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 via-purple-400 to-blue-400 mb-3 md:mb-4 drop-shadow-xl text-center\">Welcome to Nine Dart Nation</h2>\r\n  <p className=\"text-lg md:text-2xl text-white/80 mb-2 font-semibold text-center\">Your home for competitive darts, stats, and online play.</p>\r\n  <p className=\"text-sm md:text-lg text-white/60 mb-4 italic text-center\">\"Where every dart counts and every player matters.\"</p>\r\n\r\n        {/* Did You Know - moved up for full visibility and randomized each mount */}\r\n        {fact && (\r\n          <div className=\"w-full mb-6\">\r\n            <div className=\"mx-auto max-w-xl rounded-full px-5 py-2 text-center text-indigo-100 bg-gradient-to-r from-indigo-600/80 to-fuchsia-600/80 shadow-md\">\r\n              <span className=\"font-semibold\">Did you know?</span> <span className=\"opacity-90\">{fact}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n  <div className=\"flex flex-wrap gap-3 sm:gap-4 md:gap-6 justify-center mb-6 md:mb-8 w-full\">\r\n          <button\r\n            onClick={()=>{\r\n              // Switch to Offline and auto-start using the last saved offline settings\r\n              goTab('offline');\r\n              try {\r\n                // Preconfigure format and starting score\r\n                window.dispatchEvent(new CustomEvent('ndn:offline-format', {\r\n                  detail: {\r\n                    formatType: 'first',\r\n                    formatCount: Number(lastOffline?.firstTo) || 1,\r\n                    startScore: Number(lastOffline?.x01Start) || 501,\r\n                  }\r\n                }))\r\n              } catch {}\r\n              try {\r\n                // Give the Offline tab a tick to mount, then auto-start the chosen mode\r\n                setTimeout(() => {\r\n                  window.dispatchEvent(new CustomEvent('ndn:auto-start', {\r\n                    detail: { mode: lastOffline?.mode || 'X01' }\r\n                  }))\r\n                }, 50)\r\n              } catch {}\r\n            }}\r\n            className=\"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl\"\r\n          >\r\n            <span aria-hidden></span> Start New Match\r\n          </button>\r\n          <button onClick={()=>goTab('stats')} className=\"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl\"><span aria-hidden></span> View Stats</button>\r\n          <button onClick={()=>goTab('online')} className=\"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-green-500 to-blue-400 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl\"><span aria-hidden></span> Join Online League</button>\r\n          <button onClick={()=>{ goTab('offline'); try { window.dispatchEvent(new CustomEvent('ndn:auto-start', { detail: { mode: 'Double Practice' } })) } catch {} }} className=\"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-pink-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl\"><span aria-hidden></span> Practice Doubles</button>\r\n        </div>\r\n\r\n        {/* Removed older stat pill grid; now using BEST/WORST grid below */}\r\n\r\n        {/* Replaced Free/Premium cards with BEST/WORST vertical grid */}\r\n        {(() => {\r\n          const name = user?.username || 'Player 1'\r\n          const all = getAllTime(name)\r\n          const isPremium = !!user?.fullAccess\r\n          const GRID = 'grid grid-cols-[160px,1fr,1fr]';\r\n          const Row = ({ label, left, right, lock }: { label: string; left: string; right: string; lock?: boolean }) => (\r\n            <div className={`relative ${GRID} gap-2 items-center p-2 rounded-lg ${lock ? 'bg-white/5 border border-white/10 overflow-hidden' : 'bg-indigo-500/10 border border-indigo-500/40'} mb-2`}>\r\n              <div className=\"text-[12px] opacity-80 pl-2 text-left\">{label}</div>\r\n              <div className={`text-sm font-semibold text-center ${lock ? 'opacity-50 blur-[0.5px]' : ''}`}>{left}</div>\r\n              <div className={`text-sm font-semibold text-center ${lock ? 'opacity-50 blur-[0.5px]' : ''}`}>{right}</div>\r\n              {lock && (\r\n                <button\r\n                  className=\"absolute inset-0 flex items-center justify-center rounded-lg bg-slate-900/35 hover:bg-slate-900/45 transition\"\r\n                  onClick={() => window.open(STRIPE_CHECKOUT_URL, '_blank', 'noopener')}\r\n                  title=\"Unlock with PREMIUM\"\r\n                >\r\n                  <span className=\"text-[12px] font-semibold\">Unlock PREMIUM</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )\r\n          return (\r\n            <div className=\"w-full mt-2 rounded-2xl p-3 bg-white/5 border border-white/10\">\r\n              <div className={`${GRID} gap-2 mb-2 px-1 items-center`}>\r\n                <div className=\"text-[12px] opacity-0 select-none\">label</div>\r\n                <div className=\"text-[12px] font-semibold text-center\">BEST</div>\r\n                <div className=\"text-[12px] font-semibold text-center\">WORST</div>\r\n              </div>\r\n              <Row label=\"3-dart avg\" left={formatAvg(all.best3||0)} right={formatAvg(all.worst3||0)} />\r\n              <Row label=\"9-dart avg\" left={formatAvg(all.bestFNAvg||0)} right={formatAvg(all.worstFNAvg||0)} lock={!isPremium} />\r\n              <Row label=\"Leg (darts)\" left={String(all.bestLegDarts||0)} right={String(all.worstLegDarts||0)} lock={!isPremium} />\r\n              <Row label=\"Checkout\" left={String(all.bestCheckout||0)} right={''} lock={!isPremium} />\r\n            </div>\r\n          )\r\n        })()}\r\n\r\n  <button className=\"mt-8 md:mt-10 px-8 md:px-10 py-3 md:py-4 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-110 transition-transform text-lg md:text-xl\" onClick={() => setShowHowTo(true)}>How to Play / Getting Started</button>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"w-full py-2 md:py-2 text-center text-white/80 text-xs md:text-sm font-medium absolute bottom-0 left-0 z-20 flex items-center justify-center gap-1 md:gap-2\">\r\n        <button className=\"flex items-center gap-1 md:gap-2 hover:text-white transition\" onClick={() => setShowLegal(true)}>\r\n          <span></span>\r\n          <span style={{ letterSpacing: '0.05em' }}>NINEDARTNATION</span>\r\n        </button>\r\n      </footer>\r\n\r\n      {/* Legal Dialog */}\r\n      {showLegal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"card max-w-lg w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl\">\r\n            <button className=\"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold\" onClick={() => setShowLegal(false)}>Close</button>\r\n            <h3 className=\"text-xl font-bold mb-2\">Legal Information</h3>\r\n            <ul className=\"list-disc pl-5 mb-2\">\r\n              <li>Terms & Conditions: All users must follow fair play and site rules.</li>\r\n              <li>Privacy Policy: Your data is protected and never shared without consent.</li>\r\n              <li>Copyright  {new Date().getFullYear()} NINEDARTNATION. All rights reserved.</li>\r\n              <li>Contact: support@ninedartnation.com</li>\r\n            </ul>\r\n            <p className=\"text-sm text-purple-200\">For full legal details, please contact us or visit our legal page.</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* How to Play Dialog */}\r\n      {showHowTo && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"card max-w-lg w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl\">\r\n            <button className=\"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold\" onClick={() => setShowHowTo(false)}>Close</button>\r\n            <h3 className=\"text-xl font-bold mb-2\">Getting Started</h3>\r\n            <ul className=\"list-disc pl-5 mb-2\">\r\n              <li>Choose a game mode and invite friends or play solo.</li>\r\n              <li>Track your stats and progress in the Stats tab.</li>\r\n              <li>Join the BullseyeDartsLeague for online competition.</li>\r\n              <li>Upgrade to PREMIUM for advanced features and modes.</li>\r\n              <li>Need help? Visit the Settings tab for support and tips.</li>\r\n            </ul>\r\n            <p className=\"text-sm text-purple-200\">Ready to play? Hit \"Start New Match\" and let the darts fly!</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { PropsWithChildren, useEffect, useRef, type CSSProperties } from 'react'\r\n\r\ntype ScrollFadeProps = PropsWithChildren<{\r\n  className?: string\r\n  style?: CSSProperties\r\n}>\r\n\r\nexport default function ScrollFade({ children, className, style }: ScrollFadeProps) {\r\n  const ref = useRef<HTMLDivElement | null>(null)\r\n\r\n  // Clip content under the sticky header so text never shows over it\r\n  useEffect(() => {\r\n    let raf = 0\r\n    const updateClip = () => {\r\n      const wrapper = ref.current\r\n      if (!wrapper) return\r\n  const header = document.getElementById('ndn-header') as HTMLElement | null\r\n      if (!header) {\r\n        wrapper.style.clipPath = ''\r\n        return\r\n      }\r\n  const scroller = document.getElementById('ndn-main-scroll') as HTMLElement | null\r\n  const scrollTop = scroller ? scroller.scrollTop : (window.scrollY || 0)\r\n  // As soon as the user scrolls at all, reserve the full header height so content never slides under it\r\n  const headerH = header.getBoundingClientRect().height\r\n  const overlap = scrollTop > 0 ? headerH : 0\r\n  wrapper.style.marginTop = overlap > 0 ? `${overlap}px` : '0px'\r\n    }\r\n    updateClip()\r\n    const onScrollOrResize = () => {\r\n      if (raf) cancelAnimationFrame(raf)\r\n      raf = requestAnimationFrame(updateClip)\r\n    }\r\n    // Listen to the app's main scroll container instead of window\r\n    const scroller = document.getElementById('ndn-main-scroll')\r\n  scroller?.addEventListener('scroll', onScrollOrResize as any, { passive: true } as any)\r\n    // Fallback to window for safety (mobile or non-standard layouts)\r\n    window.addEventListener('scroll', onScrollOrResize, { passive: true })\r\n    window.addEventListener('resize', onScrollOrResize)\r\n    return () => {\r\n  scroller?.removeEventListener('scroll', onScrollOrResize as any)\r\n      window.removeEventListener('scroll', onScrollOrResize)\r\n      window.removeEventListener('resize', onScrollOrResize)\r\n      if (raf) cancelAnimationFrame(raf)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div ref={ref} className={className} style={style}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\ninterface DartLoaderProps {\r\n  calibrationComplete: boolean;\r\n}\r\n\r\nconst DartLoader: React.FC<DartLoaderProps> = ({ calibrationComplete }) => {\r\n  const [showTick, setShowTick] = useState(false);\r\n  const [fade, setFade] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (calibrationComplete) {\r\n      setShowTick(true);\r\n      setTimeout(() => setFade(true), 1200);\r\n    } else {\r\n      setShowTick(false);\r\n      setFade(false);\r\n    }\r\n  }, [calibrationComplete]);\r\n\r\n  return (\r\n    <div\r\n      className={`flex flex-col items-center justify-center w-full h-full transition-opacity duration-700 ${fade ? 'opacity-0' : 'opacity-100'}`}\r\n      style={{ pointerEvents: 'none', position: 'absolute', inset: 0, zIndex: 10 }}\r\n    >\r\n      <div className=\"flex items-center justify-center\">\r\n        <svg\r\n          width=\"80\"\r\n          height=\"80\"\r\n          viewBox=\"0 0 80 80\"\r\n          className={`animate-spin-slow ${showTick ? 'opacity-0' : 'opacity-100'} transition-opacity duration-500`}\r\n          style={{ transition: 'opacity 0.5s' }}\r\n        >\r\n          {/* Dart graphic */}\r\n          <g>\r\n            <rect x=\"36\" y=\"10\" width=\"8\" height=\"40\" rx=\"3\" fill=\"#a78bfa\" />\r\n            <polygon points=\"40,10 44,22 36,22\" fill=\"#f472b6\" />\r\n            <rect x=\"36\" y=\"50\" width=\"8\" height=\"18\" rx=\"2\" fill=\"#22d3ee\" />\r\n            <polygon points=\"36,68 44,68 40,78\" fill=\"#10b981\" />\r\n          </g>\r\n        </svg>\r\n        {showTick && (\r\n          <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" className=\"absolute\" style={{ left: 0, top: 0 }}>\r\n            <circle cx=\"40\" cy=\"40\" r=\"32\" fill=\"none\" stroke=\"#10b981\" strokeWidth=\"6\" />\r\n            <polyline points=\"28,44 38,54 54,30\" fill=\"none\" stroke=\"#10b981\" strokeWidth=\"6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n          </svg>\r\n        )}\r\n      </div>\r\n      <div className=\"mt-4 text-lg font-semibold text-indigo-200\">\r\n        {showTick ? 'Calibration Complete!' : 'Initializing Camera...'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DartLoader;\r\n","// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nmodule.exports = function () {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then\n}\n","let toSJISFunction\nconst CODEWORDS_COUNT = [\n  0, // Not used\n  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n]\n\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nexports.getSymbolSize = function getSymbolSize (version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined')\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40')\n  return version * 4 + 17\n}\n\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nexports.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {\n  return CODEWORDS_COUNT[version]\n}\n\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nexports.getBCHDigit = function (data) {\n  let digit = 0\n\n  while (data !== 0) {\n    digit++\n    data >>>= 1\n  }\n\n  return digit\n}\n\nexports.setToSJISFunction = function setToSJISFunction (f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.')\n  }\n\n  toSJISFunction = f\n}\n\nexports.isKanjiModeEnabled = function () {\n  return typeof toSJISFunction !== 'undefined'\n}\n\nexports.toSJIS = function toSJIS (kanji) {\n  return toSJISFunction(kanji)\n}\n","exports.L = { bit: 1 }\nexports.M = { bit: 0 }\nexports.Q = { bit: 3 }\nexports.H = { bit: 2 }\n\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'l':\n    case 'low':\n      return exports.L\n\n    case 'm':\n    case 'medium':\n      return exports.M\n\n    case 'q':\n    case 'quartile':\n      return exports.Q\n\n    case 'h':\n    case 'high':\n      return exports.H\n\n    default:\n      throw new Error('Unknown EC Level: ' + string)\n  }\n}\n\nexports.isValid = function isValid (level) {\n  return level && typeof level.bit !== 'undefined' &&\n    level.bit >= 0 && level.bit < 4\n}\n\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","function BitBuffer () {\n  this.buffer = []\n  this.length = 0\n}\n\nBitBuffer.prototype = {\n\n  get: function (index) {\n    const bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1\n  },\n\n  put: function (num, length) {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1)\n    }\n  },\n\n  getLengthInBits: function () {\n    return this.length\n  },\n\n  putBit: function (bit) {\n    const bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0)\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n    }\n\n    this.length++\n  }\n}\n\nmodule.exports = BitBuffer\n","/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix (size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0')\n  }\n\n  this.size = size\n  this.data = new Uint8Array(size * size)\n  this.reservedBit = new Uint8Array(size * size)\n}\n\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  const index = row * this.size + col\n  this.data[index] = value\n  if (reserved) this.reservedBit[index] = true\n}\n\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col]\n}\n\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value\n}\n\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col]\n}\n\nmodule.exports = BitMatrix\n","/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nconst getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  const posCount = Math.floor(version / 7) + 2\n  const size = getSymbolSize(version)\n  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  const positions = [size - 7] // Last coord is always (size - 7)\n\n  for (let i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * let pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const coords = []\n  const pos = exports.getRowColCoords(version)\n  const posLength = pos.length\n\n  for (let i = 0; i < posLength; i++) {\n    for (let j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) || // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n","const getSymbolSize = require('./utils').getSymbolSize\nconst FINDER_PATTERN_SIZE = 7\n\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const size = getSymbolSize(version)\n\n  return [\n    // top-left\n    [0, 0],\n    // top-right\n    [size - FINDER_PATTERN_SIZE, 0],\n    // bottom-left\n    [0, size - FINDER_PATTERN_SIZE]\n  ]\n}\n","/**\n * Data mask pattern reference\n * @type {Object}\n */\nexports.Patterns = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\n\n/**\n * Weighted penalty scores for the undesirable features\n * @type {Object}\n */\nconst PenaltyScores = {\n  N1: 3,\n  N2: 3,\n  N3: 40,\n  N4: 10\n}\n\n/**\n * Check if mask pattern value is valid\n *\n * @param  {Number}  mask    Mask pattern\n * @return {Boolean}         true if valid, false otherwise\n */\nexports.isValid = function isValid (mask) {\n  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7\n}\n\n/**\n * Returns mask pattern from a value.\n * If value is not valid, returns undefined\n *\n * @param  {Number|String} value        Mask pattern value\n * @return {Number}                     Valid mask pattern or undefined\n */\nexports.from = function from (value) {\n  return exports.isValid(value) ? parseInt(value, 10) : undefined\n}\n\n/**\n* Find adjacent modules in row/column with the same color\n* and assign a penalty value.\n*\n* Points: N1 + i\n* i is the amount by which the number of adjacent modules of the same color exceeds 5\n*/\nexports.getPenaltyN1 = function getPenaltyN1 (data) {\n  const size = data.size\n  let points = 0\n  let sameCountCol = 0\n  let sameCountRow = 0\n  let lastCol = null\n  let lastRow = null\n\n  for (let row = 0; row < size; row++) {\n    sameCountCol = sameCountRow = 0\n    lastCol = lastRow = null\n\n    for (let col = 0; col < size; col++) {\n      let module = data.get(row, col)\n      if (module === lastCol) {\n        sameCountCol++\n      } else {\n        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n        lastCol = module\n        sameCountCol = 1\n      }\n\n      module = data.get(col, row)\n      if (module === lastRow) {\n        sameCountRow++\n      } else {\n        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n        lastRow = module\n        sameCountRow = 1\n      }\n    }\n\n    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n  }\n\n  return points\n}\n\n/**\n * Find 2x2 blocks with the same color and assign a penalty value\n *\n * Points: N2 * (m - 1) * (n - 1)\n */\nexports.getPenaltyN2 = function getPenaltyN2 (data) {\n  const size = data.size\n  let points = 0\n\n  for (let row = 0; row < size - 1; row++) {\n    for (let col = 0; col < size - 1; col++) {\n      const last = data.get(row, col) +\n        data.get(row, col + 1) +\n        data.get(row + 1, col) +\n        data.get(row + 1, col + 1)\n\n      if (last === 4 || last === 0) points++\n    }\n  }\n\n  return points * PenaltyScores.N2\n}\n\n/**\n * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n * preceded or followed by light area 4 modules wide\n *\n * Points: N3 * number of pattern found\n */\nexports.getPenaltyN3 = function getPenaltyN3 (data) {\n  const size = data.size\n  let points = 0\n  let bitsCol = 0\n  let bitsRow = 0\n\n  for (let row = 0; row < size; row++) {\n    bitsCol = bitsRow = 0\n    for (let col = 0; col < size; col++) {\n      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col)\n      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++\n\n      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row)\n      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++\n    }\n  }\n\n  return points * PenaltyScores.N3\n}\n\n/**\n * Calculate proportion of dark modules in entire symbol\n *\n * Points: N4 * k\n *\n * k is the rating of the deviation of the proportion of dark modules\n * in the symbol from 50% in steps of 5%\n */\nexports.getPenaltyN4 = function getPenaltyN4 (data) {\n  let darkCount = 0\n  const modulesCount = data.data.length\n\n  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i]\n\n  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10)\n\n  return k * PenaltyScores.N4\n}\n\n/**\n * Return mask value at given position\n *\n * @param  {Number} maskPattern Pattern reference value\n * @param  {Number} i           Row\n * @param  {Number} j           Column\n * @return {Boolean}            Mask value\n */\nfunction getMaskAt (maskPattern, i, j) {\n  switch (maskPattern) {\n    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0\n    case exports.Patterns.PATTERN001: return i % 2 === 0\n    case exports.Patterns.PATTERN010: return j % 3 === 0\n    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0\n    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0\n    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0\n    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0\n    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0\n\n    default: throw new Error('bad maskPattern:' + maskPattern)\n  }\n}\n\n/**\n * Apply a mask pattern to a BitMatrix\n *\n * @param  {Number}    pattern Pattern reference number\n * @param  {BitMatrix} data    BitMatrix data\n */\nexports.applyMask = function applyMask (pattern, data) {\n  const size = data.size\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      if (data.isReserved(row, col)) continue\n      data.xor(row, col, getMaskAt(pattern, row, col))\n    }\n  }\n}\n\n/**\n * Returns the best mask pattern for data\n *\n * @param  {BitMatrix} data\n * @return {Number} Mask pattern reference number\n */\nexports.getBestMask = function getBestMask (data, setupFormatFunc) {\n  const numPatterns = Object.keys(exports.Patterns).length\n  let bestPattern = 0\n  let lowerPenalty = Infinity\n\n  for (let p = 0; p < numPatterns; p++) {\n    setupFormatFunc(p)\n    exports.applyMask(p, data)\n\n    // Calculate penalty\n    const penalty =\n      exports.getPenaltyN1(data) +\n      exports.getPenaltyN2(data) +\n      exports.getPenaltyN3(data) +\n      exports.getPenaltyN4(data)\n\n    // Undo previously applied mask\n    exports.applyMask(p, data)\n\n    if (penalty < lowerPenalty) {\n      lowerPenalty = penalty\n      bestPattern = p\n    }\n  }\n\n  return bestPattern\n}\n","const ECLevel = require('./error-correction-level')\r\n\r\nconst EC_BLOCKS_TABLE = [\r\n// L  M  Q  H\r\n  1, 1, 1, 1,\r\n  1, 1, 1, 1,\r\n  1, 1, 2, 2,\r\n  1, 2, 2, 4,\r\n  1, 2, 4, 4,\r\n  2, 4, 4, 4,\r\n  2, 4, 6, 5,\r\n  2, 4, 6, 6,\r\n  2, 5, 8, 8,\r\n  4, 5, 8, 8,\r\n  4, 5, 8, 11,\r\n  4, 8, 10, 11,\r\n  4, 9, 12, 16,\r\n  4, 9, 16, 16,\r\n  6, 10, 12, 18,\r\n  6, 10, 17, 16,\r\n  6, 11, 16, 19,\r\n  6, 13, 18, 21,\r\n  7, 14, 21, 25,\r\n  8, 16, 20, 25,\r\n  8, 17, 23, 25,\r\n  9, 17, 23, 34,\r\n  9, 18, 25, 30,\r\n  10, 20, 27, 32,\r\n  12, 21, 29, 35,\r\n  12, 23, 34, 37,\r\n  12, 25, 34, 40,\r\n  13, 26, 35, 42,\r\n  14, 28, 38, 45,\r\n  15, 29, 40, 48,\r\n  16, 31, 43, 51,\r\n  17, 33, 45, 54,\r\n  18, 35, 48, 57,\r\n  19, 37, 51, 60,\r\n  19, 38, 53, 63,\r\n  20, 40, 56, 66,\r\n  21, 43, 59, 70,\r\n  22, 45, 62, 74,\r\n  24, 47, 65, 77,\r\n  25, 49, 68, 81\r\n]\r\n\r\nconst EC_CODEWORDS_TABLE = [\r\n// L  M  Q  H\r\n  7, 10, 13, 17,\r\n  10, 16, 22, 28,\r\n  15, 26, 36, 44,\r\n  20, 36, 52, 64,\r\n  26, 48, 72, 88,\r\n  36, 64, 96, 112,\r\n  40, 72, 108, 130,\r\n  48, 88, 132, 156,\r\n  60, 110, 160, 192,\r\n  72, 130, 192, 224,\r\n  80, 150, 224, 264,\r\n  96, 176, 260, 308,\r\n  104, 198, 288, 352,\r\n  120, 216, 320, 384,\r\n  132, 240, 360, 432,\r\n  144, 280, 408, 480,\r\n  168, 308, 448, 532,\r\n  180, 338, 504, 588,\r\n  196, 364, 546, 650,\r\n  224, 416, 600, 700,\r\n  224, 442, 644, 750,\r\n  252, 476, 690, 816,\r\n  270, 504, 750, 900,\r\n  300, 560, 810, 960,\r\n  312, 588, 870, 1050,\r\n  336, 644, 952, 1110,\r\n  360, 700, 1020, 1200,\r\n  390, 728, 1050, 1260,\r\n  420, 784, 1140, 1350,\r\n  450, 812, 1200, 1440,\r\n  480, 868, 1290, 1530,\r\n  510, 924, 1350, 1620,\r\n  540, 980, 1440, 1710,\r\n  570, 1036, 1530, 1800,\r\n  570, 1064, 1590, 1890,\r\n  600, 1120, 1680, 1980,\r\n  630, 1204, 1770, 2100,\r\n  660, 1260, 1860, 2220,\r\n  720, 1316, 1950, 2310,\r\n  750, 1372, 2040, 2430\r\n]\r\n\r\n/**\r\n * Returns the number of error correction block that the QR Code should contain\r\n * for the specified version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction blocks\r\n */\r\nexports.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the number of error correction codewords to use for the specified\r\n * version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction codewords\r\n */\r\nexports.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n","const EXP_TABLE = new Uint8Array(512)\nconst LOG_TABLE = new Uint8Array(256)\n/**\n * Precompute the log and anti-log tables for faster computation later\n *\n * For each possible value in the galois field 2^8, we will pre-compute\n * the logarithm and anti-logarithm (exponential) of this value\n *\n * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}\n */\n;(function initTables () {\n  let x = 1\n  for (let i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x\n    LOG_TABLE[x] = i\n\n    x <<= 1 // multiply by 2\n\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D\n    }\n  }\n\n  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n  for (let i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255]\n  }\n}())\n\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.log = function log (n) {\n  if (n < 1) throw new Error('log(' + n + ')')\n  return LOG_TABLE[n]\n}\n\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.exp = function exp (n) {\n  return EXP_TABLE[n]\n}\n\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nexports.mul = function mul (x, y) {\n  if (x === 0 || y === 0) return 0\n\n  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]\n}\n","const GF = require('./galois-field')\n\n/**\n * Multiplies two polynomials inside Galois Field\n *\n * @param  {Uint8Array} p1 Polynomial\n * @param  {Uint8Array} p2 Polynomial\n * @return {Uint8Array}    Product of p1 and p2\n */\nexports.mul = function mul (p1, p2) {\n  const coeff = new Uint8Array(p1.length + p2.length - 1)\n\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\n    }\n  }\n\n  return coeff\n}\n\n/**\n * Calculate the remainder of polynomials division\n *\n * @param  {Uint8Array} divident Polynomial\n * @param  {Uint8Array} divisor  Polynomial\n * @return {Uint8Array}          Remainder\n */\nexports.mod = function mod (divident, divisor) {\n  let result = new Uint8Array(divident)\n\n  while ((result.length - divisor.length) >= 0) {\n    const coeff = result[0]\n\n    for (let i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff)\n    }\n\n    // remove all zeros from buffer head\n    let offset = 0\n    while (offset < result.length && result[offset] === 0) offset++\n    result = result.slice(offset)\n  }\n\n  return result\n}\n\n/**\n * Generate an irreducible generator polynomial of specified degree\n * (used by Reed-Solomon encoder)\n *\n * @param  {Number} degree Degree of the generator polynomial\n * @return {Uint8Array}    Buffer containing polynomial coefficients\n */\nexports.generateECPolynomial = function generateECPolynomial (degree) {\n  let poly = new Uint8Array([1])\n  for (let i = 0; i < degree; i++) {\n    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]))\n  }\n\n  return poly\n}\n","const Polynomial = require('./polynomial')\n\nfunction ReedSolomonEncoder (degree) {\n  this.genPoly = undefined\n  this.degree = degree\n\n  if (this.degree) this.initialize(this.degree)\n}\n\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize (degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree\n  this.genPoly = Polynomial.generateECPolynomial(this.degree)\n}\n\n/**\n * Encodes a chunk of data\n *\n * @param  {Uint8Array} data Buffer containing input data\n * @return {Uint8Array}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode (data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized')\n  }\n\n  // Calculate EC for this data block\n  // extends data size to data+genPoly size\n  const paddedData = new Uint8Array(data.length + this.degree)\n  paddedData.set(data)\n\n  // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n  const remainder = Polynomial.mod(paddedData, this.genPoly)\n\n  // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n  const start = this.degree - remainder.length\n  if (start > 0) {\n    const buff = new Uint8Array(this.degree)\n    buff.set(remainder, start)\n\n    return buff\n  }\n\n  return remainder\n}\n\nmodule.exports = ReedSolomonEncoder\n","/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nexports.isValid = function isValid (version) {\n  return !isNaN(version) && version >= 1 && version <= 40\n}\n","const numeric = '[0-9]+'\nconst alphanumeric = '[A-Z $%*+\\\\-./:]+'\nlet kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+'\nkanji = kanji.replace(/u/g, '\\\\u')\n\nconst byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+'\n\nexports.KANJI = new RegExp(kanji, 'g')\nexports.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g')\nexports.BYTE = new RegExp(byte, 'g')\nexports.NUMERIC = new RegExp(numeric, 'g')\nexports.ALPHANUMERIC = new RegExp(alphanumeric, 'g')\n\nconst TEST_KANJI = new RegExp('^' + kanji + '$')\nconst TEST_NUMERIC = new RegExp('^' + numeric + '$')\nconst TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$')\n\nexports.testKanji = function testKanji (str) {\n  return TEST_KANJI.test(str)\n}\n\nexports.testNumeric = function testNumeric (str) {\n  return TEST_NUMERIC.test(str)\n}\n\nexports.testAlphanumeric = function testAlphanumeric (str) {\n  return TEST_ALPHANUMERIC.test(str)\n}\n","const VersionCheck = require('./version-check')\nconst Regex = require('./regex')\n\n/**\n * Numeric mode encodes data from the decimal digit set (0 - 9)\n * (byte values 30HEX to 39HEX).\n * Normally, 3 data characters are represented by 10 bits.\n *\n * @type {Object}\n */\nexports.NUMERIC = {\n  id: 'Numeric',\n  bit: 1 << 0,\n  ccBits: [10, 12, 14]\n}\n\n/**\n * Alphanumeric mode encodes data from a set of 45 characters,\n * i.e. 10 numeric digits (0 - 9),\n *      26 alphabetic characters (A - Z),\n *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n * Normally, two input characters are represented by 11 bits.\n *\n * @type {Object}\n */\nexports.ALPHANUMERIC = {\n  id: 'Alphanumeric',\n  bit: 1 << 1,\n  ccBits: [9, 11, 13]\n}\n\n/**\n * In byte mode, data is encoded at 8 bits per character.\n *\n * @type {Object}\n */\nexports.BYTE = {\n  id: 'Byte',\n  bit: 1 << 2,\n  ccBits: [8, 16, 16]\n}\n\n/**\n * The Kanji mode efficiently encodes Kanji characters in accordance with\n * the Shift JIS system based on JIS X 0208.\n * The Shift JIS values are shifted from the JIS X 0208 values.\n * JIS X 0208 gives details of the shift coded representation.\n * Each two-byte character value is compacted to a 13-bit binary codeword.\n *\n * @type {Object}\n */\nexports.KANJI = {\n  id: 'Kanji',\n  bit: 1 << 3,\n  ccBits: [8, 10, 12]\n}\n\n/**\n * Mixed mode will contain a sequences of data in a combination of any of\n * the modes described above\n *\n * @type {Object}\n */\nexports.MIXED = {\n  bit: -1\n}\n\n/**\n * Returns the number of bits needed to store the data length\n * according to QR Code specifications.\n *\n * @param  {Mode}   mode    Data mode\n * @param  {Number} version QR Code version\n * @return {Number}         Number of bits\n */\nexports.getCharCountIndicator = function getCharCountIndicator (mode, version) {\n  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)\n\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid version: ' + version)\n  }\n\n  if (version >= 1 && version < 10) return mode.ccBits[0]\n  else if (version < 27) return mode.ccBits[1]\n  return mode.ccBits[2]\n}\n\n/**\n * Returns the most efficient mode to store the specified data\n *\n * @param  {String} dataStr Input data string\n * @return {Mode}           Best mode\n */\nexports.getBestModeForData = function getBestModeForData (dataStr) {\n  if (Regex.testNumeric(dataStr)) return exports.NUMERIC\n  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC\n  else if (Regex.testKanji(dataStr)) return exports.KANJI\n  else return exports.BYTE\n}\n\n/**\n * Return mode name as string\n *\n * @param {Mode} mode Mode object\n * @returns {String}  Mode name\n */\nexports.toString = function toString (mode) {\n  if (mode && mode.id) return mode.id\n  throw new Error('Invalid mode')\n}\n\n/**\n * Check if input param is a valid mode object\n *\n * @param   {Mode}    mode Mode object\n * @returns {Boolean} True if valid mode, false otherwise\n */\nexports.isValid = function isValid (mode) {\n  return mode && mode.bit && mode.ccBits\n}\n\n/**\n * Get mode object from its name\n *\n * @param   {String} string Mode name\n * @returns {Mode}          Mode object\n */\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'numeric':\n      return exports.NUMERIC\n    case 'alphanumeric':\n      return exports.ALPHANUMERIC\n    case 'kanji':\n      return exports.KANJI\n    case 'byte':\n      return exports.BYTE\n    default:\n      throw new Error('Unknown mode: ' + string)\n  }\n}\n\n/**\n * Returns mode from a value.\n * If value is not a valid mode, returns defaultValue\n *\n * @param  {Mode|String} value        Encoding mode\n * @param  {Mode}        defaultValue Fallback value\n * @return {Mode}                     Encoding mode\n */\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","const Utils = require('./utils')\nconst ECCode = require('./error-correction-code')\nconst ECLevel = require('./error-correction-level')\nconst Mode = require('./mode')\nconst VersionCheck = require('./version-check')\n\n// Generator polynomial used to encode version information\nconst G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0)\nconst G18_BCH = Utils.getBCHDigit(G18)\n\nfunction getBestVersionForDataLength (mode, length, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\nfunction getReservedBitsCount (mode, version) {\n  // Character count indicator + mode indicator bits\n  return Mode.getCharCountIndicator(mode, version) + 4\n}\n\nfunction getTotalBitsFromDataArray (segments, version) {\n  let totalBits = 0\n\n  segments.forEach(function (data) {\n    const reservedBits = getReservedBitsCount(data.mode, version)\n    totalBits += reservedBits + data.getBitsLength()\n  })\n\n  return totalBits\n}\n\nfunction getBestVersionForMixedData (segments, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    const length = getTotalBitsFromDataArray(segments, currentVersion)\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Returns version number from a value.\n * If value is not a valid version, returns defaultValue\n *\n * @param  {Number|String} value        QR Code version\n * @param  {Number}        defaultValue Fallback value\n * @return {Number}                     QR Code version number\n */\nexports.from = function from (value, defaultValue) {\n  if (VersionCheck.isValid(value)) {\n    return parseInt(value, 10)\n  }\n\n  return defaultValue\n}\n\n/**\n * Returns how much data can be stored with the specified QR code version\n * and error correction level\n *\n * @param  {Number} version              QR Code version (1-40)\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Mode}   mode                 Data mode\n * @return {Number}                      Quantity of storable data\n */\nexports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  // Use Byte mode as default\n  if (typeof mode === 'undefined') mode = Mode.BYTE\n\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  if (mode === Mode.MIXED) return dataTotalCodewordsBits\n\n  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version)\n\n  // Return max number of storable codewords\n  switch (mode) {\n    case Mode.NUMERIC:\n      return Math.floor((usableBits / 10) * 3)\n\n    case Mode.ALPHANUMERIC:\n      return Math.floor((usableBits / 11) * 2)\n\n    case Mode.KANJI:\n      return Math.floor(usableBits / 13)\n\n    case Mode.BYTE:\n    default:\n      return Math.floor(usableBits / 8)\n  }\n}\n\n/**\n * Returns the minimum version needed to contain the amount of data\n *\n * @param  {Segment} data                    Segment of data\n * @param  {Number} [errorCorrectionLevel=H] Error correction level\n * @param  {Mode} mode                       Data mode\n * @return {Number}                          QR Code version\n */\nexports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {\n  let seg\n\n  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M)\n\n  if (Array.isArray(data)) {\n    if (data.length > 1) {\n      return getBestVersionForMixedData(data, ecl)\n    }\n\n    if (data.length === 0) {\n      return 1\n    }\n\n    seg = data[0]\n  } else {\n    seg = data\n  }\n\n  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)\n}\n\n/**\n * Returns version information with relative error correction bits\n *\n * The version information is included in QR Code symbols of version 7 or larger.\n * It consists of an 18-bit sequence containing 6 data bits,\n * with 12 error correction bits calculated using the (18, 6) Golay code.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Encoded version info bits\n */\nexports.getEncodedBits = function getEncodedBits (version) {\n  if (!VersionCheck.isValid(version) || version < 7) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  let d = version << 12\n\n  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {\n    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH))\n  }\n\n  return (version << 12) | d\n}\n","const Utils = require('./utils')\n\nconst G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0)\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1)\nconst G15_BCH = Utils.getBCHDigit(G15)\n\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nexports.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {\n  const data = ((errorCorrectionLevel.bit << 3) | mask)\n  let d = data << 10\n\n  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH))\n  }\n\n  // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n  return ((data << 10) | d) ^ G15_MASK\n}\n","const Mode = require('./mode')\n\nfunction NumericData (data) {\n  this.mode = Mode.NUMERIC\n  this.data = data.toString()\n}\n\nNumericData.getBitsLength = function getBitsLength (length) {\n  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)\n}\n\nNumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nNumericData.prototype.getBitsLength = function getBitsLength () {\n  return NumericData.getBitsLength(this.data.length)\n}\n\nNumericData.prototype.write = function write (bitBuffer) {\n  let i, group, value\n\n  // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, 10)\n  }\n\n  // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n  const remainingNum = this.data.length - i\n  if (remainingNum > 0) {\n    group = this.data.substr(i)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, remainingNum * 3 + 1)\n  }\n}\n\nmodule.exports = NumericData\n","const Mode = require('./mode')\n\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nconst ALPHA_NUM_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n  ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n]\n\nfunction AlphanumericData (data) {\n  this.mode = Mode.ALPHANUMERIC\n  this.data = data\n}\n\nAlphanumericData.getBitsLength = function getBitsLength (length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2)\n}\n\nAlphanumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength () {\n  return AlphanumericData.getBitsLength(this.data.length)\n}\n\nAlphanumericData.prototype.write = function write (bitBuffer) {\n  let i\n\n  // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45\n\n    // The character value of the second digit is added to the product\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1])\n\n    // The sum is then stored as 11-bit binary number\n    bitBuffer.put(value, 11)\n  }\n\n  // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6)\n  }\n}\n\nmodule.exports = AlphanumericData\n","const Mode = require('./mode')\n\nfunction ByteData (data) {\n  this.mode = Mode.BYTE\n  if (typeof (data) === 'string') {\n    this.data = new TextEncoder().encode(data)\n  } else {\n    this.data = new Uint8Array(data)\n  }\n}\n\nByteData.getBitsLength = function getBitsLength (length) {\n  return length * 8\n}\n\nByteData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nByteData.prototype.getBitsLength = function getBitsLength () {\n  return ByteData.getBitsLength(this.data.length)\n}\n\nByteData.prototype.write = function (bitBuffer) {\n  for (let i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8)\n  }\n}\n\nmodule.exports = ByteData\n","const Mode = require('./mode')\nconst Utils = require('./utils')\n\nfunction KanjiData (data) {\n  this.mode = Mode.KANJI\n  this.data = data\n}\n\nKanjiData.getBitsLength = function getBitsLength (length) {\n  return length * 13\n}\n\nKanjiData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nKanjiData.prototype.getBitsLength = function getBitsLength () {\n  return KanjiData.getBitsLength(this.data.length)\n}\n\nKanjiData.prototype.write = function (bitBuffer) {\n  let i\n\n  // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n  for (i = 0; i < this.data.length; i++) {\n    let value = Utils.toSJIS(this.data[i])\n\n    // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140\n\n    // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140\n    } else {\n      throw new Error(\n        'Invalid SJIS character: ' + this.data[i] + '\\n' +\n        'Make sure your charset is UTF-8')\n    }\n\n    // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff)\n\n    // Convert result to a 13-bit binary string\n    bitBuffer.put(value, 13)\n  }\n}\n\nmodule.exports = KanjiData\n","'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n","const Mode = require('./mode')\nconst NumericData = require('./numeric-data')\nconst AlphanumericData = require('./alphanumeric-data')\nconst ByteData = require('./byte-data')\nconst KanjiData = require('./kanji-data')\nconst Regex = require('./regex')\nconst Utils = require('./utils')\nconst dijkstra = require('dijkstrajs')\n\n/**\n * Returns UTF8 byte length\n *\n * @param  {String} str Input string\n * @return {Number}     Number of byte\n */\nfunction getStringByteLength (str) {\n  return unescape(encodeURIComponent(str)).length\n}\n\n/**\n * Get a list of segments of the specified mode\n * from a string\n *\n * @param  {Mode}   mode Segment mode\n * @param  {String} str  String to process\n * @return {Array}       Array of object with segments data\n */\nfunction getSegments (regex, mode, str) {\n  const segments = []\n  let result\n\n  while ((result = regex.exec(str)) !== null) {\n    segments.push({\n      data: result[0],\n      index: result.index,\n      mode: mode,\n      length: result[0].length\n    })\n  }\n\n  return segments\n}\n\n/**\n * Extracts a series of segments with the appropriate\n * modes from a string\n *\n * @param  {String} dataStr Input string\n * @return {Array}          Array of object with segments data\n */\nfunction getSegmentsFromString (dataStr) {\n  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr)\n  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr)\n  let byteSegs\n  let kanjiSegs\n\n  if (Utils.isKanjiModeEnabled()) {\n    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr)\n    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr)\n  } else {\n    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr)\n    kanjiSegs = []\n  }\n\n  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs)\n\n  return segs\n    .sort(function (s1, s2) {\n      return s1.index - s2.index\n    })\n    .map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      }\n    })\n}\n\n/**\n * Returns how many bits are needed to encode a string of\n * specified length with the specified mode\n *\n * @param  {Number} length String length\n * @param  {Mode} mode     Segment mode\n * @return {Number}        Bit length\n */\nfunction getSegmentBitsLength (length, mode) {\n  switch (mode) {\n    case Mode.NUMERIC:\n      return NumericData.getBitsLength(length)\n    case Mode.ALPHANUMERIC:\n      return AlphanumericData.getBitsLength(length)\n    case Mode.KANJI:\n      return KanjiData.getBitsLength(length)\n    case Mode.BYTE:\n      return ByteData.getBitsLength(length)\n  }\n}\n\n/**\n * Merges adjacent segments which have the same mode\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction mergeSegments (segs) {\n  return segs.reduce(function (acc, curr) {\n    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null\n    if (prevSeg && prevSeg.mode === curr.mode) {\n      acc[acc.length - 1].data += curr.data\n      return acc\n    }\n\n    acc.push(curr)\n    return acc\n  }, [])\n}\n\n/**\n * Generates a list of all possible nodes combination which\n * will be used to build a segments graph.\n *\n * Nodes are divided by groups. Each group will contain a list of all the modes\n * in which is possible to encode the given text.\n *\n * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n * The group for '12345' will contain then 3 objects, one for each\n * possible encoding mode.\n *\n * Each node represents a possible segment.\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction buildNodes (segs) {\n  const nodes = []\n  for (let i = 0; i < segs.length; i++) {\n    const seg = segs[i]\n\n    switch (seg.mode) {\n      case Mode.NUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.ALPHANUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.KANJI:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n        break\n      case Mode.BYTE:\n        nodes.push([\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n    }\n  }\n\n  return nodes\n}\n\n/**\n * Builds a graph from a list of nodes.\n * All segments in each node group will be connected with all the segments of\n * the next group and so on.\n *\n * At each connection will be assigned a weight depending on the\n * segment's byte length.\n *\n * @param  {Array} nodes    Array of object with segments data\n * @param  {Number} version QR Code version\n * @return {Object}         Graph of all possible segments\n */\nfunction buildGraph (nodes, version) {\n  const table = {}\n  const graph = { start: {} }\n  let prevNodeIds = ['start']\n\n  for (let i = 0; i < nodes.length; i++) {\n    const nodeGroup = nodes[i]\n    const currentNodeIds = []\n\n    for (let j = 0; j < nodeGroup.length; j++) {\n      const node = nodeGroup[j]\n      const key = '' + i + j\n\n      currentNodeIds.push(key)\n      table[key] = { node: node, lastCount: 0 }\n      graph[key] = {}\n\n      for (let n = 0; n < prevNodeIds.length; n++) {\n        const prevNodeId = prevNodeIds[n]\n\n        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n          graph[prevNodeId][key] =\n            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode)\n\n          table[prevNodeId].lastCount += node.length\n        } else {\n          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length\n\n          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n            4 + Mode.getCharCountIndicator(node.mode, version) // switch cost\n        }\n      }\n    }\n\n    prevNodeIds = currentNodeIds\n  }\n\n  for (let n = 0; n < prevNodeIds.length; n++) {\n    graph[prevNodeIds[n]].end = 0\n  }\n\n  return { map: graph, table: table }\n}\n\n/**\n * Builds a segment from a specified data and mode.\n * If a mode is not specified, the more suitable will be used.\n *\n * @param  {String} data             Input data\n * @param  {Mode | String} modesHint Data mode\n * @return {Segment}                 Segment\n */\nfunction buildSingleSegment (data, modesHint) {\n  let mode\n  const bestMode = Mode.getBestModeForData(data)\n\n  mode = Mode.from(modesHint, bestMode)\n\n  // Make sure data can be encoded\n  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {\n    throw new Error('\"' + data + '\"' +\n      ' cannot be encoded with mode ' + Mode.toString(mode) +\n      '.\\n Suggested mode is: ' + Mode.toString(bestMode))\n  }\n\n  // Use Mode.BYTE if Kanji support is disabled\n  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {\n    mode = Mode.BYTE\n  }\n\n  switch (mode) {\n    case Mode.NUMERIC:\n      return new NumericData(data)\n\n    case Mode.ALPHANUMERIC:\n      return new AlphanumericData(data)\n\n    case Mode.KANJI:\n      return new KanjiData(data)\n\n    case Mode.BYTE:\n      return new ByteData(data)\n  }\n}\n\n/**\n * Builds a list of segments from an array.\n * Array can contain Strings or Objects with segment's info.\n *\n * For each item which is a string, will be generated a segment with the given\n * string and the more appropriate encoding mode.\n *\n * For each item which is an object, will be generated a segment with the given\n * data and mode.\n * Objects must contain at least the property \"data\".\n * If property \"mode\" is not present, the more suitable mode will be used.\n *\n * @param  {Array} array Array of objects with segments data\n * @return {Array}       Array of Segments\n */\nexports.fromArray = function fromArray (array) {\n  return array.reduce(function (acc, seg) {\n    if (typeof seg === 'string') {\n      acc.push(buildSingleSegment(seg, null))\n    } else if (seg.data) {\n      acc.push(buildSingleSegment(seg.data, seg.mode))\n    }\n\n    return acc\n  }, [])\n}\n\n/**\n * Builds an optimized sequence of segments from a string,\n * which will produce the shortest possible bitstream.\n *\n * @param  {String} data    Input string\n * @param  {Number} version QR Code version\n * @return {Array}          Array of segments\n */\nexports.fromString = function fromString (data, version) {\n  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n\n  const nodes = buildNodes(segs)\n  const graph = buildGraph(nodes, version)\n  const path = dijkstra.find_path(graph.map, 'start', 'end')\n\n  const optimizedSegs = []\n  for (let i = 1; i < path.length - 1; i++) {\n    optimizedSegs.push(graph.table[path[i]].node)\n  }\n\n  return exports.fromArray(mergeSegments(optimizedSegs))\n}\n\n/**\n * Splits a string in various segments with the modes which\n * best represent their content.\n * The produced segments are far from being optimized.\n * The output of this function is only used to estimate a QR Code version\n * which may contain the data.\n *\n * @param  {string} data Input string\n * @return {Array}       Array of segments\n */\nexports.rawSplit = function rawSplit (data) {\n  return exports.fromArray(\n    getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n  )\n}\n","const Utils = require('./utils')\nconst ECLevel = require('./error-correction-level')\nconst BitBuffer = require('./bit-buffer')\nconst BitMatrix = require('./bit-matrix')\nconst AlignmentPattern = require('./alignment-pattern')\nconst FinderPattern = require('./finder-pattern')\nconst MaskPattern = require('./mask-pattern')\nconst ECCode = require('./error-correction-code')\nconst ReedSolomonEncoder = require('./reed-solomon-encoder')\nconst Version = require('./version')\nconst FormatInfo = require('./format-info')\nconst Mode = require('./mode')\nconst Segments = require('./segments')\n\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern (matrix, version) {\n  const size = matrix.size\n  const pos = FinderPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue\n\n      for (let c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue\n\n        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern (matrix) {\n  const size = matrix.size\n\n  for (let r = 8; r < size - 8; r++) {\n    const value = r % 2 === 0\n    matrix.set(r, 6, value, true)\n    matrix.set(6, r, value, true)\n  }\n}\n\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern (matrix, version) {\n  const pos = AlignmentPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -2; r <= 2; r++) {\n      for (let c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 ||\n          (r === 0 && c === 0)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo (matrix, version) {\n  const size = matrix.size\n  const bits = Version.getEncodedBits(version)\n  let row, col, mod\n\n  for (let i = 0; i < 18; i++) {\n    row = Math.floor(i / 3)\n    col = i % 3 + size - 8 - 3\n    mod = ((bits >> i) & 1) === 1\n\n    matrix.set(row, col, mod, true)\n    matrix.set(col, row, mod, true)\n  }\n}\n\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {\n  const size = matrix.size\n  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern)\n  let i, mod\n\n  for (i = 0; i < 15; i++) {\n    mod = ((bits >> i) & 1) === 1\n\n    // vertical\n    if (i < 6) {\n      matrix.set(i, 8, mod, true)\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true)\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true)\n    }\n\n    // horizontal\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true)\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true)\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true)\n    }\n  }\n\n  // fixed module\n  matrix.set(size - 8, 8, 1, true)\n}\n\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix}  matrix Modules matrix\n * @param  {Uint8Array} data   Data codewords\n */\nfunction setupData (matrix, data) {\n  const size = matrix.size\n  let inc = -1\n  let row = size - 1\n  let bitIndex = 7\n  let byteIndex = 0\n\n  for (let col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--\n\n    while (true) {\n      for (let c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          let dark = false\n\n          if (byteIndex < data.length) {\n            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1)\n          }\n\n          matrix.set(row, col - c, dark)\n          bitIndex--\n\n          if (bitIndex === -1) {\n            byteIndex++\n            bitIndex = 7\n          }\n        }\n      }\n\n      row += inc\n\n      if (row < 0 || size <= row) {\n        row -= inc\n        inc = -inc\n        break\n      }\n    }\n  }\n}\n\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Uint8Array}                    Buffer containing encoded codewords\n */\nfunction createData (version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  const buffer = new BitBuffer()\n\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4)\n\n    // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version))\n\n    // add binary data sequence to buffer\n    data.write(buffer)\n  })\n\n  // Calculate required number of bits\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4)\n  }\n\n  // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0)\n  }\n\n  // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8\n  for (let i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8)\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel)\n}\n\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Uint8Array}                     Buffer containing encoded codewords\n */\nfunction createCodewords (bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewords = totalCodewords - ecTotalCodewords\n\n  // Total number of blocks\n  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel)\n\n  // Calculate how many blocks each group should contain\n  const blocksInGroup2 = totalCodewords % ecTotalBlocks\n  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2\n\n  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks)\n\n  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks)\n  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1\n\n  // Number of EC codewords is the same for both groups\n  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1\n\n  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n  const rs = new ReedSolomonEncoder(ecCount)\n\n  let offset = 0\n  const dcData = new Array(ecTotalBlocks)\n  const ecData = new Array(ecTotalBlocks)\n  let maxDataSize = 0\n  const buffer = new Uint8Array(bitBuffer.buffer)\n\n  // Divide the buffer into the required number of blocks\n  for (let b = 0; b < ecTotalBlocks; b++) {\n    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2\n\n    // extract a block of data from buffer\n    dcData[b] = buffer.slice(offset, offset + dataSize)\n\n    // Calculate EC codewords for this data block\n    ecData[b] = rs.encode(dcData[b])\n\n    offset += dataSize\n    maxDataSize = Math.max(maxDataSize, dataSize)\n  }\n\n  // Create final data\n  // Interleave the data and error correction codewords from each block\n  const data = new Uint8Array(totalCodewords)\n  let index = 0\n  let i, r\n\n  // Add data codewords\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i]\n      }\n    }\n  }\n\n  // Apped EC codewords\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i]\n    }\n  }\n\n  return data\n}\n\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol (data, version, errorCorrectionLevel, maskPattern) {\n  let segments\n\n  if (Array.isArray(data)) {\n    segments = Segments.fromArray(data)\n  } else if (typeof data === 'string') {\n    let estimatedVersion = version\n\n    if (!estimatedVersion) {\n      const rawSegments = Segments.rawSplit(data)\n\n      // Estimate best version that can contain raw splitted segments\n      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel)\n    }\n\n    // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n    segments = Segments.fromString(data, estimatedVersion || 40)\n  } else {\n    throw new Error('Invalid data')\n  }\n\n  // Get the min version that can contain data\n  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel)\n\n  // If no version is found, data cannot be stored\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code')\n  }\n\n  // If not specified, use min version as default\n  if (!version) {\n    version = bestVersion\n\n  // Check if the specified version can contain the data\n  } else if (version < bestVersion) {\n    throw new Error('\\n' +\n      'The chosen QR Code version cannot contain this amount of data.\\n' +\n      'Minimum version required to store current data is: ' + bestVersion + '.\\n'\n    )\n  }\n\n  const dataBits = createData(version, errorCorrectionLevel, segments)\n\n  // Allocate matrix buffer\n  const moduleCount = Utils.getSymbolSize(version)\n  const modules = new BitMatrix(moduleCount)\n\n  // Add function modules\n  setupFinderPattern(modules, version)\n  setupTimingPattern(modules)\n  setupAlignmentPattern(modules, version)\n\n  // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n  setupFormatInfo(modules, errorCorrectionLevel, 0)\n\n  if (version >= 7) {\n    setupVersionInfo(modules, version)\n  }\n\n  // Add data codewords\n  setupData(modules, dataBits)\n\n  if (isNaN(maskPattern)) {\n    // Find best mask pattern\n    maskPattern = MaskPattern.getBestMask(modules,\n      setupFormatInfo.bind(null, modules, errorCorrectionLevel))\n  }\n\n  // Apply mask pattern\n  MaskPattern.applyMask(maskPattern, modules)\n\n  // Replace format info bits with correct values\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern)\n\n  return {\n    modules: modules,\n    version: version,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern,\n    segments: segments\n  }\n}\n\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nexports.create = function create (data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text')\n  }\n\n  let errorCorrectionLevel = ECLevel.M\n  let version\n  let mask\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M)\n    version = Version.from(options.version)\n    mask = MaskPattern.from(options.maskPattern)\n\n    if (options.toSJISFunc) {\n      Utils.setToSJISFunction(options.toSJISFunc)\n    }\n  }\n\n  return createSymbol(data, version, errorCorrectionLevel, mask)\n}\n","function hex2rgba (hex) {\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex !== 'string') {\n    throw new Error('Color should be defined as hex string')\n  }\n\n  let hexCode = hex.slice().replace('#', '').split('')\n  if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n    throw new Error('Invalid hex color: ' + hex)\n  }\n\n  // Convert from short to long form (fff -> ffffff)\n  if (hexCode.length === 3 || hexCode.length === 4) {\n    hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n      return [c, c]\n    }))\n  }\n\n  // Add default alpha value\n  if (hexCode.length === 6) hexCode.push('F', 'F')\n\n  const hexValue = parseInt(hexCode.join(''), 16)\n\n  return {\n    r: (hexValue >> 24) & 255,\n    g: (hexValue >> 16) & 255,\n    b: (hexValue >> 8) & 255,\n    a: hexValue & 255,\n    hex: '#' + hexCode.slice(0, 6).join('')\n  }\n}\n\nexports.getOptions = function getOptions (options) {\n  if (!options) options = {}\n  if (!options.color) options.color = {}\n\n  const margin = typeof options.margin === 'undefined' ||\n    options.margin === null ||\n    options.margin < 0\n    ? 4\n    : options.margin\n\n  const width = options.width && options.width >= 21 ? options.width : undefined\n  const scale = options.scale || 4\n\n  return {\n    width: width,\n    scale: width ? 4 : scale,\n    margin: margin,\n    color: {\n      dark: hex2rgba(options.color.dark || '#000000ff'),\n      light: hex2rgba(options.color.light || '#ffffffff')\n    },\n    type: options.type,\n    rendererOpts: options.rendererOpts || {}\n  }\n}\n\nexports.getScale = function getScale (qrSize, opts) {\n  return opts.width && opts.width >= qrSize + opts.margin * 2\n    ? opts.width / (qrSize + opts.margin * 2)\n    : opts.scale\n}\n\nexports.getImageWidth = function getImageWidth (qrSize, opts) {\n  const scale = exports.getScale(qrSize, opts)\n  return Math.floor((qrSize + opts.margin * 2) * scale)\n}\n\nexports.qrToImageData = function qrToImageData (imgData, qr, opts) {\n  const size = qr.modules.size\n  const data = qr.modules.data\n  const scale = exports.getScale(size, opts)\n  const symbolSize = Math.floor((size + opts.margin * 2) * scale)\n  const scaledMargin = opts.margin * scale\n  const palette = [opts.color.light, opts.color.dark]\n\n  for (let i = 0; i < symbolSize; i++) {\n    for (let j = 0; j < symbolSize; j++) {\n      let posDst = (i * symbolSize + j) * 4\n      let pxColor = opts.color.light\n\n      if (i >= scaledMargin && j >= scaledMargin &&\n        i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n        const iSrc = Math.floor((i - scaledMargin) / scale)\n        const jSrc = Math.floor((j - scaledMargin) / scale)\n        pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0]\n      }\n\n      imgData[posDst++] = pxColor.r\n      imgData[posDst++] = pxColor.g\n      imgData[posDst++] = pxColor.b\n      imgData[posDst] = pxColor.a\n    }\n  }\n}\n","const Utils = require('./utils')\n\nfunction clearCanvas (ctx, canvas, size) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (!canvas.style) canvas.style = {}\n  canvas.height = size\n  canvas.width = size\n  canvas.style.height = size + 'px'\n  canvas.style.width = size + 'px'\n}\n\nfunction getCanvasElement () {\n  try {\n    return document.createElement('canvas')\n  } catch (e) {\n    throw new Error('You need to specify a canvas element')\n  }\n}\n\nexports.render = function render (qrData, canvas, options) {\n  let opts = options\n  let canvasEl = canvas\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!canvas) {\n    canvasEl = getCanvasElement()\n  }\n\n  opts = Utils.getOptions(opts)\n  const size = Utils.getImageWidth(qrData.modules.size, opts)\n\n  const ctx = canvasEl.getContext('2d')\n  const image = ctx.createImageData(size, size)\n  Utils.qrToImageData(image.data, qrData, opts)\n\n  clearCanvas(ctx, canvasEl, size)\n  ctx.putImageData(image, 0, 0)\n\n  return canvasEl\n}\n\nexports.renderToDataURL = function renderToDataURL (qrData, canvas, options) {\n  let opts = options\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!opts) opts = {}\n\n  const canvasEl = exports.render(qrData, canvas, opts)\n\n  const type = opts.type || 'image/png'\n  const rendererOpts = opts.rendererOpts || {}\n\n  return canvasEl.toDataURL(type, rendererOpts.quality)\n}\n","const Utils = require('./utils')\n\nfunction getColorAttrib (color, attrib) {\n  const alpha = color.a / 255\n  const str = attrib + '=\"' + color.hex + '\"'\n\n  return alpha < 1\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n    : str\n}\n\nfunction svgCmd (cmd, x, y) {\n  let str = cmd + x\n  if (typeof y !== 'undefined') str += ' ' + y\n\n  return str\n}\n\nfunction qrToPath (data, size, margin) {\n  let path = ''\n  let moveBy = 0\n  let newRow = false\n  let lineLength = 0\n\n  for (let i = 0; i < data.length; i++) {\n    const col = Math.floor(i % size)\n    const row = Math.floor(i / size)\n\n    if (!col && !newRow) newRow = true\n\n    if (data[i]) {\n      lineLength++\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\n          : svgCmd('m', moveBy, 0)\n\n        moveBy = 0\n        newRow = false\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength)\n        lineLength = 0\n      }\n    } else {\n      moveBy++\n    }\n  }\n\n  return path\n}\n\nexports.render = function render (qrData, options, cb) {\n  const opts = Utils.getOptions(options)\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n  const qrcodesize = size + opts.margin * 2\n\n  const bg = !opts.color.light.a\n    ? ''\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\n\n  const path =\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\n\n  const viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\n\n  const width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\n\n  const svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag)\n  }\n\n  return svgTag\n}\n","\nconst canPromise = require('./can-promise')\n\nconst QRCode = require('./core/qrcode')\nconst CanvasRenderer = require('./renderer/canvas')\nconst SvgRenderer = require('./renderer/svg-tag.js')\n\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\n  const args = [].slice.call(arguments, 1)\n  const argsNum = args.length\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument')\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 2) {\n      cb = text\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts\n        opts = undefined\n      } else {\n        cb = opts\n        opts = text\n        text = canvas\n        canvas = undefined\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 1) {\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text\n      text = canvas\n      canvas = undefined\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, opts)\n        resolve(renderFunc(data, canvas, opts))\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  try {\n    const data = QRCode.create(text, opts)\n    cb(null, renderFunc(data, canvas, opts))\n  } catch (e) {\n    cb(e)\n  }\n}\n\nexports.create = QRCode.create\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\n\n// only svg for now.\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts)\n})\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand'\r\nimport { persist, createJSONStorage } from 'zustand/middleware'\r\nimport type { Homography, Point } from '../utils/vision'\r\n\r\ntype CalibrationState = {\r\n  H: Homography | null // board->image\r\n  createdAt: number | null\r\n  errorPx: number | null\r\n  imageSize: { w: number; h: number } | null\r\n  anchors: { src: Point[]; dst: Point[] } | null\r\n  locked: boolean\r\n  setCalibration: (c: Partial<Omit<CalibrationState, 'setCalibration' | 'reset'>>) => void\r\n  reset: () => void\r\n}\r\n\r\nexport const useCalibration = create<CalibrationState>()(persist((set, get) => ({\r\n  H: null,\r\n  createdAt: null,\r\n  errorPx: null,\r\n  imageSize: null,\r\n  anchors: null,\r\n  locked: false,\r\n  setCalibration: (c) => set((s) => ({ ...s, ...c })),\r\n  reset: () => set({ H: null, createdAt: null, errorPx: null, imageSize: null, anchors: null, locked: false }),\r\n}), {\r\n  name: 'ndn-calibration-v1',\r\n  storage: createJSONStorage(() => localStorage),\r\n  // If we ever had alternate keys (legacy), gently import once after hydration\r\n  onRehydrateStorage: () => (state) => {\r\n    // No-op on error; best-effort fallback\r\n    try {\r\n      const cur = get()\r\n      if (!cur.H) {\r\n        const legacy = localStorage.getItem('ndn:calibration:v1')\r\n        if (legacy) {\r\n          const j = JSON.parse(legacy)\r\n          if (j && (j.H || j.imageSize)) {\r\n            set({\r\n              H: j.H ?? null,\r\n              createdAt: j.createdAt ?? null,\r\n              errorPx: j.errorPx ?? null,\r\n              imageSize: j.imageSize ?? null,\r\n              anchors: j.anchors ?? null,\r\n              locked: !!j.locked,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    } catch {}\r\n  },\r\n}))\r\n","// Vision and calibration utilities for dartboard mapping\r\n// Board dimensions follow standard measurements (millimeters)\r\n// - Inner bull radius: 6.35 mm (12.7 mm diameter)\r\n// - Outer bull radius: 15.9 mm (31.8 mm diameter)\r\n// - Treble inner radius: 99 mm\r\n// - Treble outer radius: 107 mm\r\n// - Double inner radius: 162 mm\r\n// - Double outer radius: 170 mm (playing field outer edge)\r\n\r\nexport type Point = { x: number; y: number }\r\nexport type Homography = [number, number, number, number, number, number, number, number, number] // row-major 3x3\r\n\r\nexport const BoardRadii = {\r\n\tbullInner: 6.35,\r\n\tbullOuter: 15.9,\r\n\ttrebleInner: 99,\r\n\ttrebleOuter: 107,\r\n\tdoubleInner: 162,\r\n\tdoubleOuter: 170,\r\n}\r\n\r\nexport const SectorOrder = [20, 1, 18, 4, 13, 6, 10, 15, 2, 17, 3, 19, 7, 16, 8, 11, 14, 9, 12, 5]\r\n\r\n// Basic 3x3 matrix operations\r\nfunction matMul3(a: Homography, b: Homography): Homography {\r\n\tconst r = new Array(9).fill(0)\r\n\tfor (let i = 0; i < 3; i++) {\r\n\t\tfor (let j = 0; j < 3; j++) {\r\n\t\t\tfor (let k = 0; k < 3; k++) {\r\n\t\t\t\tr[i * 3 + j] += a[i * 3 + k] * b[k * 3 + j]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn r as Homography\r\n}\r\n\r\nexport function applyHomography(H: Homography, p: Point): Point {\r\n\tconst x = p.x, y = p.y\r\n\tconst w = H[6] * x + H[7] * y + H[8]\r\n\tconst nx = (H[0] * x + H[1] * y + H[2]) / w\r\n\tconst ny = (H[3] * x + H[4] * y + H[5]) / w\r\n\treturn { x: nx, y: ny }\r\n}\r\n\r\n// Scale a homography by sx, sy on the destination/image side: H' = S * H\r\n// Where S = diag([sx, sy, 1])\r\nexport function scaleHomography(H: Homography, sx: number, sy: number): Homography {\r\n\treturn [\r\n\t\tsx * H[0], sx * H[1], sx * H[2],\r\n\t\tsy * H[3], sy * H[4], sy * H[5],\r\n\t\tH[6],     H[7],     H[8],\r\n\t] as Homography\r\n}\r\n\r\nexport function invertHomography(H: Homography): Homography {\r\n\t// Inverse of 3x3 matrix\r\n\tconst m = H\r\n\tconst a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5], g = m[6], h = m[7], i = m[8]\r\n\tconst A = e * i - f * h\r\n\tconst B = c * h - b * i\r\n\tconst C = b * f - c * e\r\n\tconst D = f * g - d * i\r\n\tconst E = a * i - c * g\r\n\tconst F = c * d - a * f\r\n\tconst G = d * h - e * g\r\n\tconst Hh = b * g - a * h\r\n\tconst I = a * e - b * d\r\n\tconst det = a * A + b * D + c * G\r\n\tif (Math.abs(det) < 1e-12) throw new Error('Singular homography')\r\n\tconst inv = [\r\n\t\tA / det, B / det, C / det,\r\n\t\tD / det, E / det, F / det,\r\n\t\tG / det, Hh / det, I / det,\r\n\t] as Homography\r\n\treturn inv\r\n}\r\n\r\n// Compute homography H that maps src (board space) -> dst (image space)\r\n// Using 4 correspondences via DLT (solved by Gaussian elimination)\r\nexport function computeHomographyDLT(src: Point[], dst: Point[]): Homography {\r\n\tif (src.length !== 4 || dst.length !== 4) throw new Error('Need exactly 4 correspondences')\r\n\t// Build A * h = b where h = [h11 h12 h13 h21 h22 h23 h31 h32]^T and h33 = 1\r\n\tconst A: number[][] = []\r\n\tconst B: number[] = []\r\n\tfor (let k = 0; k < 4; k++) {\r\n\t\tconst { x: X, y: Y } = src[k]\r\n\t\tconst { x: x, y: y } = dst[k]\r\n\t\t// x = (h11 X + h12 Y + h13) / (h31 X + h32 Y + 1)\r\n\t\t// y = (h21 X + h22 Y + h23) / (h31 X + h32 Y + 1)\r\n\t\t// => x*(h31 X + h32 Y + 1) = h11 X + h12 Y + h13\r\n\t\t// => y*(h31 X + h32 Y + 1) = h21 X + h22 Y + h23\r\n\t\tA.push([X, Y, 1, 0, 0, 0, -x * X, -x * Y])\r\n\t\tB.push(x)\r\n\t\tA.push([0, 0, 0, X, Y, 1, -y * X, -y * Y])\r\n\t\tB.push(y)\r\n\t}\r\n\tconst h = solveLeastSquares(A, B) // length 8\r\n\tconst H: Homography = [h[0], h[1], h[2], h[3], h[4], h[5], h[6], h[7], 1]\r\n\treturn H\r\n}\r\n\r\n// Solve A x = b in least squares sense using Gaussian elimination with partial pivoting\r\nfunction solveLeastSquares(A: number[][], b: number[]): number[] {\r\n\t// Normal equations: (A^T A) x = A^T b\r\n\tconst m = A.length, n = A[0].length\r\n\tconst AtA: number[][] = Array.from({ length: n }, () => new Array(n).fill(0))\r\n\tconst Atb: number[] = new Array(n).fill(0)\r\n\tfor (let r = 0; r < m; r++) {\r\n\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\tAtb[i] += A[r][i] * b[r]\r\n\t\t\tfor (let j = 0; j < n; j++) {\r\n\t\t\t\tAtA[i][j] += A[r][i] * A[r][j]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn gaussianSolve(AtA, Atb)\r\n}\r\n\r\nfunction gaussianSolve(M: number[][], v: number[]): number[] {\r\n\tconst n = v.length\r\n\t// Augment matrix\r\n\tconst A = M.map((row, i) => row.concat([v[i]]))\r\n\tfor (let i = 0; i < n; i++) {\r\n\t\t// Pivot\r\n\t\tlet maxRow = i\r\n\t\tfor (let r = i + 1; r < n; r++) {\r\n\t\t\tif (Math.abs(A[r][i]) > Math.abs(A[maxRow][i])) maxRow = r\r\n\t\t}\r\n\t\tif (Math.abs(A[maxRow][i]) < 1e-12) throw new Error('Singular matrix')\r\n\t\tif (maxRow !== i) {\r\n\t\t\tconst tmp = A[i]; A[i] = A[maxRow]; A[maxRow] = tmp\r\n\t\t}\r\n\t\t// Eliminate\r\n\t\tfor (let r = i + 1; r < n; r++) {\r\n\t\t\tconst f = A[r][i] / A[i][i]\r\n\t\t\tfor (let c = i; c <= n; c++) A[r][c] -= f * A[i][c]\r\n\t\t}\r\n\t}\r\n\t// Back substitution\r\n\tconst x = new Array(n).fill(0)\r\n\tfor (let i = n - 1; i >= 0; i--) {\r\n\t\tlet s = A[i][n]\r\n\t\tfor (let c = i + 1; c < n; c++) s -= A[i][c] * x[c]\r\n\t\tx[i] = s / A[i][i]\r\n\t}\r\n\treturn x\r\n}\r\n\r\n// Canonical calibration targets in board space (mm)\r\n// We ask the user to click the image positions for: TOP, RIGHT, BOTTOM, LEFT of double outer rim\r\nexport function canonicalRimTargets(): Point[] {\r\n\tconst R = BoardRadii.doubleOuter\r\n\treturn [\r\n\t\t{ x: 0, y: -R }, // TOP\r\n\t\t{ x: R, y: 0 },  // RIGHT\r\n\t\t{ x: 0, y: R },  // BOTTOM\r\n\t\t{ x: -R, y: 0 }, // LEFT\r\n\t]\r\n}\r\n\r\n// Given a homography mapping board->image, produce polylines for overlay rings (in image px)\r\nexport function sampleRing(H: Homography, radius: number, steps = 256): Point[] {\r\n\tconst pts: Point[] = []\r\n\tfor (let k = 0; k < steps; k++) {\r\n\t\tconst theta = (k / steps) * Math.PI * 2\r\n\t\tconst p = applyHomography(H, { x: radius * Math.cos(theta), y: radius * Math.sin(theta) })\r\n\t\tpts.push(p)\r\n\t}\r\n\treturn pts\r\n}\r\n\r\nexport function rmsError(H: Homography, src: Point[], dst: Point[]): number {\r\n\tlet e2 = 0\r\n\tfor (let i = 0; i < src.length; i++) {\r\n\t\tconst p = applyHomography(H, src[i])\r\n\t\tconst dx = p.x - dst[i].x\r\n\t\tconst dy = p.y - dst[i].y\r\n\t\te2 += dx * dx + dy * dy\r\n\t}\r\n\treturn Math.sqrt(e2 / src.length)\r\n}\r\n\r\n// Map an image point to board coordinates using inverse homography (image->board)\r\nexport function imageToBoard(H_boardToImage: Homography, pImg: Point): Point {\r\n\tconst inv = invertHomography(H_boardToImage)\r\n\treturn applyHomography(inv as Homography, pImg)\r\n}\r\n\r\n// Compute score for a board coordinate (mm)\r\nexport function scoreAtBoardPoint(p: Point): { base: number; ring: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'; sector: number | null; mult: 0|1|2|3 } {\r\n\tconst r = Math.hypot(p.x, p.y)\r\n\tconst ang = Math.atan2(p.y, p.x) // 0 rad at +X, increasing CCW\r\n\t// Rotate so that sector 20 is at the top (negative Y). Top corresponds to -90 degrees (or 270)\r\n\tlet deg = ang * 180 / Math.PI\r\n\tdeg = (deg + 360 + 90) % 360 // shift so 0 deg is at top\r\n\tconst sector = SectorOrder[Math.floor(((360 - deg) % 360) / 18)] // clockwise ordering\r\n\r\n\tif (r <= BoardRadii.bullInner) return { base: 50, ring: 'INNER_BULL', sector: 25, mult: 2 }\r\n\tif (r <= BoardRadii.bullOuter) return { base: 25, ring: 'BULL', sector: 25, mult: 1 }\r\n\tif (r >= BoardRadii.doubleOuter) return { base: 0, ring: 'MISS', sector: null, mult: 0 }\r\n\tif (r >= BoardRadii.doubleInner) return { base: sector * 2, ring: 'DOUBLE', sector, mult: 2 }\r\n\tif (r >= BoardRadii.trebleOuter) return { base: sector, ring: 'SINGLE', sector, mult: 1 }\r\n\tif (r >= BoardRadii.trebleInner) return { base: sector * 3, ring: 'TRIPLE', sector, mult: 3 }\r\n\treturn { base: sector, ring: 'SINGLE', sector, mult: 1 }\r\n}\r\n\r\nexport function drawPolyline(ctx: CanvasRenderingContext2D, pts: Point[], color = '#10b981', width = 2) {\r\n\tif (!pts.length) return\r\n\tctx.save()\r\n\tctx.strokeStyle = color\r\n\tctx.lineWidth = width\r\n\tctx.beginPath()\r\n\tctx.moveTo(pts[0].x, pts[0].y)\r\n\tfor (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y)\r\n\tctx.closePath()\r\n\tctx.stroke()\r\n\tctx.restore()\r\n}\r\n\r\nexport function drawCross(ctx: CanvasRenderingContext2D, p: Point, color = '#f59e0b') {\r\n\tctx.save()\r\n\tctx.strokeStyle = color\r\n\tctx.lineWidth = 2\r\n\tctx.beginPath()\r\n\tctx.moveTo(p.x - 8, p.y)\r\n\tctx.lineTo(p.x + 8, p.y)\r\n\tctx.moveTo(p.x, p.y - 8)\r\n\tctx.lineTo(p.x, p.y + 8)\r\n\tctx.stroke()\r\n\tctx.restore()\r\n}\r\n\r\n// --- Point refinement using Sobel gradient ---\r\nfunction clamp(v: number, lo: number, hi: number) { return Math.max(lo, Math.min(hi, v)) }\r\n\r\nfunction sobelAtGray(img: ImageData, x: number, y: number): number {\r\n\tconst { width, data } = img\r\n\t// Sobel kernels\r\n\tconst gx = [[-1,0,1],[-2,0,2],[-1,0,1]]\r\n\tconst gy = [[-1,-2,-1],[0,0,0],[1,2,1]]\r\n\tlet sx = 0, sy = 0\r\n\tfor (let j = -1; j <= 1; j++) {\r\n\t\tfor (let i = -1; i <= 1; i++) {\r\n\t\t\tconst xi = clamp(x + i, 0, width - 1)\r\n\t\t\tconst yi = clamp(y + j, 0, img.height - 1)\r\n\t\t\tconst idx = (yi * width + xi) * 4\r\n\t\t\tconst r = data[idx], g = data[idx+1], b = data[idx+2]\r\n\t\t\tconst gray = 0.299*r + 0.587*g + 0.114*b\r\n\t\t\tsx += gray * gx[j+1][i+1]\r\n\t\t\tsy += gray * gy[j+1][i+1]\r\n\t\t}\r\n\t}\r\n\treturn Math.hypot(sx, sy)\r\n}\r\n\r\nexport function refinePointSobel(canvas: HTMLCanvasElement, p: Point, radius = 6): Point {\r\n\tconst ctx = canvas.getContext('2d')!\r\n\tconst img = ctx.getImageData(0, 0, canvas.width, canvas.height)\r\n\tconst cx = clamp(Math.round(p.x), 1, canvas.width - 2)\r\n\tconst cy = clamp(Math.round(p.y), 1, canvas.height - 2)\r\n\tlet best = { x: cx, y: cy, mag: -1 }\r\n\tfor (let y = cy - radius; y <= cy + radius; y++) {\r\n\t\tfor (let x = cx - radius; x <= cx + radius; x++) {\r\n\t\t\tif (x <= 0 || y <= 0 || x >= canvas.width-1 || y >= canvas.height-1) continue\r\n\t\t\tconst mag = sobelAtGray(img, x, y)\r\n\t\t\tif (mag > best.mag) best = { x, y, mag }\r\n\t\t}\r\n\t}\r\n\treturn { x: best.x, y: best.y }\r\n}\r\n\r\nexport function refinePointsSobel(canvas: HTMLCanvasElement, pts: Point[], radius = 6): Point[] {\r\n\treturn pts.map(p => refinePointSobel(canvas, p, radius))\r\n}\r\n\r\n","import React, { useEffect, useMemo, useRef, useState, type ReactNode } from 'react'\r\nimport DartLoader from './DartLoader'\r\n\r\nimport QRCode from 'qrcode'\r\nimport { useCalibration } from '../store/calibration'\r\nimport { BoardRadii, canonicalRimTargets, computeHomographyDLT, drawCross, drawPolyline, rmsError, sampleRing, refinePointsSobel, type Homography, type Point } from '../utils/vision'\r\nimport { useUserSettings } from '../store/userSettings'\r\n\r\ntype Phase = 'idle' | 'camera' | 'capture' | 'select' | 'computed'\r\ntype CamMode = 'local' | 'phone'\r\n\r\nexport default function Calibrator() {\r\n\tconst videoRef = useRef<HTMLVideoElement>(null)\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\r\n\tconst overlayRef = useRef<HTMLCanvasElement>(null)\r\n\tconst fileInputRef = useRef<HTMLInputElement>(null)\r\n\tconst [streaming, setStreaming] = useState(false)\r\n\tconst [phase, setPhase] = useState<Phase>('camera')\r\n\tconst [mode, setMode] = useState<CamMode>(() => (localStorage.getItem('ndn:cal:mode') as CamMode) || 'local')\r\n\tconst [dstPoints, setDstPoints] = useState<Point[]>([]) // image points clicked in order TOP, RIGHT, BOTTOM, LEFT\r\n\tconst [snapshotSet, setSnapshotSet] = useState(false)\r\n\t// Track current frame (video/snapshot) size to preserve aspect ratio in the preview container\r\n\tconst [frameSize, setFrameSize] = useState<{ w: number, h: number } | null>(null)\r\n\t// Zoom for pixel-perfect point picking (0.5x  2.0x)\r\n\tconst [zoom, setZoom] = useState<number>(1)\r\n\t\tconst { H, setCalibration, reset, errorPx, locked } = useCalibration()\r\n  const { calibrationGuide, setCalibrationGuide } = useUserSettings()\r\n\t\t// Detected ring data (from auto-detect) in image pixels\r\n\tconst [detected, setDetected] = useState<null | {\r\n\t\tcx: number; cy: number;\r\n\t\tbullInner: number; bullOuter: number;\r\n\t\ttrebleInner: number; trebleOuter: number;\r\n\t\tdoubleInner: number; doubleOuter: number;\r\n\t}>(null)\r\n\t\t// Live detection and confidence state\r\n\t\tconst [liveDetect, setLiveDetect] = useState<boolean>(false)\r\n\t\tconst [confidence, setConfidence] = useState<number>(0)\r\n\r\n\t// Phone pairing state (mirrors CameraTile)\r\n\tconst [ws, setWs] = useState<WebSocket | null>(null)\r\n\tconst [pairCode, setPairCode] = useState<string | null>(null)\r\n\tconst [expiresAt, setExpiresAt] = useState<number | null>(null)\r\n\tconst [now, setNow] = useState<number>(Date.now())\r\n\tconst [paired, setPaired] = useState<boolean>(false)\r\n\tconst [pc, setPc] = useState<RTCPeerConnection | null>(null)\r\n\tconst [qrDataUrl, setQrDataUrl] = useState<string>('')\r\n\tconst [lanHost, setLanHost] = useState<string | null>(null)\r\n\tconst [httpsInfo, setHttpsInfo] = useState<{ https: boolean; port: number } | null>(null)\r\n\tconst [showTips, setShowTips] = useState<boolean>(true)\r\n\tuseEffect(() => {\r\n\t\tconst h = window.location.hostname\r\n\t\tif (h === 'localhost' || h === '127.0.0.1') {\r\n\t\t\tfetch(`/api/hosts`).then(r => r.json()).then(j => {\r\n\t\t\t\tconst ip = Array.isArray(j?.hosts) && j.hosts.find((x: string) => x)\r\n\t\t\t\tif (ip) setLanHost(ip)\r\n\t\t\t}).catch(()=>{})\r\n\t\t}\r\n\t\t// Try to detect if server exposes HTTPS info\r\n\t\tfetch(`/api/https-info`).then(r=>r.json()).then(j=>{\r\n\t\t\tif (j && typeof j.https === 'boolean') setHttpsInfo({ https: !!j.https, port: Number(j.port)||8788 })\r\n\t\t}).catch(()=>{})\r\n\t}, [])\r\n\r\n\t// Auto-start pairing when user switches to Phone mode\r\n\tuseEffect(() => {\r\n\t\tif (mode === 'phone' && !paired && !streaming) {\r\n\t\t\tstartPhonePairing()\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [mode])\r\n\tconst mobileUrl = useMemo(() => {\r\n\t\tconst code = pairCode || '____'\r\n\t\t// Prefer configured WS host (Render) when available to build the correct server origin\r\n\t\tconst envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n\t\tif (envUrl && envUrl.length > 0) {\r\n\t\t\ttry {\r\n\t\t\t\tconst u = new URL(envUrl)\r\n\t\t\t\tconst isSecure = u.protocol === 'wss:'\r\n\t\t\t\tconst origin = `${isSecure ? 'https' : 'http'}://${u.host}${u.pathname.endsWith('/ws') ? '' : u.pathname}`\r\n\t\t\t\tconst base = origin.replace(/\\/?ws$/i, '')\r\n\t\t\t\treturn `${base}/mobile-cam.html?code=${code}`\r\n\t\t\t} catch {}\r\n\t\t}\r\n\t\t// Local dev fallback using detected LAN or current host\r\n\t\tconst host = (lanHost || window.location.hostname)\r\n\t\tconst useHttps = !!httpsInfo?.https\r\n\t\tconst port = useHttps ? (httpsInfo?.port || 8788) : 8787\r\n\t\tconst proto = useHttps ? 'https' : 'http'\r\n\t\treturn `${proto}://${host}:${port}/mobile-cam.html?code=${code}`\r\n\t}, [pairCode, lanHost, httpsInfo])\r\n\r\n\tuseEffect(() => { localStorage.setItem('ndn:cal:mode', mode) }, [mode])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!pairCode) { setQrDataUrl(''); return }\r\n\t\tQRCode.toDataURL(mobileUrl, { width: 160, margin: 1, color: { dark: '#000000', light: '#ffffff' } })\r\n\t\t\t.then(setQrDataUrl)\r\n\t\t\t.catch(() => setQrDataUrl(''))\r\n\t}, [mobileUrl, pairCode])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!expiresAt) return\r\n\t\tconst t = setInterval(() => setNow(Date.now()), 1000)\r\n\t\treturn () => clearInterval(t)\r\n\t}, [expiresAt])\r\n\tconst ttl = useMemo(() => expiresAt ? Math.max(0, Math.ceil((expiresAt - now)/1000)) : null, [expiresAt, now])\r\n\tuseEffect(() => {\r\n\t\tif (ttl === null) return\r\n\t\tif (ttl <= 0 && !paired && !streaming && mode === 'phone') {\r\n\t\t\tregenerateCode()\r\n\t\t}\r\n\t}, [ttl, paired, streaming, mode])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => stopCamera()\r\n\t}, [])\r\n\r\n\tfunction ensureWS() {\r\n\t\tif (ws && ws.readyState === WebSocket.OPEN) return ws\r\n\t\t// Prefer configured WS endpoint; normalize to include '/ws'. Fallback to same-origin '/ws'.\r\n\t\t\tconst envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n\t\t\tconst normalizedEnv = envUrl && envUrl.length > 0\r\n\t\t\t\t? (envUrl.endsWith('/ws') ? envUrl : envUrl.replace(/\\/$/, '') + '/ws')\r\n\t\t\t\t: undefined\r\n\t\t\tconst proto = (window.location.protocol === 'https:' ? 'wss' : 'ws')\r\n\t\t\tconst sameOrigin = `${proto}://${window.location.host}/ws`\r\n\t\t\tconst host = window.location.hostname\r\n\t\t\tconst fallbacks = [sameOrigin, `${proto}://${host}:8787/ws`, `${proto}://${host}:3000/ws`]\r\n\t\t\tconst url = normalizedEnv || fallbacks[0]\r\n\t\t\tlet socket: WebSocket = new WebSocket(url)\r\n\t\tsetWs(socket)\r\n\t\treturn socket\r\n\t}\r\n\r\n\tasync function startPhonePairing() {\r\n\t\tsetPaired(false)\r\n\t\tconst socket = ensureWS()\r\n\t\tif (socket.readyState === WebSocket.OPEN) {\r\n\t\t\tsocket.send(JSON.stringify({ type: 'cam-create' }))\r\n\t\t} else {\r\n\t\t\tsocket.onopen = () => socket.send(JSON.stringify({ type: 'cam-create' }))\r\n\t\t}\r\n\t\tsocket.onerror = () => {\r\n\t\t\t// leave minimal, UI shows status below\r\n\t\t}\r\n\t\tsocket.onclose = () => {\r\n\t\t\t// show that it closed; user can retry\r\n\t\t}\r\n\t\tsocket.onmessage = async (ev) => {\r\n\t\t\tconst data = JSON.parse(ev.data)\r\n\t\t\tif (data.type === 'cam-code') {\r\n\t\t\t\tsetPairCode(data.code)\r\n\t\t\t\tif (data.expiresAt) setExpiresAt(data.expiresAt)\r\n\t\t\t} else if (data.type === 'cam-peer-joined') {\r\n\t\t\t\tsetPaired(true)\r\n\t\t\t\tconst peer = new RTCPeerConnection({ iceServers: [{ urls: 'stun:stun.l.google.com:19302' }] })\r\n\t\t\t\tsetPc(peer)\r\n\t\t\t\tpeer.onicecandidate = (e) => {\r\n\t\t\t\t\tif (e.candidate && pairCode) socket.send(JSON.stringify({ type: 'cam-ice', code: pairCode, payload: e.candidate }))\r\n\t\t\t\t}\r\n\t\t\t\tpeer.ontrack = (ev) => {\r\n\t\t\t\t\tif (videoRef.current) {\r\n\t\t\t\t\t\tconst inbound = ev.streams?.[0]\r\n\t\t\t\t\t\tif (inbound) {\r\n\t\t\t\t\t\t\tvideoRef.current.srcObject = inbound\r\n\t\t\t\t\t\t\tvideoRef.current.play().catch(()=>{})\r\n\t\t\t\t\t\t\tsetStreaming(true)\r\n\t\t\t\t\t\t\tsetPhase('capture')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst offer = await peer.createOffer({ offerToReceiveAudio: false, offerToReceiveVideo: true })\r\n\t\t\t\tawait peer.setLocalDescription(offer)\r\n\t\t\t\tif (pairCode) socket.send(JSON.stringify({ type: 'cam-offer', code: pairCode, payload: offer }))\r\n\t\t\t} else if (data.type === 'cam-answer') {\r\n\t\t\t\tif (pc) await pc.setRemoteDescription(new RTCSessionDescription(data.payload))\r\n\t\t\t} else if (data.type === 'cam-ice') {\r\n\t\t\t\tif (pc) try { await pc.addIceCandidate(data.payload) } catch {}\r\n\t\t\t} else if (data.type === 'cam-error') {\r\n\t\t\t\talert(data.code === 'EXPIRED' ? 'Code expired. Generate a new code.' : 'Invalid code')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function startCamera() {\r\n\t\tif (mode === 'phone') return startPhonePairing()\r\n\t\ttry {\r\n\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false })\r\n\t\t\tif (videoRef.current) {\r\n\t\t\t\tvideoRef.current.srcObject = stream\r\n\t\t\t\tawait videoRef.current.play()\r\n\t\t\t}\r\n\t\t\tsetStreaming(true)\r\n\t\t\tsetPhase('capture')\r\n\t\t} catch (e) {\r\n\t\t\talert('Camera permission denied or not available.')\r\n\t\t}\r\n\t}\r\n\r\n\tfunction stopCamera() {\r\n\t\tif (videoRef.current && videoRef.current.srcObject) {\r\n\t\t\tconst tracks = (videoRef.current.srcObject as MediaStream).getTracks()\r\n\t\t\ttracks.forEach(t => t.stop())\r\n\t\t\tvideoRef.current.srcObject = null\r\n\t\t\tsetStreaming(false)\r\n\t\t}\r\n\t\tif (pc) { try { pc.close() } catch {}; setPc(null) }\r\n\t\tsetPairCode(null)\r\n\t\tsetExpiresAt(null)\r\n\t\tsetPaired(false)\r\n\t}\r\n\r\n\tfunction regenerateCode() {\r\n\t\tsetPairCode(null)\r\n\t\tsetExpiresAt(null)\r\n\t\tsetPaired(false)\r\n\t\tif (ws && ws.readyState === WebSocket.OPEN) {\r\n\t\t\tws.send(JSON.stringify({ type: 'cam-create' }))\r\n\t\t} else {\r\n\t\t\tstartPhonePairing()\r\n\t\t}\r\n\t}\r\n\r\n\t// Allow uploading a photo instead of using a live camera\r\n\tfunction triggerUpload() {\r\n\t\ttry { fileInputRef.current?.click() } catch {}\r\n\t}\r\n\r\n\tfunction onUploadPhotoChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n\t\tconst f = e.target.files?.[0]\r\n\t\tif (!f) return\r\n\t\tconst img = new Image()\r\n\t\timg.onload = () => {\r\n\t\t\ttry {\r\n\t\t\t\tif (!canvasRef.current) return\r\n\t\t\t\tconst c = canvasRef.current\r\n\t\t\t\tc.width = img.naturalWidth\r\n\t\t\t\tc.height = img.naturalHeight\r\n\t\t\t\tconst ctx = c.getContext('2d')!\r\n\t\t\t\tctx.drawImage(img, 0, 0, c.width, c.height)\r\n\t\t\t\tsetSnapshotSet(true)\r\n\t\t\t\tsetFrameSize({ w: c.width, h: c.height })\r\n\t\t\t\tsetPhase('select')\r\n\t\t\t\tsetDstPoints([])\r\n\t\t\t\t// Clear any previous video stream\r\n\t\t\t\tstopCamera()\r\n\t\t\t} catch {}\r\n\t\t}\r\n\t\timg.onerror = () => { alert('Could not load image. Please try a different photo.') }\r\n\t\timg.src = URL.createObjectURL(f)\r\n\t\t// reset input value so the same file can be reselected\r\n\t\ttry { e.target.value = '' } catch {}\r\n\t}\r\n\r\n\t\tfunction captureFrame() {\r\n\t\tif (!videoRef.current || !canvasRef.current) return\r\n\t\tconst v = videoRef.current\r\n\t\tconst c = canvasRef.current\r\n\t\tc.width = v.videoWidth\r\n\t\tc.height = v.videoHeight\r\n\t\tconst ctx = c.getContext('2d')!\r\n\t\tctx.drawImage(v, 0, 0, c.width, c.height)\r\n\t\tsetSnapshotSet(true)\r\n\t\tsetFrameSize({ w: c.width, h: c.height })\r\n\t\tsetPhase('select')\r\n\t\tsetDstPoints([])\r\n\t\t\t// If liveDetect is on, kick a detect on this captured frame\r\n\t\t\tif (liveDetect) setTimeout(() => { autoDetectRings() }, 0)\r\n\t}\r\n\r\n\tfunction drawOverlay(currentPoints = dstPoints, HH: Homography | null = null) {\r\n\t\tif (!canvasRef.current || !overlayRef.current) return\r\n\t\tconst img = canvasRef.current\r\n\t\tconst o = overlayRef.current\r\n\t\to.width = img.width; o.height = img.height\r\n\t\tconst ctx = o.getContext('2d')!\r\n\t\tctx.clearRect(0, 0, o.width, o.height)\r\n\r\n\t\t// Draw clicked points (with order labels to guide TOP, RIGHT, BOTTOM, LEFT)\r\n\t\tcurrentPoints.forEach((p, i) => {\r\n\t\t\tdrawCross(ctx, p, '#f472b6')\r\n\t\t\tctx.save()\r\n\t\t\tctx.fillStyle = '#f472b6'\r\n\t\t\tctx.font = '14px sans-serif'\r\n\t\t\tctx.fillText(String(i + 1), p.x + 6, p.y - 6)\r\n\t\t\tctx.restore()\r\n\t\t})\r\n\r\n\t\t// If we have a homography, draw rings (precise, perspective-correct)\r\n\t\tconst Huse = HH || H\r\n\t\tif (Huse) {\r\n\t\t\tconst rings = [BoardRadii.bullInner, BoardRadii.bullOuter, BoardRadii.trebleInner, BoardRadii.trebleOuter, BoardRadii.doubleInner, BoardRadii.doubleOuter]\r\n\t\t\tfor (const r of rings) {\r\n\t\t\t\tconst poly = sampleRing(Huse, r, 360)\r\n\t\t\t\tdrawPolyline(ctx, poly, r === BoardRadii.doubleOuter ? '#22d3ee' : '#a78bfa', r === BoardRadii.doubleOuter ? 3 : 2)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Otherwise, if we have detected circles, draw them as previews (circles in image space)\r\n\t\tif (!Huse && detected) {\r\n\t\t\tconst drawCircle = (r: number, color: string, w = 2) => {\r\n\t\t\t\tctx.save(); ctx.strokeStyle = color; ctx.lineWidth = w\r\n\t\t\t\tctx.beginPath(); ctx.arc(detected.cx, detected.cy, r, 0, Math.PI * 2); ctx.stroke(); ctx.restore()\r\n\t\t\t}\r\n\t\t\tdrawCircle(detected.doubleOuter, '#22d3ee', 3)\r\n\t\t\tdrawCircle(detected.doubleInner, '#22d3ee', 2)\r\n\t\t\tdrawCircle(detected.trebleOuter, '#fde047', 2)\r\n\t\t\tdrawCircle(detected.trebleInner, '#fde047', 2)\r\n\t\t\tdrawCircle(detected.bullOuter, '#34d399', 2)\r\n\t\t\tdrawCircle(detected.bullInner, '#10b981', 3)\r\n\t\t}\r\n\r\n\t\t// Preferred-view framing guide (if enabled): shaded safe zone and angle lines\r\n\t\tif (calibrationGuide) {\r\n\t\t\tctx.save()\r\n\t\t\t// Semi-transparent vignette to encourage centered, face-on framing\r\n\t\t\tctx.fillStyle = 'rgba(59,130,246,0.10)'\r\n\t\t\tconst pad = Math.round(Math.min(o.width, o.height) * 0.08)\r\n\t\t\tconst w = o.width - pad*2\r\n\t\t\tconst h = o.height - pad*2\r\n\t\t\tctx.fillRect(pad, pad, w, h)\r\n\t\t\t// Horizon/tilt line and vertical center line\r\n\t\t\tctx.strokeStyle = 'rgba(34,197,94,0.9)'\r\n\t\t\tctx.lineWidth = 2\r\n\t\t\t// Horizontal line roughly through bull height\r\n\t\t\tctx.beginPath(); ctx.moveTo(pad, o.height/2); ctx.lineTo(o.width-pad, o.height/2); ctx.stroke()\r\n\t\t\t// Vertical center\r\n\t\t\tctx.beginPath(); ctx.moveTo(o.width/2, pad); ctx.lineTo(o.width/2, o.height-pad); ctx.stroke()\r\n\t\t\t// Angle brackets to suggest slight top-down 1015\r\n\t\t\tctx.strokeStyle = 'rgba(234,179,8,0.9)'\r\n\t\t\tctx.setLineDash([6,4])\r\n\t\t\tconst ax = pad + 30, ay = pad + 30\r\n\t\t\tctx.beginPath(); ctx.moveTo(ax, ay+30); ctx.lineTo(ax+60, ay); ctx.stroke()\r\n\t\t\tctx.beginPath(); ctx.moveTo(o.width-ax, ay+30); ctx.lineTo(o.width-ax-60, ay); ctx.stroke()\r\n\t\t\tctx.restore()\r\n\t\t\t// Legend\r\n\t\t\tctx.fillStyle = 'rgba(255,255,255,0.85)'\r\n\t\t\tctx.font = '12px sans-serif'\r\n\t\t\tctx.fillText('Tip: Frame board centered, edges parallel; slight top-down is okay. Keep bull near center.', pad+6, pad+18)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onClickOverlay(e: React.MouseEvent<HTMLCanvasElement>) {\r\n\t\tif (phase !== 'select') return\r\n\t\tconst el = (e.target as HTMLCanvasElement)\r\n\t\tconst rect = el.getBoundingClientRect()\r\n\t\tconst cssX = e.clientX - rect.left\r\n\t\tconst cssY = e.clientY - rect.top\r\n\t\t// Map CSS coordinates back to the overlay canvas pixel coordinates, accounting for CSS scaling and zoom\r\n\t\tconst scaleX = el.width > 0 ? (el.width / rect.width) : 1\r\n\t\tconst scaleY = el.height > 0 ? (el.height / rect.height) : 1\r\n\t\tconst x = cssX * scaleX\r\n\t\tconst y = cssY * scaleY\r\n\t\tconst pts = [...dstPoints, { x, y }]\r\n\t\tif (pts.length <= 4) {\r\n\t\t\tsetDstPoints(pts)\r\n\t\t\tdrawOverlay(pts)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction undoPoint() {\r\n\t\tconst pts = dstPoints.slice(0, -1)\r\n\t\tsetDstPoints(pts)\r\n\t\tdrawOverlay(pts)\r\n\t}\r\n\r\n\t\tfunction refinePoints() {\r\n\t\t\tif (!canvasRef.current || dstPoints.length === 0) return\r\n\t\t\tconst refined = refinePointsSobel(canvasRef.current, dstPoints, 8)\r\n\t\t\tsetDstPoints(refined)\r\n\t\t\tdrawOverlay(refined)\r\n\t\t}\r\n\r\n\tfunction compute() {\r\n\t\tif (!canvasRef.current) return\r\n\t\tif (dstPoints.length !== 4) return alert('Please click 4 points: TOP, RIGHT, BOTTOM, LEFT corners of the double rim.')\r\n\t\tconst src = canonicalRimTargets() // board space mm\r\n\t\tconst Hcalc = computeHomographyDLT(src, dstPoints)\r\n\t\tdrawOverlay(dstPoints, Hcalc)\r\n\t\tconst err = rmsError(Hcalc, src, dstPoints)\r\n\t\tsetCalibration({ H: Hcalc as Homography, createdAt: Date.now(), errorPx: err, imageSize: { w: canvasRef.current.width, h: canvasRef.current.height }, anchors: { src, dst: dstPoints } })\r\n\t\tsetPhase('computed')\r\n\t}\r\n\r\n\tfunction resetAll() {\r\n\t\tsetDstPoints([])\r\n\t\tsetSnapshotSet(false)\r\n\t\tsetPhase('camera')\r\n\t\tdrawOverlay([])\r\n\t\treset()\r\n\t}\r\n\r\n\t// --- Auto-detect the double rim from the current snapshot and compute homography ---\r\n\t\tasync function autoDetectRings() {\r\n\t\tif (!canvasRef.current) return alert('Load a photo or capture a frame first.')\r\n\t\tconst src = canvasRef.current\r\n\t\t// Downscale for speed\r\n\t\tconst maxW = 800\r\n\t\tconst scale = Math.min(1, maxW / src.width)\r\n\t\tconst dw = Math.max(1, Math.round(src.width * scale))\r\n\t\tconst dh = Math.max(1, Math.round(src.height * scale))\r\n\t\tconst tmp = document.createElement('canvas')\r\n\t\ttmp.width = dw; tmp.height = dh\r\n\t\tconst tctx = tmp.getContext('2d')!\r\n\t\ttctx.drawImage(src, 0, 0, dw, dh)\r\n\t\tconst img = tctx.getImageData(0, 0, dw, dh)\r\n\t\t// Grayscale + Sobel edge magnitude\r\n\t\tconst gray = new Float32Array(dw * dh)\r\n\t\tfor (let i = 0, p = 0; i < img.data.length; i += 4, p++) {\r\n\t\t\tconst r = img.data[i], g = img.data[i+1], b = img.data[i+2]\r\n\t\t\tgray[p] = 0.299*r + 0.587*g + 0.114*b\r\n\t\t}\r\n\t\tconst gx = new Float32Array(dw * dh)\r\n\t\tconst gy = new Float32Array(dw * dh)\r\n\t\tfor (let y = 1; y < dh-1; y++) {\r\n\t\t\tfor (let x = 1; x < dw-1; x++) {\r\n\t\t\t\tconst i = y*dw + x\r\n\t\t\t\tconst a = gray[i - dw - 1], b = gray[i - dw], c = gray[i - dw + 1]\r\n\t\t\t\tconst d0 = gray[i - 1],        /*e*/       f0 = gray[i + 1]\r\n\t\t\t\tconst g0 = gray[i + dw - 1], h0 = gray[i + dw], j0 = gray[i + dw + 1]\r\n\t\t\t\tgx[i] = (-a - 2*d0 - g0) + (c + 2*f0 + j0)\r\n\t\t\t\tgy[i] = (-a - 2*b - c) + (g0 + 2*h0 + j0)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst mag = new Float32Array(dw * dh)\r\n\t\tlet maxMag = 1\r\n\t\tfor (let i = 0; i < mag.length; i++) { const m = Math.hypot(gx[i], gy[i]); mag[i] = m; if (m > maxMag) maxMag = m }\r\n\t\t// Coarse circle search around center for double outer\r\n\t\tconst cx0 = Math.floor(dw/2), cy0 = Math.floor(dh/2)\r\n\t\tconst rMin = Math.floor(Math.min(dw, dh) * 0.35)\r\n\t\tconst rMax = Math.floor(Math.min(dw, dh) * 0.52)\r\n\t\tlet best = { score: -1, cx: cx0, cy: cy0, r: Math.floor((rMin + rMax)/2) }\r\n\t\tconst stepC = Math.max(2, Math.floor(Math.min(dw, dh) * 0.01)) // center step\r\n\t\tconst stepR = Math.max(2, Math.floor(Math.min(dw, dh) * 0.01)) // radius step\r\n\t\tfor (let cy = cy0 - Math.floor(dh*0.08); cy <= cy0 + Math.floor(dh*0.08); cy += stepC) {\r\n\t\t\tfor (let cx = cx0 - Math.floor(dw*0.08); cx <= cx0 + Math.floor(dw*0.08); cx += stepC) {\r\n\t\t\t\tfor (let r = rMin; r <= rMax; r += stepR) {\r\n\t\t\t\t\tlet s = 0\r\n\t\t\t\t\tconst samples = 360\r\n\t\t\t\t\tfor (let a = 0; a < samples; a++) {\r\n\t\t\t\t\t\tconst ang = (a * Math.PI) / 180\r\n\t\t\t\t\t\tconst x = Math.round(cx + r * Math.cos(ang))\r\n\t\t\t\t\t\tconst y = Math.round(cy + r * Math.sin(ang))\r\n\t\t\t\t\t\tif (x <= 0 || x >= dw-1 || y <= 0 || y >= dh-1) continue\r\n\t\t\t\t\t\ts += mag[y*dw + x]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (s > best.score) best = { score: s, cx, cy, r }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Map back to original canvas coords\r\n\t\tconst inv = 1/scale\r\n\t\tconst OCX = best.cx * inv\r\n\t\tconst OCY = best.cy * inv\r\n\t\tconst OR  = best.r  * inv\r\n\t\t// With center/doubleOuter radius fixed, locate other rings via 1D radial search\r\n\t\tfunction radialScore(rPx: number) {\r\n\t\t\tlet s = 0\r\n\t\t\tconst rScaled = rPx * scale\r\n\t\t\tconst samples = 360\r\n\t\t\tfor (let a = 0; a < samples; a++) {\r\n\t\t\t\tconst ang = (a * Math.PI) / 180\r\n\t\t\t\tconst x = Math.round(best.cx + rScaled * Math.cos(ang))\r\n\t\t\t\tconst y = Math.round(best.cy + rScaled * Math.sin(ang))\r\n\t\t\t\tif (x <= 0 || x >= dw-1 || y <= 0 || y >= dh-1) continue\r\n\t\t\t\ts += mag[y*dw + x]\r\n\t\t\t}\r\n\t\t\treturn s\r\n\t\t}\r\n\t\tconst ratios = {\r\n\t\t\tbullInner: BoardRadii.bullInner / BoardRadii.doubleOuter,\r\n\t\t\tbullOuter: BoardRadii.bullOuter / BoardRadii.doubleOuter,\r\n\t\t\ttrebleInner: BoardRadii.trebleInner / BoardRadii.doubleOuter,\r\n\t\t\ttrebleOuter: BoardRadii.trebleOuter / BoardRadii.doubleOuter,\r\n\t\t\tdoubleInner: BoardRadii.doubleInner / BoardRadii.doubleOuter,\r\n\t\t\tdoubleOuter: 1,\r\n\t\t} as const\r\n\t\tfunction refineAround(expectedR: number, pctWindow = 0.10) {\r\n\t\t\tconst lo = Math.max(1, Math.floor(expectedR * (1 - pctWindow)))\r\n\t\t\tconst hi = Math.max(lo+1, Math.floor(expectedR * (1 + pctWindow)))\r\n\t\t\tlet bestR = lo, bestS = -1\r\n\t\t\tfor (let r = lo; r <= hi; r++) {\r\n\t\t\t\tconst s = radialScore(r)\r\n\t\t\t\tif (s > bestS) { bestS = s; bestR = r }\r\n\t\t\t}\r\n\t\t\treturn bestR\r\n\t\t}\r\n\t\tconst dOuter = OR\r\n\t\tconst dInner = refineAround(dOuter * ratios.doubleInner)\r\n\t\tconst tOuter = refineAround(dOuter * ratios.trebleOuter)\r\n\t\tconst tInner = refineAround(dOuter * ratios.trebleInner)\r\n\t\tconst bOuter = refineAround(dOuter * ratios.bullOuter)\r\n\t\tconst bInner = refineAround(dOuter * ratios.bullInner)\r\n\t\t\tsetDetected({ cx: OCX, cy: OCY, bullInner: bInner, bullOuter: bOuter, trebleInner: tInner, trebleOuter: tOuter, doubleInner: dInner, doubleOuter: dOuter })\r\n\t\t\t// Estimate confidence: ratio of ring scores around expected vs local baseline\r\n\t\t\t// Use normalized edge magnitude at found radii to compute a 0-1 score, then scale to percent\r\n\t\t\tconst totalEdge = (r: number) => {\r\n\t\t\t\tconst samples = 180\r\n\t\t\t\tlet s = 0\r\n\t\t\t\tfor (let a = 0; a < samples; a++) {\r\n\t\t\t\t\tconst ang = (a * Math.PI) / 90\r\n\t\t\t\t\tconst x = Math.round(best.cx + (r*scale) * Math.cos(ang))\r\n\t\t\t\t\tconst y = Math.round(best.cy + (r*scale) * Math.sin(ang))\r\n\t\t\t\t\tif (x <= 0 || x >= dw-1 || y <= 0 || y >= dh-1) continue\r\n\t\t\t\t\ts += mag[y*dw + x]\r\n\t\t\t\t}\r\n\t\t\t\treturn s / samples\r\n\t\t\t}\r\n\t\t\tconst score = totalEdge(best.r) + totalEdge(tOuter) + totalEdge(tInner) + totalEdge(dInner) + totalEdge(bOuter) + totalEdge(bInner)\r\n\t\t\tconst norm = score / (maxMag * 6)\r\n\t\t\tconst conf = Math.max(0, Math.min(1, norm))\r\n\t\t\tsetConfidence(Math.round(conf * 100))\r\n\t\t// Seed the four calibration points and compute\r\n\t\tconst pts: Point[] = [\r\n\t\t\t{ x: OCX,       y: OCY - dOuter },\r\n\t\t\t{ x: OCX + dOuter,  y: OCY      },\r\n\t\t\t{ x: OCX,       y: OCY + dOuter },\r\n\t\t\t{ x: OCX - dOuter,  y: OCY      },\r\n\t\t]\r\n\t\tsetDstPoints(pts)\r\n\t\tdrawOverlay(pts)\r\n\t\t\ttry { compute() } catch {}\r\n\t\t\t// Auto-lock if confidence high and error small\r\n\t\t\tconst autoLock = conf >= 0.85\r\n\t\t\tsetCalibration({ locked: autoLock })\r\n\t}\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tdrawOverlay()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t}, [snapshotSet, H])\r\n\r\n\t\t// Live detection loop (runs only when streaming and liveDetect is on)\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!liveDetect || !streaming) return\r\n\t\t\tlet raf = 0\r\n\t\t\tconst tick = () => {\r\n\t\t\t\ttry { captureFrame() } catch {}\r\n\t\t\t\traf = requestAnimationFrame(tick)\r\n\t\t\t}\r\n\t\t\traf = requestAnimationFrame(tick)\r\n\t\t\treturn () => cancelAnimationFrame(raf)\r\n\t\t}, [liveDetect, streaming])\r\n\r\n\t\t// DevicePicker moved from SettingsPanel\r\n\t\tfunction DevicePicker() {\r\n\t\t\tconst { preferredCameraId, preferredCameraLabel, setPreferredCamera } = useUserSettings()\r\n\t\t\tconst [devices, setDevices] = useState<MediaDeviceInfo[]>([])\r\n\t\t\tconst [err, setErr] = useState('')\r\n\t\t\tasync function enumerate() {\r\n\t\t\t\tsetErr('')\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Ensure we have permission; otherwise labels may be empty.\r\n\t\t\t\t\ttry { await navigator.mediaDevices.getUserMedia({ video: true }); } catch {}\r\n\t\t\t\t\tconst list = await navigator.mediaDevices.enumerateDevices()\r\n\t\t\t\t\tconst cams = list.filter(d => d.kind === 'videoinput')\r\n\t\t\t\t\tsetDevices(cams)\r\n\t\t\t\t} catch (e: any) {\r\n\t\t\t\t\tsetErr('Unable to list cameras. Grant camera permission in your browser.')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuseEffect(() => { enumerate() }, [])\r\n\t\t\tconst sel = preferredCameraId || ''\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mt-3 p-3 rounded-lg border border-indigo-500/30 bg-indigo-500/5\">\r\n\t\t\t\t\t<div className=\"font-semibold mb-2\">Select camera device</div>\r\n\t\t\t\t\t{err && <div className=\"text-rose-400 text-sm mb-2\">{err}</div>}\r\n\t\t\t\t\t<div className=\"grid grid-cols-3 gap-2 items-center text-sm\">\r\n\t\t\t\t\t\t<div className=\"col-span-2\">\r\n\t\t\t\t\t\t\t<select className=\"input w-full\" value={sel} onChange={(e)=>{\r\n\t\t\t\t\t\t\t\tconst id = e.target.value || undefined\r\n\t\t\t\t\t\t\t\tconst label = devices.find(d=>d.deviceId===id)?.label || ''\r\n\t\t\t\t\t\t\t\tsetPreferredCamera(id, label)\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option value=\"\">Auto (browser default)</option>\r\n\t\t\t\t\t\t\t\t{devices.map(d => (\r\n\t\t\t\t\t\t\t\t\t<option key={d.deviceId} value={d.deviceId}>\r\n\t\t\t\t\t\t\t\t\t\t{d.label || 'Camera'} {d.label?.toLowerCase().includes('omni') ? '(OMNI)' : ''} {d.label?.toLowerCase().includes('vert') ? '(VERT)' : ''}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t\t\t<button className=\"btn px-2 py-1\" onClick={enumerate}>Refresh</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{preferredCameraLabel && (\r\n\t\t\t\t\t\t<div className=\"text-xs opacity-70 mt-1\">Selected: {preferredCameraLabel}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"text-xs opacity-70 mt-1\">Tip: OMNI and VERT cameras are supportedselect them here and then open Calibrator to align.</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"space-y-4\">\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t{/* Camera device picker moved from SettingsPanel */}\r\n\t\t\t\t\t<DevicePicker />\r\n\t\t\t\t<h2 className=\"text-xl font-semibold mb-2\">Board Calibrator</h2>\r\n\t\t\t\t<p className=\"text-sm opacity-80 mb-3\">\r\n\t\t\t\t\tClick the four points where the outer edge of the double ring touches TOP, RIGHT, BOTTOM, LEFT.\r\n\t\t\t\t\tThen compute to fit the board overlay. Aim for error &lt; 2px for best accuracy.\r\n\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-12 gap-3 mb-2 items-start\">\r\n\t\t\t\t\t\t\t<div className=\"md:col-span-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-xs opacity-70\">Video Source:</span>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1 text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t<button className={`btn px-2 py-1 ${mode==='local'?'bg-emerald-600':''}`} onClick={() => setMode('local')}>Local</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`btn px-2 py-1 ${mode==='phone'?'bg-emerald-600':''}`} onClick={() => setMode('phone')}>Phone</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-[11px]\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"opacity-70\">View Zoom</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"range\" min={50} max={200} step={5} value={Math.round((zoom||1)*100)} onChange={e=>setZoom(Math.max(0.5, Math.min(2, Number(e.target.value)/100)))} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"w-10 text-center\">{Math.round((zoom||1)*100)}%</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn px-2 py-0.5\" onClick={()=>setZoom(1)}>Actual</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2 flex items-center gap-2 text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"inline-flex items-center gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"accent-indigo-600\" checked={liveDetect} onChange={e=>setLiveDetect(e.target.checked)} /> Live auto-detect\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={`px-2 py-0.5 rounded-full border ${confidence>=85?'bg-emerald-500/15 border-emerald-400/30':'bg-white/10 border-white/20'}`}>Confidence: {confidence}%</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<label className=\"mt-2 flex items-center gap-2 text-xs\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"accent-indigo-600\" checked={calibrationGuide} onChange={e=>setCalibrationGuide(e.target.checked)} />\r\n\t\t\t\t\t\t\t\t\tShow preferred-view guide overlay\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t{/* Vertical action buttons */}\r\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-2 mt-3\">\r\n\t\t\t\t\t\t\t\t\t{!streaming ? (\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={startCamera}>{mode==='local' ? 'Start Camera' : 'Pair Phone Camera'}</button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={stopCamera}>Stop Camera</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={captureFrame} disabled={!streaming}>Capture Frame</button>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input ref={fileInputRef} type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={onUploadPhotoChange} />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={triggerUpload}>Upload Photo</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={!snapshotSet} onClick={autoDetectRings}>Auto Detect</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={dstPoints.length !== 4} onClick={compute}>Compute</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className={`btn ${locked? 'bg-emerald-600 hover:bg-emerald-700':''}`} onClick={()=>setCalibration({ locked: !locked })}>{locked ? 'Unlock' : 'Lock In'}</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{locked && <span className=\"text-xs opacity-80\">Calibration saved{errorPx!=null?`  error ${errorPx.toFixed(2)}px`:''}</span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={dstPoints.length === 0} onClick={undoPoint}>Undo</button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={dstPoints.length === 0} onClick={refinePoints}>Refine Points</button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={resetAll}>Reset</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"md:col-span-8 flex items-center justify-end\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"relative w-full max-w-[min(100%,60vh)] rounded-2xl overflow-hidden border border-indigo-400/30 bg-black flex items-center justify-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ aspectRatio: frameSize ? `${frameSize.w} / ${frameSize.h}` : '16 / 9' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!streaming && (\r\n\t\t\t\t\t\t\t\t\t\t<DartLoader calibrationComplete={phase === 'computed'} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0\" style={{ transform: `scale(${zoom||1})`, transformOrigin: 'center center' }}>\r\n\t\t\t\t\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\t\t\t\t\tref={videoRef}\r\n\t\t\t\t\t\t\t\t\t\t\tonLoadedMetadata={(ev) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst v = ev.currentTarget as HTMLVideoElement\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v.videoWidth && v.videoHeight) setFrameSize({ w: v.videoWidth, h: v.videoHeight })\r\n\t\t\t\t\t\t\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`absolute inset-0 w-full h-full ${snapshotSet ? 'opacity-0 -z-10' : 'opacity-100'}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<canvas ref={canvasRef} className={`absolute inset-0 w-full h-full ${snapshotSet ? 'opacity-100' : 'opacity-0 -z-10'}`} />\r\n\t\t\t\t\t\t\t\t\t\t<canvas ref={overlayRef} onClick={onClickOverlay} className=\"absolute inset-0 w-full h-full\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t{mode==='phone' && !streaming && (\r\n\t\t\t\t\t<div className=\"mt-2 p-2 rounded-lg bg-black/40 border border-white/10 text-white text-xs\">\r\n\t\t\t\t\t\t<div>Open on your phone:</div>\r\n\t\t\t\t\t\t<div className=\"font-mono break-all\">{mobileUrl}</div>\r\n\t\t\t\t\t\t<div className=\"mt-1 opacity-80\">WS: {ws ? (ws.readyState===1?'open':ws.readyState===0?'connecting':ws.readyState===2?'closing':'closed') : 'not started'}  {httpsInfo?.https ? 'HTTPS on' : 'HTTP only'}</div>\r\n\t\t\t\t\t\t{pairCode && <div>Code: <span className=\"font-mono\">{pairCode}</span></div>}\r\n\t\t\t\t\t\t{qrDataUrl && <img className=\"mt-1 w-[160px] h-[160px] bg-white rounded\" alt=\"Scan to open\" src={qrDataUrl} />}\r\n\t\t\t\t\t\t<div className=\"mt-1 flex items-center gap-2\">\r\n\t\t\t\t\t\t\t{ttl !== null && <span>Expires in {ttl}s</span>}\r\n\t\t\t\t\t\t\t<button className=\"btn px-2 py-1 text-xs\" onClick={regenerateCode}>Regenerate</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{showTips && (\r\n\t\t\t\t\t\t\t<div className=\"mt-2 p-2 rounded bg-slate-900/60 border border-slate-700/50 text-slate-200\">\r\n\t\t\t\t\t\t\t\t<div className=\"font-semibold mb-1\">Troubleshooting</div>\r\n\t\t\t\t\t\t\t\t<ul className=\"list-disc pl-4 space-y-1\">\r\n\t\t\t\t\t\t\t\t\t<li>Phone and desktop must be on the same WiFi network.</li>\r\n\t\t\t\t\t\t\t\t\t<li>Allow the server through your firewall (ports 8787 and {httpsInfo?.https ? httpsInfo.port : 8788}).</li>\r\n\t\t\t\t\t\t\t\t\t<li>On iPhone, use HTTPS links (QR will prefer https when enabled).</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-2 text-right\"><button className=\"btn btn--ghost px-2 py-1 text-xs\" onClick={()=>setShowTips(false)}>Hide tips</button></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{/* action buttons moved to left column; removed bottom row */}\r\n\t\t\t\t<div className=\"mt-2 text-sm opacity-80\">\r\n\t\t\t\t\t<div>Phase: {phase}</div>\r\n\t\t\t\t\t<div>Clicked: {dstPoints.length} / 4</div>\r\n\t\t\t\t\t{errorPx != null && <div>Fit error: {errorPx.toFixed(2)} px</div>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","// Very lightweight checkout suggestions. For proper coverage consider a full table.\r\n// Returns up to a few route strings like \"T20 T20 D20\" for a given remaining.\r\n\r\nconst doubles = [\r\n  'D1','D2','D3','D4','D5','D6','D7','D8','D9','D10','D11','D12','D13','D14','D15','D16','D17','D18','D19','D20','DB'\r\n]\r\n\r\nfunction dVal(tag: string): number { if (tag === 'DB') return 50; const n = Number(tag.slice(1)); return n*2 }\r\n\r\nfunction prefsDoubleScore(fav: string): number {\r\n  if (!doubles.includes(fav)) return 32 // default D16\r\n  return dVal(fav)\r\n}\r\n\r\nexport function suggestCheckouts(remaining: number, favoriteDouble: string = 'D16'): string[] {\r\n  if (remaining > 170 || remaining <= 1) return []\r\n  // Simple known highest routes for popular numbers, then fall back to greedy towards favourite double\r\n  const hardcoded: Record<number, string[]> = {\r\n    170: ['T20 T20 DB'], 167: ['T20 T19 DB'], 164: ['T20 T18 DB'], 161: ['T20 T17 DB'], 160: ['T20 T20 D20'],\r\n    158: ['T20 T20 D19'], 157: ['T20 T19 D20'], 156: ['T20 T20 D18'], 155: ['T20 T19 D19'], 154: ['T20 T18 D20'],\r\n    153: ['T20 T19 D18'], 152: ['T20 T20 D16'], 151: ['T20 T17 D20'], 150: ['T20 T18 D18'], 149: ['T20 T19 D16'],\r\n    148: ['T20 T16 D20'], 147: ['T20 T17 D18'], 146: ['T20 T18 D16'], 145: ['T20 T15 D20'], 144: ['T20 T20 D12'],\r\n    141: ['T20 T19 D12'], 140: ['T20 T20 D10'], 137: ['T20 T19 D10'], 136: ['T20 T20 D8'], 132: ['BULL T14 D20','T20 T12 D8'],\r\n    130: ['T20 T20 D5','T20 T18 D8'], 129: ['T19 T16 D12'], 128: ['T18 T14 D16'], 127: ['T20 T17 D8'], 126: ['T19 T19 D6'],\r\n    121: ['T20 11 D20','T20 T15 D8'], 120: ['T20 20 D20','T20 S20 D20'], 110: ['T20 10 D20'], 100: ['T20 D20'], 99: ['T19 10 D16','T19 S10 D16'], 97: ['T19 D20'],\r\n    96: ['T20 D18'], 95: ['T19 D19'], 94: ['T18 D20'], 92: ['T20 D16'], 90: ['T18 D18','T20 D15'], 86: ['T18 D16'], 84: ['T20 D12','T16 D18'],\r\n    82: ['BULL D16','T14 D20'], 81: ['T19 D12'], 80: ['T20 D10','D20 D20'], 78: ['T18 D12'], 76: ['T20 D8','T16 D14'], 74: ['T14 D16','T18 D10'],\r\n    72: ['T16 D12','T20 D6'], 70: ['T18 D8','S20 BULL'], 68: ['T20 D4','T16 D10'], 66: ['T10 D18','T14 D12'], 64: ['T16 D8','D16 D16'],\r\n    62: ['T10 D16','T12 D13'], 60: ['20 D20','S20 D20'], 58: ['18 D20','S18 D20'], 56: ['16 D20','S16 D20'], 54: ['14 D20','S14 D20'],\r\n    52: ['20 D16','S20 D16'], 50: ['BULL','10 D20'], 48: ['16 D16','S16 D16'], 46: ['14 D16'], 44: ['12 D16'], 42: ['10 D16'],\r\n    40: ['D20'], 38: ['D19'], 36: ['D18'], 34: ['D17'], 32: ['D16'], 30: ['D15'], 28: ['D14'], 26: ['D13'], 24: ['D12'], 22: ['D11'], 20: ['D10'], 18: ['D9'], 16: ['D8'], 14: ['D7'], 12: ['D6'], 10: ['D5'], 8: ['D4'], 6: ['D3'], 4: ['D2'], 2: ['D1']\r\n  }\r\n  if (hardcoded[remaining]) return hardcoded[remaining]\r\n  // Greedy fallback: aim to leave favourite double if possible in two darts\r\n  const target = prefsDoubleScore(favoriteDouble)\r\n  const routes: string[] = []\r\n  // Try to hit a treble/big single that leaves the fav double\r\n  for (const t of [60, 57, 54, 51, 48]) { // T20..T16\r\n    const left = remaining - t\r\n    if (left === target) { routes.push(`T${t/3} ${favoriteDouble}`); break }\r\n  }\r\n  if (!routes.length) {\r\n    for (const s of [20, 19, 18, 17, 16, 15]) {\r\n      const left = remaining - s\r\n      if (left === target) { routes.push(`${s} ${favoriteDouble}`); break }\r\n    }\r\n  }\r\n  return routes\r\n}\r\n\r\nexport function sayScore(name: string, scored: number, remaining: number, voiceName?: string, opts?: { volume?: number; checkoutOnly?: boolean }) {\r\n  try {\r\n    const synth = window.speechSynthesis\r\n    if (!synth) return\r\n    const msg = new SpeechSynthesisUtterance()\r\n    const isCheckout = remaining <= 170 && remaining > 0\r\n    if (opts?.checkoutOnly && !isCheckout) return\r\n    msg.text = isCheckout ? `${name}, you have ${remaining} remaining.` : `${scored}`\r\n    if (voiceName) {\r\n      const v = synth.getVoices().find(v => v.name === voiceName)\r\n      if (v) msg.voice = v\r\n    }\r\n    if (typeof opts?.volume === 'number') msg.volume = Math.max(0, Math.min(1, opts.volume))\r\n    msg.rate = 1.0\r\n    msg.pitch = 1.0\r\n    synth.speak(msg)\r\n  } catch {}\r\n}\r\n","import { useEffect, useMemo, useRef, useState } from 'react'\r\nimport QRCode from 'qrcode'\r\nimport { useUserSettings } from '../store/userSettings'\r\n\r\nexport default function CameraTile({ label, autoStart = false, scale: scaleOverride }: { label?: string; autoStart?: boolean; scale?: number }) {\r\n  const videoRef = useRef<HTMLVideoElement>(null)\r\n  const [streaming, setStreaming] = useState(false)\r\n  const [ws, setWs] = useState<WebSocket | null>(null)\r\n  const [pairCode, setPairCode] = useState<string | null>(null)\r\n  const [pc, setPc] = useState<RTCPeerConnection | null>(null)\r\n  const [mode, setMode] = useState<'local'|'phone'>(() => (localStorage.getItem('ndn:camera:mode') as any) || 'local')\r\n  const [expiresAt, setExpiresAt] = useState<number | null>(null)\r\n  const [now, setNow] = useState<number>(Date.now())\r\n  const [paired, setPaired] = useState<boolean>(false)\r\n  const [lanHost, setLanHost] = useState<string | null>(null)\r\n  const [httpsInfo, setHttpsInfo] = useState<{ https: boolean; port: number } | null>(null)\r\n  const [showTips, setShowTips] = useState<boolean>(true)\r\n  useEffect(() => {\r\n    const h = window.location.hostname\r\n    if (h === 'localhost' || h === '127.0.0.1') {\r\n      fetch(`/api/hosts`).then(r => r.json()).then(j => {\r\n        const ip = Array.isArray(j?.hosts) && j.hosts.find((x: string) => x)\r\n        if (ip) setLanHost(ip)\r\n      }).catch(()=>{})\r\n    }\r\n    // Detect HTTPS support for the phone link\r\n    fetch(`/api/https-info`).then(r=>r.json()).then(j=>{\r\n      if (j && typeof j.https === 'boolean') setHttpsInfo({ https: !!j.https, port: Number(j.port)||8788 })\r\n    }).catch(()=>{})\r\n  }, [])\r\n  const mobileUrl = useMemo(() => {\r\n    const code = pairCode || '____'\r\n    // If a hosted WS URL is configured (e.g., Render), derive the server origin from it\r\n    const envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n    if (envUrl && envUrl.length > 0) {\r\n      try {\r\n        // Convert ws(s)://host[/ws] -> http(s)://host (strip trailing /ws)\r\n        const u = new URL(envUrl)\r\n        const isSecure = u.protocol === 'wss:'\r\n        const origin = `${isSecure ? 'https' : 'http'}://${u.host}${u.pathname.endsWith('/ws') ? '' : u.pathname}`\r\n        const base = origin.replace(/\\/?ws$/i, '')\r\n        return `${base}/mobile-cam.html?code=${code}`\r\n      } catch {}\r\n    }\r\n    // Fallback to local development: prefer LAN host if detected\r\n    const host = (lanHost || window.location.hostname)\r\n    const useHttps = !!httpsInfo?.https\r\n    const port = useHttps ? (httpsInfo?.port || 8788) : 8787\r\n    const proto = useHttps ? 'https' : 'http'\r\n    return `${proto}://${host}:${port}/mobile-cam.html?code=${code}`\r\n  }, [pairCode, lanHost, httpsInfo])\r\n  useEffect(() => { localStorage.setItem('ndn:camera:mode', mode) }, [mode])\r\n  const [qrDataUrl, setQrDataUrl] = useState<string>('')\r\n  useEffect(() => {\r\n    if (!pairCode) { setQrDataUrl(''); return }\r\n    QRCode.toDataURL(mobileUrl, { width: 160, margin: 1, color: { dark: '#000000', light: '#ffffff' } })\r\n      .then(setQrDataUrl)\r\n      .catch(() => setQrDataUrl(''))\r\n  }, [mobileUrl, pairCode])\r\n  useEffect(() => {\r\n    if (!expiresAt) return\r\n    const t = setInterval(() => setNow(Date.now()), 1000)\r\n    return () => clearInterval(t)\r\n  }, [expiresAt])\r\n  const ttl = useMemo(() => expiresAt ? Math.max(0, Math.ceil((expiresAt - now)/1000)) : null, [expiresAt, now])\r\n  // Auto-regenerate only if code expired and phone has not joined yet\r\n  useEffect(() => {\r\n    if (ttl === null) return\r\n    if (ttl <= 0 && !paired && !streaming && mode === 'phone') {\r\n      regenerateCode()\r\n    }\r\n  }, [ttl, paired, streaming, mode])\r\n\r\n  useEffect(() => {\r\n    if (!autoStart) return\r\n    start().catch(()=>{})\r\n    return () => stop()\r\n  }, [autoStart])\r\n\r\n  async function start() {\r\n    try {\r\n      // Prefer saved camera if available\r\n      const { preferredCameraId, setPreferredCamera } = useUserSettings.getState()\r\n      const constraints: MediaStreamConstraints = preferredCameraId ? { video: { deviceId: { exact: preferredCameraId } }, audio: false } : { video: true, audio: false }\r\n      let stream: MediaStream\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints)\r\n      } catch (err: any) {\r\n        const name = (err && (err.name || err.code)) || ''\r\n        if (preferredCameraId && (name === 'OverconstrainedError' || name === 'NotFoundError')) {\r\n          stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false })\r\n        } else {\r\n          throw err\r\n        }\r\n      }\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream\r\n        await videoRef.current.play()\r\n        setStreaming(true)\r\n      }\r\n      // Update selected label after start\r\n      try {\r\n        const list = await navigator.mediaDevices.enumerateDevices()\r\n        const vidTrack = (stream.getVideoTracks?.()||[])[0]\r\n        const settings = vidTrack?.getSettings?.()\r\n        const id = settings?.deviceId as string | undefined\r\n        if (id) {\r\n          const label = list.find(d=>d.deviceId===id)?.label\r\n          setPreferredCamera(id, label||'')\r\n        }\r\n      } catch {}\r\n    } catch {}\r\n  }\r\n  function stop() {\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      const tracks = (videoRef.current.srcObject as MediaStream).getTracks()\r\n      tracks.forEach(t => t.stop())\r\n      videoRef.current.srcObject = null\r\n      setStreaming(false)\r\n    }\r\n  }\r\n\r\n  // Phone pairing via WebRTC\r\n  function ensureWS() {\r\n    if (ws && ws.readyState === WebSocket.OPEN) return ws\r\n    const envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n    // Normalize env URL to ensure it targets the WS endpoint path\r\n    const normalizedEnv = envUrl && envUrl.length > 0\r\n      ? (envUrl.endsWith('/ws') ? envUrl : envUrl.replace(/\\/$/, '') + '/ws')\r\n      : undefined\r\n    // Fallbacks prefer same-origin when available; always include '/ws'\r\n    const proto = (window.location.protocol === 'https:' ? 'wss' : 'ws')\r\n    const sameOrigin = `${proto}://${window.location.host}/ws`\r\n    const host = window.location.hostname\r\n    const fallbacks = [sameOrigin, `${proto}://${host}:8787/ws`, `${proto}://${host}:3000/ws`]\r\n    const url = normalizedEnv || fallbacks[0]\r\n    const socket = new WebSocket(url)\r\n    setWs(socket)\r\n    return socket\r\n  }\r\n  async function startPhonePairing() {\r\n    setMode('phone')\r\n    setPaired(false)\r\n    const socket = ensureWS()\r\n    if (socket.readyState === WebSocket.OPEN) {\r\n      socket.send(JSON.stringify({ type: 'cam-create' }))\r\n    } else {\r\n      socket.onopen = () => socket.send(JSON.stringify({ type: 'cam-create' }))\r\n    }\r\n    socket.onmessage = async (ev) => {\r\n      const data = JSON.parse(ev.data)\r\n      if (data.type === 'cam-code') {\r\n        setPairCode(data.code)\r\n        if (data.expiresAt) setExpiresAt(data.expiresAt)\r\n      } else if (data.type === 'cam-peer-joined') {\r\n        setPaired(true)\r\n        // Create offer to the phone\r\n        const peer = new RTCPeerConnection({ iceServers: [{ urls: 'stun:stun.l.google.com:19302' }] })\r\n        setPc(peer)\r\n        peer.onicecandidate = (e) => {\r\n          if (e.candidate && pairCode) socket.send(JSON.stringify({ type: 'cam-ice', code: pairCode, payload: e.candidate }))\r\n        }\r\n        peer.ontrack = (ev) => {\r\n          if (videoRef.current) {\r\n            const inbound = ev.streams?.[0]\r\n            if (inbound) {\r\n              videoRef.current.srcObject = inbound\r\n              videoRef.current.play().catch(()=>{})\r\n              setStreaming(true)\r\n            }\r\n          }\r\n        }\r\n        const offer = await peer.createOffer({ offerToReceiveAudio: false, offerToReceiveVideo: true })\r\n        await peer.setLocalDescription(offer)\r\n        if (pairCode) socket.send(JSON.stringify({ type: 'cam-offer', code: pairCode, payload: offer }))\r\n      } else if (data.type === 'cam-answer') {\r\n        if (pc) await pc.setRemoteDescription(new RTCSessionDescription(data.payload))\r\n      } else if (data.type === 'cam-ice') {\r\n        if (pc) try { await pc.addIceCandidate(data.payload) } catch {}\r\n      }\r\n    }\r\n  }\r\n  function regenerateCode() {\r\n    setPairCode(null)\r\n    setExpiresAt(null)\r\n    setPaired(false)\r\n    if (ws && ws.readyState === WebSocket.OPEN) {\r\n      ws.send(JSON.stringify({ type: 'cam-create' }))\r\n    } else {\r\n      startPhonePairing()\r\n    }\r\n  }\r\n\r\n  function stopAll() {\r\n    stop()\r\n    setPairCode(null)\r\n    setPaired(false)\r\n    setExpiresAt(null)\r\n    if (pc) { try { pc.close() } catch {}; setPc(null) }\r\n  }\r\n  return (\r\n    <CameraFrame label={label} autoStart={autoStart} start={start} stopAll={stopAll} startPhonePairing={startPhonePairing} videoRef={videoRef} streaming={streaming} mode={mode} setMode={setMode} pairCode={pairCode} mobileUrl={mobileUrl} ttl={ttl} qrDataUrl={qrDataUrl} regenerateCode={regenerateCode} httpsInfo={httpsInfo} showTips={showTips} setShowTips={setShowTips} scaleOverride={scaleOverride} />\r\n  )\r\n}\r\n\r\nfunction CameraFrame(props: any) {\r\n  const { cameraScale } = useUserSettings()\r\n  const scale = Math.max(0.5, Math.min(1.25, Number(props.scaleOverride ?? cameraScale ?? 1)))\r\n  const { label, start, stopAll, startPhonePairing, videoRef, streaming, mode, setMode, pairCode, mobileUrl, ttl, qrDataUrl, regenerateCode, httpsInfo, showTips, setShowTips } = props\r\n  return (\r\n    <div className=\"rounded-2xl overflow-hidden bg-black w-full mx-auto\" style={{ aspectRatio: '16 / 9', transform: `scale(${scale})`, transformOrigin: 'center' }}>\r\n      <video ref={videoRef} className=\"w-full h-full object-contain object-center bg-black\" />\r\n      <div className=\"p-1 flex items-center justify-between bg-black/60 text-white text-[10px] gap-1\">\r\n        <span className=\"truncate\">{label || (streaming ? (mode==='phone' ? 'PHONE LIVE' : 'LIVE') : 'Camera')}</span>\r\n        <div className=\"flex items-center gap-1\">\r\n          {!streaming && (\r\n            <>\r\n              <button className={`px-1 py-0.5 rounded ${mode==='local'?'bg-emerald-600':'bg-slate-700'}`} onClick={() => { setMode('local'); start() }}>Local</button>\r\n              <button className={`px-1 py-0.5 rounded ${mode==='phone'?'bg-emerald-600':'bg-slate-700'}`} onClick={startPhonePairing}>Phone</button>\r\n            </>\r\n          )}\r\n          {streaming ? (\r\n            <button className=\"px-1 py-0.5 rounded bg-rose-600\" onClick={stopAll}>Stop</button>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      {mode==='phone' && pairCode && !streaming && (\r\n        <div className=\"p-2 text-white text-[10px] bg-black/50\">\r\n          <div>Open on your phone:</div>\r\n          <div className=\"font-mono\">{mobileUrl}</div>\r\n          <div>Code: <span className=\"font-mono\">{pairCode}</span></div>\r\n          {qrDataUrl && <img className=\"mt-1 w-[160px] h-[160px] bg-white rounded\" alt=\"Scan to open\" src={qrDataUrl} />}\r\n          <div className=\"mt-1 flex items-center gap-2\">\r\n            {ttl !== null && <span>Expires in {ttl}s</span>}\r\n            <button className=\"px-1 py-0.5 rounded bg-slate-700\" onClick={regenerateCode}>Regenerate</button>\r\n          </div>\r\n          {showTips && (\r\n            <div className=\"mt-2 p-2 rounded bg-slate-900/60 border border-slate-700/50 text-slate-200\">\r\n              <div className=\"font-semibold mb-1\">Troubleshooting</div>\r\n              <ul className=\"list-disc pl-4 space-y-1\">\r\n                <li>Phone and desktop must be on the same WiFi network.</li>\r\n                <li>Allow the server through your firewall (ports 8787 and {httpsInfo?.https ? httpsInfo.port : 8788}).</li>\r\n                <li>On iPhone, use HTTPS links (QR will prefer https when enabled).</li>\r\n              </ul>\r\n              <div className=\"mt-2 text-right\"><button className=\"btn btn--ghost px-2 py-1 text-xs\" onClick={()=>setShowTips(false)}>Hide tips</button></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { create } from 'zustand'\r\n\r\nexport type ThrowVisit = { darts: number; score: number } // e.g., 3 darts, scored 100\r\nexport type Leg = {\r\n  visits: ThrowVisit[]\r\n  totalScoreStart: number // e.g., 501\r\n  totalScoreRemaining: number\r\n  dartsThrown: number\r\n  finished: boolean\r\n  checkoutScore: number | null // score taken on final visit to finish leg\r\n  startTime: number\r\n  endTime?: number\r\n}\r\n\r\nexport type Player = {\r\n  id: string\r\n  name: string\r\n  legsWon: number\r\n  legs: Leg[]\r\n  bestThreeDartAvg?: number\r\n  worstThreeDartAvg?: number\r\n  bestNineDart?: { darts: number; timestamp: number }\r\n  bestCheckout?: number\r\n}\r\n\r\nexport type MatchState = {\r\n  roomId: string\r\n  players: Player[]\r\n  currentPlayerIdx: number\r\n  startingScore: number\r\n  inProgress: boolean\r\n  bestLegThisMatch?: { playerId: string; darts: number; timestamp: number }\r\n}\r\n\r\nfunction calcThreeDartAvg(leg: Leg): number {\r\n  if (leg.dartsThrown === 0) return 0\r\n  const scored = leg.totalScoreStart - leg.totalScoreRemaining\r\n  return (scored / leg.dartsThrown) * 3\r\n}\r\n\r\nfunction finishedLegStats(leg: Leg) {\r\n  // compute 3-dart avg, was it a 9-dart (or lowest darts)?\r\n  const avg = calcThreeDartAvg(leg)\r\n  const isCompleted = leg.finished\r\n  return { avg, isCompleted, darts: leg.dartsThrown, checkout: leg.checkoutScore ?? 0 }\r\n}\r\n\r\nfunction updatePlayerEndOfGameStats(player: Player) {\r\n  if (player.legs.length === 0) return\r\n  const avgs: number[] = []\r\n  let bestNine: { darts: number; timestamp: number } | undefined\r\n  let bestCheckout = player.bestCheckout ?? 0\r\n\r\n  for (const leg of player.legs) {\r\n    if (!leg.finished) continue\r\n    const st = finishedLegStats(leg)\r\n    avgs.push(st.avg)\r\n    // best \"9-dart leg\" meaning fewest darts; if tie pick earliest\r\n    if (!bestNine || st.darts < bestNine.darts || (st.darts === bestNine.darts && (leg.endTime ?? 0) < bestNine.timestamp)) {\r\n      bestNine = { darts: st.darts, timestamp: leg.endTime ?? Date.now() }\r\n    }\r\n    if (st.checkout > bestCheckout) bestCheckout = st.checkout\r\n  }\r\n\r\n  if (avgs.length) {\r\n    player.bestThreeDartAvg = Math.max(...avgs)\r\n    player.worstThreeDartAvg = Math.min(...avgs)\r\n  }\r\n  if (bestNine) player.bestNineDart = bestNine\r\n  player.bestCheckout = bestCheckout\r\n}\r\n\r\nexport type Actions = {\r\n  newMatch: (players: string[], startingScore: number, roomId?: string) => void\r\n  addVisit: (score: number, darts: number) => void\r\n  undoVisit: () => void\r\n  endLeg: (checkoutScore: number) => void\r\n  nextPlayer: () => void\r\n  endGame: () => void\r\n  importState: (state: MatchState) => void\r\n}\r\n\r\nexport const useMatch = create<MatchState & Actions>((set, get) => ({\r\n  roomId: '',\r\n  players: [],\r\n  currentPlayerIdx: 0,\r\n  startingScore: 501,\r\n  inProgress: false,\r\n\r\n  newMatch: (playerNames, startingScore, roomId='') => set(() => {\r\n    const players = playerNames.map((name, i) => ({\r\n      id: `${i}`,\r\n      name,\r\n      legsWon: 0,\r\n      legs: [],\r\n    } as Player))\r\n    return { players, currentPlayerIdx: 0, startingScore, inProgress: true, roomId, bestLegThisMatch: undefined }\r\n  }),\r\n\r\n  addVisit: (score, darts) => set((state) => {\r\n    if (!state.inProgress) return state\r\n    const p = state.players[state.currentPlayerIdx]\r\n    // ensure a current leg exists\r\n    let leg = p.legs[p.legs.length-1]\r\n    if (!leg || leg.finished) {\r\n      leg = {\r\n        visits: [], totalScoreStart: state.startingScore, totalScoreRemaining: state.startingScore,\r\n        dartsThrown: 0, finished: false, checkoutScore: null, startTime: Date.now()\r\n      }\r\n      p.legs.push(leg)\r\n    }\r\n    leg.visits.push({ darts, score })\r\n    leg.dartsThrown += darts\r\n    leg.totalScoreRemaining = Math.max(0, leg.totalScoreRemaining - score)\r\n    return { ...state }\r\n  }),\r\n\r\n  undoVisit: () => set((state) => {\r\n    const p = state.players[state.currentPlayerIdx]\r\n    const leg = p.legs[p.legs.length-1]\r\n    if (!leg || leg.finished || leg.visits.length === 0) return state\r\n    const last = leg.visits.pop()!\r\n    leg.dartsThrown -= last.darts\r\n    leg.totalScoreRemaining += last.score\r\n    return { ...state }\r\n  }),\r\n\r\n  endLeg: (checkoutScore) => set((state) => {\r\n    const p = state.players[state.currentPlayerIdx]\r\n    const leg = p.legs[p.legs.length-1]\r\n    if (!leg || leg.finished) return state\r\n    leg.finished = true\r\n    leg.checkoutScore = checkoutScore\r\n    leg.endTime = Date.now()\r\n    if (leg.totalScoreRemaining === 0) {\r\n      p.legsWon += 1\r\n      // Check if this leg is the new best for this match (fewest darts)\r\n      const best = state.bestLegThisMatch\r\n      if (!best || (leg.dartsThrown < best.darts)) {\r\n        state.bestLegThisMatch = { playerId: p.id, darts: leg.dartsThrown, timestamp: leg.endTime }\r\n      }\r\n    }\r\n    return { ...state }\r\n  }),\r\n\r\n  nextPlayer: () => set((state) => ({\r\n    ...state,\r\n    currentPlayerIdx: (state.currentPlayerIdx + 1) % state.players.length\r\n  })),\r\n\r\n  endGame: () => set((state) => {\r\n    // Only now compute best/worst 3-dart, best 9-dart, best checkout\r\n    for (const p of state.players) updatePlayerEndOfGameStats(p)\r\n    return { ...state, inProgress: false }\r\n  }),\r\n\r\n  importState: (newState) => set(() => ({ ...newState })),\r\n}))\r\n","import type { Homography, Point } from './vision'\r\nimport { imageToBoard, scoreAtBoardPoint } from './vision'\r\n\r\nexport function scoreFromImagePoint(H_boardToImage: Homography, pImg: Point) {\r\n\tconst pBoard = imageToBoard(H_boardToImage, pImg)\r\n\treturn scoreAtBoardPoint(pBoard)\r\n}\r\n","// Generic autoscore provider helpers: parse vendor-agnostic payloads and subscribe via WebSocket\r\n\r\nexport type Ring = 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'\r\nexport type ParsedDart = { value: number; ring: Ring; sector?: number|null; mult?: 0|1|2|3 }\r\n\r\n// Try to parse a variety of vendor payload shapes\r\nexport function parseExternalDart(data: any): ParsedDart | null {\r\n  try {\r\n    if (!data || typeof data !== 'object') return null\r\n    // 1) { type:'dart', value: <0-60>, ring: 'SINGLE'|'DOUBLE'|... }\r\n    if ((data.type === 'dart' || data.kind === 'dart' || data.event === 'dart') && typeof data.value === 'number') {\r\n      const ring = normalizeRing(data.ring)\r\n      return finalizeFromValue(data.value, ring)\r\n    }\r\n    // 2) { value, ring }\r\n    if (typeof data.value === 'number' && data.ring) {\r\n      const ring = normalizeRing(data.ring)\r\n      return finalizeFromValue(data.value, ring)\r\n    }\r\n    // 3) { score: 'T20'|'D16'|'S5'|'25'|'50' }\r\n    if (typeof data.score === 'string') {\r\n      const s = data.score.trim().toUpperCase()\r\n      if (s === '50' || s === 'DBULL' || s === 'INNER_BULL') return { value: 50, ring: 'INNER_BULL', sector: null, mult: 0 }\r\n      if (s === '25' || s === 'BULL' || s === 'OBULL') return { value: 25, ring: 'BULL', sector: null, mult: 0 }\r\n      const m = s.match(/^(S|D|T)(\\d{1,2})$/)\r\n      if (m) {\r\n        const mult = m[1] === 'S' ? 1 : m[1] === 'D' ? 2 : 3\r\n        const sec = parseInt(m[2],10)\r\n        if (sec >=1 && sec <= 20) return { value: sec*mult, ring: mult===1?'SINGLE':mult===2?'DOUBLE':'TRIPLE', sector: sec, mult: mult as 1|2|3 }\r\n      }\r\n    }\r\n    // 4) { sector: 1..20, mult: 1|2|3 }\r\n    if (typeof data.sector === 'number' && typeof data.mult === 'number') {\r\n      const sec = Math.max(1, Math.min(20, Math.floor(data.sector)))\r\n      const mul = data.mult===1?1:data.mult===2?2:3\r\n      return { value: sec*mul, ring: mul===1?'SINGLE':mul===2?'DOUBLE':'TRIPLE', sector: sec, mult: mul as 1|2|3 }\r\n    }\r\n    // 5) { bull: 'outer'|'inner'|true }\r\n    if (data.bull) {\r\n      const inner = String(data.bull).toLowerCase() === 'inner' || data.bull === true\r\n      return { value: inner?50:25, ring: inner?'INNER_BULL':'BULL', sector: null, mult: 0 }\r\n    }\r\n  } catch {}\r\n  return null\r\n}\r\n\r\nfunction normalizeRing(r: any): Ring {\r\n  const s = String(r||'').toUpperCase()\r\n  if (s.startsWith('TR')) return 'TRIPLE'\r\n  if (s.startsWith('DO')) return 'DOUBLE'\r\n  if (s.startsWith('SI')) return 'SINGLE'\r\n  if (s === 'INNER_BULL' || s === 'DBULL' || s === '50' || s === 'IBULL') return 'INNER_BULL'\r\n  if (s === 'BULL' || s === '25' || s === 'OBULL' || s === 'OUTER_BULL') return 'BULL'\r\n  if (s === 'MISS' || s === '0') return 'MISS'\r\n  return 'SINGLE'\r\n}\r\n\r\nfunction finalizeFromValue(value: number, ring: Ring): ParsedDart | null {\r\n  const v = Math.max(0, Math.min(60, Math.round(Number(value)||0)))\r\n  if (ring === 'INNER_BULL') return { value: 50, ring }\r\n  if (ring === 'BULL') return { value: 25, ring }\r\n  // Best-effort: preserve base if consistent with ring\r\n  return { value: v, ring }\r\n}\r\n\r\nexport type ExternalSub = { close: () => void }\r\n\r\nexport function subscribeExternalWS(url: string, onDart: (d: ParsedDart) => void): ExternalSub {\r\n  let socket: WebSocket | null = null\r\n  let alive = true\r\n  function connect() {\r\n    if (!alive) return\r\n    try {\r\n      socket = new WebSocket(url)\r\n      socket.onmessage = (ev) => {\r\n        try {\r\n          const payload = JSON.parse(ev.data)\r\n          const parsed = parseExternalDart(payload)\r\n          if (parsed) onDart(parsed)\r\n        } catch {}\r\n      }\r\n      socket.onclose = () => { socket = null; setTimeout(connect, 1500) }\r\n      socket.onerror = () => { /* ignore; will reconnect on close */ }\r\n    } catch {\r\n      setTimeout(connect, 2000)\r\n    }\r\n  }\r\n  connect()\r\n  return { close: () => { alive = false; try { socket?.close() } catch {} } }\r\n}\r\n","import React, { useEffect, useRef, useState, type ReactNode, type CSSProperties } from 'react'\r\n\r\ntype Props = {\r\n  storageKey: string\r\n  children: ReactNode\r\n  className?: string\r\n  defaultWidth?: number\r\n  defaultHeight?: number\r\n  minWidth?: number\r\n  minHeight?: number\r\n  maxWidth?: number\r\n  maxHeight?: number\r\n}\r\n\r\ntype Size = { width?: number; height?: number }\r\n\r\nexport default function ResizablePanel({\r\n  storageKey,\r\n  children,\r\n  className,\r\n  defaultWidth = 640,\r\n  defaultHeight = 360,\r\n  minWidth = 320,\r\n  minHeight = 200,\r\n  maxWidth = 1600,\r\n  maxHeight = 1200,\r\n}: Props) {\r\n  const [size, setSize] = useState<Size>(() => {\r\n    try { const raw = localStorage.getItem(storageKey); if (raw) return JSON.parse(raw) } catch {}\r\n    return { width: defaultWidth, height: defaultHeight }\r\n  })\r\n  const startRef = useRef<{ x: number; y: number; w: number; h: number; dir: string } | null>(null)\r\n  const containerRef = useRef<HTMLDivElement | null>(null)\r\n\r\n  useEffect(() => {\r\n    function onReset() {\r\n      try { localStorage.removeItem(storageKey) } catch {}\r\n      setSize({ width: defaultWidth, height: defaultHeight })\r\n    }\r\n    window.addEventListener('ndn:layout-reset' as any, onReset)\r\n    window.addEventListener('ndn:camera-reset' as any, onReset)\r\n    return () => {\r\n      window.removeEventListener('ndn:layout-reset' as any, onReset)\r\n      window.removeEventListener('ndn:camera-reset' as any, onReset)\r\n    }\r\n  }, [storageKey, defaultWidth, defaultHeight])\r\n\r\n  useEffect(() => { try { localStorage.setItem(storageKey, JSON.stringify(size)) } catch {} }, [size, storageKey])\r\n\r\n  function clamp(n: number, min: number, max: number) { return Math.max(min, Math.min(max, n)) }\r\n  function beginResize(e: React.MouseEvent, dir: string) {\r\n    e.preventDefault(); const el = containerRef.current; if (!el) return\r\n    const rect = el.getBoundingClientRect()\r\n    startRef.current = { x: e.clientX, y: e.clientY, w: rect.width, h: rect.height, dir }\r\n    window.addEventListener('mousemove', onMove)\r\n    window.addEventListener('mouseup', endResize)\r\n  }\r\n  function onMove(e: globalThis.MouseEvent) {\r\n    const s = startRef.current; if (!s) return\r\n    const dx = e.clientX - s.x; const dy = e.clientY - s.y\r\n    let w = s.w; let h = s.h\r\n    if (s.dir.includes('e')) w = clamp(s.w + dx, minWidth, maxWidth)\r\n    if (s.dir.includes('s')) h = clamp(s.h + dy, minHeight, maxHeight)\r\n    if (s.dir.includes('w')) w = clamp(s.w - dx, minWidth, maxWidth)\r\n    if (s.dir.includes('n')) h = clamp(s.h - dy, minHeight, maxHeight)\r\n    setSize({ width: Math.round(w), height: Math.round(h) })\r\n  }\r\n  function endResize() { window.removeEventListener('mousemove', onMove); window.removeEventListener('mouseup', endResize); startRef.current = null }\r\n\r\n  const style: CSSProperties = {\r\n    width: size.width ? `${size.width}px` : undefined,\r\n    height: size.height ? `${size.height}px` : undefined,\r\n    maxWidth: '100%',\r\n    maxHeight: '80vh',\r\n    position: 'relative',\r\n  }\r\n\r\n  return (\r\n    <div ref={containerRef} className={`${className || ''}`} style={style}>\r\n      {children}\r\n      <div className=\"resizer resizer-nw\" onMouseDown={(e)=>beginResize(e,'nw')} />\r\n      <div className=\"resizer resizer-ne\" onMouseDown={(e)=>beginResize(e,'ne')} />\r\n      <div className=\"resizer resizer-sw\" onMouseDown={(e)=>beginResize(e,'sw')} />\r\n      <div className=\"resizer resizer-se\" onMouseDown={(e)=>beginResize(e,'se')} />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState, type ReactNode, type CSSProperties } from 'react'\r\n\r\ntype Props = {\r\n  storageKey: string\r\n  children: ReactNode\r\n  className?: string\r\n  defaultWidth?: number\r\n  defaultHeight?: number\r\n  minWidth?: number\r\n  minHeight?: number\r\n  maxWidth?: number\r\n  maxHeight?: number\r\n  fullScreen?: boolean\r\n  initialFitHeight?: boolean\r\n}\r\n\r\ntype Size = { width?: number; height?: number }\r\n\r\nexport default function ResizableModal({\r\n  storageKey,\r\n  children,\r\n  className,\r\n  defaultWidth = 520,\r\n  defaultHeight,\r\n  minWidth = 360,\r\n  minHeight = 200,\r\n  maxWidth = 1100,\r\n  maxHeight = 900,\r\n  fullScreen = false,\r\n  initialFitHeight = false,\r\n}: Props) {\r\n  const [size, setSize] = useState<Size>(() => {\r\n    if (!fullScreen) {\r\n      try {\r\n        const raw = localStorage.getItem(storageKey)\r\n        if (raw) return JSON.parse(raw)\r\n      } catch {}\r\n      return { width: defaultWidth, height: defaultHeight }\r\n    }\r\n    return {}\r\n  })\r\n  const startRef = useRef<{ x: number; y: number; w: number; h: number; dir: string } | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (fullScreen) return\r\n    function onReset() {\r\n      try { localStorage.removeItem(storageKey) } catch {}\r\n      // If initialFitHeight is enabled, prefer fitting to parent height on reset\r\n      if (initialFitHeight && containerRef.current?.parentElement) {\r\n        const parent = containerRef.current.parentElement as HTMLElement\r\n        const cs = window.getComputedStyle(parent)\r\n        const padTop = parseFloat(cs.paddingTop || '0') || 0\r\n        const padBottom = parseFloat(cs.paddingBottom || '0') || 0\r\n        const inner = Math.max(0, parent.clientHeight - padTop - padBottom)\r\n        const target = Math.max(minHeight, Math.min(maxHeight, Math.round(inner)))\r\n        setSize({ width: defaultWidth, height: target })\r\n        return\r\n      }\r\n      setSize({ width: defaultWidth, height: defaultHeight })\r\n    }\r\n    window.addEventListener('ndn:layout-reset' as any, onReset)\r\n    return () => window.removeEventListener('ndn:layout-reset' as any, onReset)\r\n  }, [storageKey, defaultWidth, defaultHeight, fullScreen])\r\n\r\n  useEffect(() => {\r\n    if (fullScreen) return\r\n    try { localStorage.setItem(storageKey, JSON.stringify(size)) } catch {}\r\n  }, [size, storageKey, fullScreen])\r\n\r\n  // Optionally fit initial height to the available parent container when no saved size exists\r\n  useEffect(() => {\r\n    if (fullScreen || !initialFitHeight) return\r\n    const parent = containerRef.current?.parentElement as HTMLElement | null\r\n    if (!parent) return\r\n    const cs = window.getComputedStyle(parent)\r\n    const padTop = parseFloat(cs.paddingTop || '0') || 0\r\n    const padBottom = parseFloat(cs.paddingBottom || '0') || 0\r\n    const inner = Math.max(0, parent.clientHeight - padTop - padBottom)\r\n    const target = Math.max(minHeight, Math.min(maxHeight, Math.round(inner)))\r\n    try {\r\n      const saved = localStorage.getItem(storageKey)\r\n      if (saved) {\r\n        const savedSize = JSON.parse(saved) as Size\r\n        const h = savedSize?.height || 0\r\n        // If saved height is smaller than available, bump it to fill the frame bottom\r\n        if (!h || h < target) {\r\n          setSize(s => ({ ...s, height: target }))\r\n        }\r\n        return\r\n      }\r\n    } catch {}\r\n    setSize(s => ({ ...s, height: target }))\r\n  }, [initialFitHeight, fullScreen, storageKey, minHeight, maxHeight])\r\n\r\n  function clamp(n: number, min: number, max: number) {\r\n    return Math.max(min, Math.min(max, n))\r\n  }\r\n\r\n  function beginResize(e: React.MouseEvent, dir: string) {\r\n    e.preventDefault()\r\n    const el = containerRef.current\r\n    if (!el) return\r\n    const rect = el.getBoundingClientRect()\r\n    startRef.current = { x: e.clientX, y: e.clientY, w: rect.width, h: rect.height, dir }\r\n    window.addEventListener('mousemove', onMove)\r\n    window.addEventListener('mouseup', endResize)\r\n  }\r\n\r\n  function onMove(e: MouseEvent) {\r\n    const s = startRef.current\r\n    if (!s) return\r\n    const dx = e.clientX - s.x\r\n    const dy = e.clientY - s.y\r\n    const dir = s.dir\r\n    let w = s.w\r\n    let h = s.h\r\n    // Respect parent's inner height so the modal bottom can align with the frame bottom\r\n    let parentInner = Infinity\r\n    const parent = containerRef.current?.parentElement as HTMLElement | null\r\n    if (parent) {\r\n      const cs = window.getComputedStyle(parent)\r\n      const padTop = parseFloat(cs.paddingTop || '0') || 0\r\n      const padBottom = parseFloat(cs.paddingBottom || '0') || 0\r\n      parentInner = Math.max(0, parent.clientHeight - padTop - padBottom)\r\n    }\r\n    const effMaxH = Math.min(maxHeight, isFinite(parentInner) ? parentInner : maxHeight)\r\n    // We only adjust width/height; the modal stays centered via parent flex\r\n    if (dir.includes('e')) w = clamp(s.w + dx, minWidth, maxWidth)\r\n    if (dir.includes('s')) h = clamp(s.h + dy, minHeight, effMaxH)\r\n    if (dir.includes('w')) w = clamp(s.w - dx, minWidth, maxWidth)\r\n    if (dir.includes('n')) h = clamp(s.h - dy, minHeight, effMaxH)\r\n    setSize({ width: Math.round(w), height: Math.round(h) })\r\n  }\r\n\r\n  function endResize() {\r\n    window.removeEventListener('mousemove', onMove)\r\n    window.removeEventListener('mouseup', endResize)\r\n    startRef.current = null\r\n  }\r\n\r\n  const containerRef = useRef<HTMLDivElement | null>(null)\r\n  const style: CSSProperties = fullScreen\r\n    ? { width: '100%', height: '100%', maxWidth: '100%', maxHeight: '100%' }\r\n    : {\r\n        width: size.width ? `${size.width}px` : undefined,\r\n        height: size.height ? `${size.height}px` : undefined,\r\n        maxWidth: `${maxWidth}px`,\r\n        // Allow filling up to the parent's inner height\r\n        maxHeight: '100%',\r\n      }\r\n\r\n  const baseClass = fullScreen ? 'card relative ndn-modal-full' : 'card relative'\r\n  return (\r\n    <div ref={containerRef} className={`${baseClass} ${className || ''}`} style={style}>\r\n      {/* Content */}\r\n      {children}\r\n      {/* Corner handles */}\r\n      {!fullScreen && <div className=\"resizer resizer-nw\" onMouseDown={(e)=>beginResize(e,'nw')} />}\r\n      {!fullScreen && <div className=\"resizer resizer-ne\" onMouseDown={(e)=>beginResize(e,'ne')} />}\r\n      {!fullScreen && <div className=\"resizer resizer-sw\" onMouseDown={(e)=>beginResize(e,'sw')} />}\r\n      {!fullScreen && <div className=\"resizer resizer-se\" onMouseDown={(e)=>beginResize(e,'se')} />}\r\n      {/* Bottom edge handle for easy vertical stretching */}\r\n      {!fullScreen && <div className=\"resizer-edge resizer-s\" onMouseDown={(e)=>beginResize(e,'s')} />}\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { useUserSettings } from '../store/userSettings'\r\nimport { useCalibration } from '../store/calibration'\r\nimport { useMatch } from '../store/match'\r\nimport { BoardRadii, drawPolyline, sampleRing, scaleHomography, type Point } from '../utils/vision'\r\nimport { scoreFromImagePoint } from '../utils/autoscore'\r\nimport { addSample } from '../store/profileStats'\r\nimport { subscribeExternalWS } from '../utils/scoring'\r\nimport ResizablePanel from './ui/ResizablePanel'\r\nimport ResizableModal from './ui/ResizableModal'\r\n\r\n// Shared ring type across autoscore/manual flows\r\ntype Ring = 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'\r\n\r\nexport default function CameraView({\r\n  onVisitCommitted,\r\n  showToolbar = true,\r\n  onAutoDart,\r\n  immediateAutoCommit = false,\r\n  hideInlinePanels = false,\r\n  scoringMode = 'x01',\r\n  onGenericDart,\r\n  onGenericReplace,\r\n}: {\r\n  onVisitCommitted?: (score: number, darts: number, finished: boolean) => void\r\n  showToolbar?: boolean\r\n  onAutoDart?: (value: number, ring: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', info?: { sector: number | null; mult: 0|1|2|3 }) => void\r\n  immediateAutoCommit?: boolean\r\n  hideInlinePanels?: boolean\r\n  scoringMode?: 'x01' | 'custom'\r\n  onGenericDart?: (value: number, ring: Ring, meta: { label: string }) => void\r\n  onGenericReplace?: (value: number, ring: Ring, meta: { label: string }) => void\r\n}) {\r\n  const videoRef = useRef<HTMLVideoElement>(null)\r\n  const { preferredCameraId, setPreferredCamera, autoscoreProvider, autoscoreWsUrl } = useUserSettings()\r\n  const [availableCameras, setAvailableCameras] = useState<MediaDeviceInfo[]>([])\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const overlayRef = useRef<HTMLCanvasElement>(null)\r\n  const [streaming, setStreaming] = useState(false)\r\n  const [snapshotUrl, setSnapshotUrl] = useState<string | null>(null)\r\n  const { H, imageSize, reset: resetCalibration } = useCalibration()\r\n  const [lastAutoScore, setLastAutoScore] = useState<string>('')\r\n  const [manualScore, setManualScore] = useState<string>('')\r\n  const [lastAutoValue, setLastAutoValue] = useState<number>(0)\r\n  const [lastAutoRing, setLastAutoRing] = useState<Ring>('MISS')\r\n  const [pendingDarts, setPendingDarts] = useState<number>(0)\r\n  const [pendingScore, setPendingScore] = useState<number>(0)\r\n  const [pendingEntries, setPendingEntries] = useState<{ label: string; value: number; ring: Ring }[]>([])\r\n  const addVisit = useMatch(s => s.addVisit)\r\n  const endLeg = useMatch(s => s.endLeg)\r\n  const matchState = useMatch(s => s)\r\n  // Quick entry dropdown selections\r\n  const [quickSelAuto, setQuickSelAuto] = useState('')\r\n  const [quickSelManual, setQuickSelManual] = useState('')\r\n  const [nonRegCount, setNonRegCount] = useState(0)\r\n  const [showRecalModal, setShowRecalModal] = useState(false)\r\n  const [hadRecentAuto, setHadRecentAuto] = useState(false)\r\n  const [activeTab, setActiveTab] = useState<'auto'|'manual'>('auto')\r\n  const [showManualModal, setShowManualModal] = useState(false)\r\n  const [showAutoModal, setShowAutoModal] = useState(false)\r\n  const [showScoringModal, setShowScoringModal] = useState(false)\r\n  const manualPreviewRef = useRef<HTMLCanvasElement | null>(null)\r\n  // Open Autoscore modal from parent via global event\r\n  useEffect(() => {\r\n    const onOpen = () => setShowAutoModal(true)\r\n    window.addEventListener('ndn:open-autoscore' as any, onOpen)\r\n    return () => window.removeEventListener('ndn:open-autoscore' as any, onOpen)\r\n  }, [])\r\n\r\n  // Open Scoring (Camera + Pending Visit) modal from parent via global event\r\n  useEffect(() => {\r\n    const onOpen = () => setShowScoringModal(true)\r\n    window.addEventListener('ndn:open-scoring' as any, onOpen)\r\n    return () => window.removeEventListener('ndn:open-scoring' as any, onOpen)\r\n  }, [])\r\n\r\n  // Allow parent to open/close the manual modal via global events\r\n  useEffect(() => {\r\n    const onOpen = () => { setActiveTab('manual'); setShowManualModal(true) }\r\n    const onClose = () => { setActiveTab('auto'); setShowManualModal(false) }\r\n    window.addEventListener('ndn:open-manual' as any, onOpen)\r\n    window.addEventListener('ndn:close-manual' as any, onClose)\r\n    return () => {\r\n      window.removeEventListener('ndn:open-manual' as any, onOpen)\r\n      window.removeEventListener('ndn:close-manual' as any, onClose)\r\n    }\r\n  }, [])\r\n\r\n  // Drive a lightweight live preview inside the manual modal from the main video element\r\n  useEffect(() => {\r\n    if (!showManualModal) return\r\n    const id = setInterval(() => {\r\n      try {\r\n        const v = videoRef.current\r\n        const c = manualPreviewRef.current\r\n        if (!v || !c) return\r\n        const vw = v.videoWidth || 0\r\n        const vh = v.videoHeight || 0\r\n        if (!vw || !vh) return\r\n        const cw = c.clientWidth || 640\r\n        const ch = c.clientHeight || 360\r\n        // Set backing size to match display for crisp rendering\r\n        if (c.width !== cw) c.width = cw\r\n        if (c.height !== ch) c.height = ch\r\n        const ctx = c.getContext('2d')!\r\n        ctx.imageSmoothingEnabled = true\r\n        // Letterbox fit\r\n        const scale = Math.min(cw / vw, ch / vh)\r\n        const dw = Math.round(vw * scale)\r\n        const dh = Math.round(vh * scale)\r\n        const dx = Math.floor((cw - dw) / 2)\r\n        const dy = Math.floor((ch - dh) / 2)\r\n        ctx.fillStyle = '#000'\r\n        ctx.fillRect(0, 0, cw, ch)\r\n        ctx.drawImage(v, dx, dy, dw, dh)\r\n      } catch {}\r\n    }, 120)\r\n    return () => clearInterval(id)\r\n  }, [showManualModal])\r\n\r\n  useEffect(() => {\r\n    return () => stopCamera()\r\n  }, [])\r\n\r\n  async function startCamera() {\r\n    try {\r\n      // If a preferred camera is set, request it; otherwise default\r\n      const constraints: MediaStreamConstraints = preferredCameraId ? { video: { deviceId: { exact: preferredCameraId } }, audio: false } : { video: true, audio: false }\r\n      let stream: MediaStream\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints)\r\n      } catch (err: any) {\r\n        // Fallback if specific device isn't available\r\n        const name = (err && (err.name || err.code)) || ''\r\n        if (preferredCameraId && (name === 'OverconstrainedError' || name === 'NotFoundError')) {\r\n          stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false })\r\n        } else {\r\n          throw err\r\n        }\r\n      }\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream\r\n        await videoRef.current.play()\r\n      }\r\n      setStreaming(true)\r\n      // Capture device list for inline picker and remember selection\r\n      try {\r\n        const list = await navigator.mediaDevices.enumerateDevices()\r\n        setAvailableCameras(list.filter(d=>d.kind==='videoinput'))\r\n        const vidTrack = (stream.getVideoTracks?.()||[])[0]\r\n        const settings = vidTrack?.getSettings?.()\r\n        const id = settings?.deviceId as string | undefined\r\n        if (id) {\r\n          const label = list.find(d=>d.deviceId===id)?.label\r\n          setPreferredCamera(id, label||'')\r\n        }\r\n      } catch {}\r\n    } catch (e) {\r\n      alert('Camera permission denied or not available.')\r\n    }\r\n  }\r\n\r\n  function stopCamera() {\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      const tracks = (videoRef.current.srcObject as MediaStream).getTracks()\r\n      tracks.forEach(t => t.stop())\r\n      videoRef.current.srcObject = null\r\n      setStreaming(false)\r\n    }\r\n  }\r\n\r\n  function capture() {\r\n    if (!videoRef.current || !canvasRef.current) return\r\n    const video = videoRef.current\r\n    const canvas = canvasRef.current\r\n    canvas.width = video.videoWidth\r\n    canvas.height = video.videoHeight\r\n    const ctx = canvas.getContext('2d')!\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height)\r\n    const url = canvas.toDataURL('image/png')\r\n    setSnapshotUrl(url)\r\n  }\r\n\r\n  // Inline light-weight device switcher (optional)\r\n  function CameraSelector() {\r\n    if (!availableCameras.length) return null\r\n    return (\r\n      <div className=\"absolute top-2 right-2 z-20 flex items-center gap-2 bg-black/40 rounded px-2 py-1 text-xs\">\r\n        <span>Cam:</span>\r\n        <select\r\n          className=\"bg-black/20 rounded px-1 py-0.5\"\r\n          value={preferredCameraId || ''}\r\n          onChange={async (e)=>{\r\n            const id = e.target.value || undefined\r\n            const label = availableCameras.find(d=>d.deviceId===id)?.label\r\n            setPreferredCamera(id, label||'')\r\n            stopCamera(); await startCamera()\r\n          }}\r\n        >\r\n          <option value=\"\">Auto</option>\r\n          {availableCameras.map(d => (\r\n            <option key={d.deviceId} value={d.deviceId}>{d.label || 'Camera'}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function drawOverlay() {\r\n    if (!overlayRef.current || !videoRef.current || !H || !imageSize) return\r\n    const o = overlayRef.current\r\n    const v = videoRef.current\r\n    const w = v.clientWidth\r\n    const h = v.clientHeight\r\n    o.width = w; o.height = h\r\n    const ctx = o.getContext('2d')!\r\n    ctx.clearRect(0,0,w,h)\r\n\r\n    // scale homography from calibration image size to current rendered size\r\n    const sx = w / imageSize.w\r\n    const sy = h / imageSize.h\r\n    const Hs = scaleHomography(H, sx, sy)\r\n    const rings = [BoardRadii.bullInner, BoardRadii.bullOuter, BoardRadii.trebleInner, BoardRadii.trebleOuter, BoardRadii.doubleInner, BoardRadii.doubleOuter]\r\n    for (const r of rings) {\r\n      const poly = sampleRing(Hs, r, 360)\r\n      drawPolyline(ctx, poly, r === BoardRadii.doubleOuter ? '#22d3ee' : '#a78bfa', r === BoardRadii.doubleOuter ? 3 : 2)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const id = setInterval(drawOverlay, 250)\r\n    return () => clearInterval(id)\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [H, imageSize, streaming])\r\n\r\n  // External autoscore subscription\r\n  useEffect(() => {\r\n    if (autoscoreProvider !== 'external-ws' || !autoscoreWsUrl) return\r\n    const sub = subscribeExternalWS(autoscoreWsUrl, (d) => {\r\n      // Prefer parent hook if provided; otherwise add to visit directly\r\n      if (onAutoDart) {\r\n        try { onAutoDart(d.value, d.ring as any, { sector: d.sector ?? null, mult: (d.mult as any) ?? 0 }) } catch {}\r\n      } else {\r\n        const label = d.ring === 'INNER_BULL' ? 'INNER_BULL 50' : d.ring === 'BULL' ? 'BULL 25' : `${d.ring[0]}${(d.value/(d.mult||1))||d.value} ${d.value}`\r\n        addDart(d.value, label, d.ring as any)\r\n      }\r\n    })\r\n    return () => sub.close()\r\n  }, [autoscoreProvider, autoscoreWsUrl])\r\n\r\n  function onOverlayClick(e: React.MouseEvent<HTMLCanvasElement>) {\r\n    if (!overlayRef.current || !H || !imageSize) return\r\n    const rect = overlayRef.current.getBoundingClientRect()\r\n    const x = e.clientX - rect.left\r\n    const y = e.clientY - rect.top\r\n    // Map to calibration coordinate space by reversing the display scaling\r\n    const sx = overlayRef.current.width / imageSize.w\r\n    const sy = overlayRef.current.height / imageSize.h\r\n    const pCal: Point = { x: x / sx, y: y / sy }\r\n  const score = scoreFromImagePoint(H, pCal)\r\n  const s = `${score.ring} ${score.base > 0 ? score.base : ''}`.trim()\r\n    setLastAutoScore(s)\r\n  setLastAutoValue(score.base)\r\n  setLastAutoRing(score.ring as Ring)\r\n    setHadRecentAuto(true)\r\n    // Optional immediate commit hook (e.g., Double Practice)\r\n    try {\r\n      if (immediateAutoCommit && onAutoDart) {\r\n        onAutoDart(score.base, score.ring as Ring, { sector: score.sector, mult: score.mult })\r\n        setHadRecentAuto(false)\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  function parseManual(input: string): { label: string; value: number; ring: Ring } | null {\r\n    const t = input.trim().toUpperCase()\r\n    if (!t) return null\r\n    const bull = t === 'BULL' || t === '50' || t === 'DBULL' || t === 'IBULL'\r\n    const outerBull = t === '25' || t === 'OBULL'\r\n    if (bull) return { label: 'INNER_BULL 50', value: 50, ring: 'INNER_BULL' }\r\n    if (outerBull) return { label: 'BULL 25', value: 25, ring: 'BULL' }\r\n    const m = t.match(/^(S|D|T)?\\s*(\\d{1,2})$/)\r\n    if (!m) return null\r\n    const mult = (m[1] || 'S') as 'S'|'D'|'T'\r\n    const num = parseInt(m[2], 10)\r\n    if (num < 1 || num > 20) return null\r\n    const multVal = mult === 'S' ? 1 : mult === 'D' ? 2 : 3\r\n    const ring: Ring = mult === 'S' ? 'SINGLE' : mult === 'D' ? 'DOUBLE' : 'TRIPLE'\r\n    return { label: `${mult}${num} ${num*multVal}`, value: num * multVal, ring }\r\n  }\r\n\r\n  function getCurrentRemaining(): number {\r\n    const s = matchState\r\n    if (!s.players.length) return s.startingScore\r\n    const p = s.players[s.currentPlayerIdx]\r\n    const leg = p.legs[p.legs.length-1]\r\n    if (!leg) return s.startingScore\r\n    return leg.totalScoreRemaining\r\n  }\r\n\r\n  function addDart(value: number, label: string, ring: Ring) {\r\n    // In generic mode, delegate to parent without X01 bust/finish rules\r\n    if (scoringMode === 'custom') {\r\n      if (onGenericDart) try { onGenericDart(value, ring, { label }) } catch {}\r\n      // Maintain a lightweight pending list for UI only\r\n      if (pendingDarts >= 3) return\r\n      const newDarts = pendingDarts + 1\r\n      setPendingDarts(newDarts)\r\n      setPendingScore(s => s + value)\r\n      setPendingEntries(e => [...e, { label, value, ring }])\r\n      return\r\n    }\r\n\r\n    if (pendingDarts >= 3) return\r\n    const newDarts = pendingDarts + 1\r\n    const newScore = pendingScore + value\r\n    const remaining = getCurrentRemaining()\r\n    const after = remaining - newScore\r\n\r\n    // Bust conditions (double-out): negative or 1, or 0 without double/inner bull\r\n    const isFinish = after === 0 && (ring === 'DOUBLE' || ring === 'INNER_BULL')\r\n    const isBust = after < 0 || after === 1 || (after === 0 && !isFinish)\r\n\r\n    if (isBust) {\r\n      // Commit bust visit: 0 score, darts thrown so far including this one\r\n      addVisit(0, newDarts)\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(0, newDarts, false)\r\n      return\r\n    }\r\n\r\n    // Normal add\r\n    setPendingDarts(newDarts)\r\n    setPendingScore(newScore)\r\n    setPendingEntries(e => [...e, { label, value, ring }])\r\n\r\n    if (isFinish) {\r\n      // Commit visit with current total and end leg\r\n      addVisit(newScore, newDarts)\r\n      endLeg(newScore)\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(newScore, newDarts, true)\r\n      return\r\n    }\r\n\r\n    if (newDarts >= 3) {\r\n      addVisit(newScore, newDarts)\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(newScore, newDarts, false)\r\n    }\r\n  }\r\n\r\n  function onAddAutoDart() {\r\n    if (lastAutoScore) {\r\n      if (onAutoDart) {\r\n        try { onAutoDart(lastAutoValue, lastAutoRing, undefined) } catch {}\r\n      } else {\r\n        addDart(lastAutoValue, lastAutoScore, lastAutoRing)\r\n      }\r\n      setNonRegCount(0)\r\n      setHadRecentAuto(false)\r\n    }\r\n  }\r\n\r\n  function onApplyManual() {\r\n    const parsed = parseManual(manualScore)\r\n    if (!parsed) { alert('Enter like T20, D16, 5, 25, 50'); return }\r\n    // If autoscore didn't register recently, count toward recalibration\r\n    if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n      const c = nonRegCount + 1\r\n      setNonRegCount(c)\r\n      if (c >= 3) setShowRecalModal(true)\r\n    } else {\r\n      setNonRegCount(0)\r\n    }\r\n    addDart(parsed.value, parsed.label, parsed.ring)\r\n    setManualScore('')\r\n    setHadRecentAuto(false)\r\n  }\r\n\r\n  // Replace the last pending dart with a manually typed correction\r\n  function onReplaceManual() {\r\n    const parsed = parseManual(manualScore)\r\n    if (!parsed) { alert('Enter like T20, D16, 5, 25, 50'); return }\r\n    if (pendingDarts === 0 || pendingEntries.length === 0) {\r\n      onApplyManual()\r\n      return\r\n    }\r\n    if (scoringMode === 'custom') {\r\n      // Let parent handle replacement semantics\r\n      if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n        const c = nonRegCount + 1\r\n        setNonRegCount(c)\r\n        if (c >= 3) setShowRecalModal(true)\r\n      } else setNonRegCount(0)\r\n\r\n      // Update local pending UI\r\n      setPendingEntries((e)=>[...e.slice(0,-1), { label: parsed.label, value: parsed.value, ring: parsed.ring }])\r\n      if (onGenericReplace) try { onGenericReplace(parsed.value, parsed.ring, { label: parsed.label }) } catch {}\r\n      setManualScore('')\r\n      setHadRecentAuto(false)\r\n      return\r\n    }\r\n    if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n      const c = nonRegCount + 1\r\n      setNonRegCount(c)\r\n      if (c >= 3) setShowRecalModal(true)\r\n    } else setNonRegCount(0)\r\n\r\n    const last = pendingEntries[pendingEntries.length-1]\r\n    const prevDarts = pendingDarts - 1\r\n    const prevScore = pendingScore - (last?.value || 0)\r\n    const remaining = getCurrentRemaining()\r\n    const newScore = prevScore + parsed.value\r\n    const newDarts = prevDarts + 1\r\n    const after = remaining - newScore\r\n    const isFinish = after === 0 && (parsed.ring === 'DOUBLE' || parsed.ring === 'INNER_BULL')\r\n    const isBust = after < 0 || after === 1 || (after === 0 && !isFinish)\r\n\r\n    if (isBust) {\r\n      addVisit(0, newDarts)\r\n      try {\r\n        const name = matchState.players[matchState.currentPlayerIdx]?.name\r\n        if (name) addSample(name, newDarts, 0)\r\n      } catch {}\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(0, newDarts, false)\r\n      setManualScore('')\r\n      setHadRecentAuto(false)\r\n      return\r\n    }\r\n\r\n    setPendingDarts(newDarts)\r\n    setPendingScore(newScore)\r\n    setPendingEntries((e)=>[...e.slice(0,-1), { label: parsed.label, value: parsed.value, ring: parsed.ring }])\r\n\r\n    if (isFinish) {\r\n      addVisit(newScore, newDarts)\r\n      endLeg(newScore)\r\n      try {\r\n        const name = matchState.players[matchState.currentPlayerIdx]?.name\r\n        if (name) addSample(name, newDarts, newScore)\r\n      } catch {}\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(newScore, newDarts, true)\r\n      setManualScore('')\r\n      setHadRecentAuto(false)\r\n      return\r\n    }\r\n\r\n    if (newDarts >= 3) {\r\n      addVisit(newScore, newDarts)\r\n      try {\r\n        const name = matchState.players[matchState.currentPlayerIdx]?.name\r\n        if (name) addSample(name, newDarts, newScore)\r\n      } catch {}\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      if (onVisitCommitted) onVisitCommitted(newScore, newDarts, false)\r\n    }\r\n    setManualScore('')\r\n    setHadRecentAuto(false)\r\n  }\r\n\r\n  function onRecalibrateNow() {\r\n    setShowRecalModal(false)\r\n    setNonRegCount(0)\r\n    // Ask App to switch to calibrate tab\r\n    try { window.dispatchEvent(new CustomEvent('ndn:request-calibrate')) } catch {}\r\n  }\r\n\r\n  function onResetCalibration() {\r\n    resetCalibration()\r\n    setShowRecalModal(false)\r\n    setNonRegCount(0)\r\n  }\r\n\r\n  // Centralized quick-entry handler for S/D/T 1-20 buttons\r\n  function onQuickEntry(num: number, mult: 'S'|'D'|'T') {\r\n    if (pendingDarts >= 3) return\r\n    const val = num * (mult==='S'?1:mult==='D'?2:3)\r\n    const ring: Ring = mult==='S' ? 'SINGLE' : mult==='D' ? 'DOUBLE' : 'TRIPLE'\r\n    // If autoscore didn't register recently, count toward recalibration\r\n    if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n      const c = nonRegCount + 1\r\n      setNonRegCount(c)\r\n      if (c >= 3) setShowRecalModal(true)\r\n    } else {\r\n      setNonRegCount(0)\r\n    }\r\n    addDart(val, `${mult}${num} ${val}`, ring)\r\n    setHadRecentAuto(false)\r\n  }\r\n\r\n  function onUndoDart() {\r\n    if (pendingDarts === 0) return\r\n    const last = pendingEntries[pendingEntries.length-1]\r\n    setPendingDarts(d => d - 1)\r\n    setPendingScore(s => s - (last?.value || 0))\r\n    setPendingEntries(e => e.slice(0, -1))\r\n  }\r\n\r\n  function onCommitVisit() {\r\n    if (pendingDarts === 0) return\r\n    if (scoringMode === 'custom') {\r\n      // For custom mode, simply clear local pending (parent maintains its own scoring)\r\n      setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n      return\r\n    }\r\n    addVisit(pendingScore, pendingDarts)\r\n    try {\r\n      const name = matchState.players[matchState.currentPlayerIdx]?.name\r\n      if (name) addSample(name, pendingDarts, pendingScore)\r\n    } catch {}\r\n    setPendingDarts(0); setPendingScore(0); setPendingEntries([])\r\n    if (onVisitCommitted) onVisitCommitted(pendingScore, pendingDarts, false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n      {/* Pills (optional; can be hidden and controlled by parent) */}\r\n      {showToolbar && (\r\n        <div className=\"lg:col-span-2\">\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <button\r\n              className={`btn px-3 py-1 text-sm ${activeTab==='auto' ? 'tab--active' : ''}`}\r\n              onClick={()=>{ setActiveTab('auto'); setShowManualModal(false); setShowAutoModal(true) }}\r\n            >Autoscore</button>\r\n            <button\r\n              className={`btn px-3 py-1 text-sm ${activeTab==='manual' ? 'tab--active' : ''}`}\r\n              onClick={()=>{ setActiveTab('manual'); setShowManualModal(true) }}\r\n              title=\"Open Manual Correction\"\r\n            >Manual Correction</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n  {!hideInlinePanels ? (\r\n  <div className=\"card\">\r\n        <h2 className=\"text-xl font-semibold mb-3\">Camera</h2>\r\n        <ResizablePanel storageKey=\"ndn:camera:size\" className=\"relative rounded-2xl overflow-hidden bg-black\" defaultWidth={720} defaultHeight={405} minWidth={480} minHeight={270} maxWidth={1600} maxHeight={900}>\r\n          <CameraSelector />\r\n          <video ref={videoRef} className=\"w-full h-full object-cover\" />\r\n          <canvas ref={overlayRef} className=\"absolute inset-0 w-full h-full\" onClick={onOverlayClick} />\r\n        </ResizablePanel>\r\n        <div className=\"flex gap-2 mt-3\">\r\n          {!streaming ? (\r\n            <button className=\"btn\" onClick={startCamera}>Start Camera</button>\r\n          ) : (\r\n            <button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={stopCamera}>Stop Camera</button>\r\n          )}\r\n          {/* Removed Snapshot panel; Capture remains for future features (e.g., quick preview) */}\r\n          <button className=\"btn\" onClick={capture} disabled={!streaming}>Capture Still</button>\r\n          <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:camera-reset' as any)) }catch{} }}>Reset Camera Size</button>\r\n        </div>\r\n  </div>\r\n  ) : null}\r\n      {/* Snapshot panel removed to reduce unused space */}\r\n      <canvas ref={canvasRef} className=\"hidden\"></canvas>\r\n      {/* Autoscore moved into a pill-triggered modal to reduce on-screen clutter */}\r\n      {/* Modal: Autoscore */}\r\n      {showAutoModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-[100]\" role=\"dialog\" aria-modal=\"true\">\r\n          <div className=\"absolute inset-0 flex items-center justify-center p-4\">\r\n            <ResizableModal\r\n              storageKey=\"ndn:autoscore:size\"\r\n              className=\"w-full max-w-3xl\"\r\n              defaultWidth={720}\r\n              defaultHeight={520}\r\n              minWidth={420}\r\n              minHeight={320}\r\n              maxWidth={1400}\r\n              maxHeight={900}\r\n              initialFitHeight\r\n            >\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2 className=\"text-xl font-semibold\">Autoscore</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button className=\"btn btn--ghost\" onClick={()=>setShowAutoModal(false)}>Close</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-sm opacity-80 mb-3\">Click the camera overlay to autoscore. Use Manual Correction if the last auto is off.</div>\r\n              <div className=\"flex items-center gap-2 mb-3 flex-wrap\">\r\n                <span className=\"font-semibold\">Last auto:</span>\r\n                <span>{lastAutoScore || ''}</span>\r\n                <button className=\"btn\" onClick={onAddAutoDart} disabled={pendingDarts>=3}>Add Auto Dart</button>\r\n                {nonRegCount>0 && <span className=\"text-sm opacity-80\">No-registers: {nonRegCount}/3</span>}\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <div className=\"text-sm font-semibold mb-2\">Quick entry</div>\r\n                {/* Bulls */}\r\n                <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                  <button className=\"btn\" disabled={pendingDarts>=3} onClick={()=>{\r\n                    if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n                      const c = nonRegCount + 1\r\n                      setNonRegCount(c)\r\n                      if (c >= 3) setShowRecalModal(true)\r\n                    } else setNonRegCount(0)\r\n                    addDart(25, 'BULL 25', 'BULL'); setHadRecentAuto(false)\r\n                  }}>25</button>\r\n                  <button className=\"btn\" disabled={pendingDarts>=3} onClick={()=>{\r\n                    if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n                      const c = nonRegCount + 1\r\n                      setNonRegCount(c)\r\n                      if (c >= 3) setShowRecalModal(true)\r\n                    } else setNonRegCount(0)\r\n                    addDart(50, 'INNER_BULL 50', 'INNER_BULL'); setHadRecentAuto(false)\r\n                  }}>50</button>\r\n                </div>\r\n                {/* Grouped dropdown: Doubles, Singles, Trebles */}\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <input\r\n                    className=\"input w-full max-w-sm\"\r\n                    list=\"autoscore-quick-list\"\r\n                    placeholder=\"Type or select (e.g., D16, T20, S5)\"\r\n                    value={quickSelAuto}\r\n                    onChange={e=>setQuickSelAuto(e.target.value.toUpperCase())}\r\n                    onKeyDown={e=>{ if(e.key==='Enter'){ const m = quickSelAuto.match(/^(S|D|T)(\\d{1,2})$/); if(m){ onQuickEntry(parseInt(m[2],10), m[1] as any); } }} }\r\n                  />\r\n                  <datalist id=\"autoscore-quick-list\">\r\n                    {(['D','S','T'] as const).map(mult => (\r\n                      Array.from({length:20}, (_,i)=>i+1).map(num => (\r\n                        <option key={`${mult}${num}`} value={`${mult}${num}`} />\r\n                      ))\r\n                    ))}\r\n                  </datalist>\r\n                  <button\r\n                    className=\"btn\"\r\n                    disabled={!quickSelAuto || pendingDarts>=3}\r\n                    onClick={()=>{\r\n                      const m = quickSelAuto.match(/^(S|D|T)(\\d{1,2})$/)\r\n                      if (!m) return\r\n                      const mult = m[1] as 'S'|'D'|'T'\r\n                      const num = parseInt(m[2], 10)\r\n                      onQuickEntry(num, mult)\r\n                    }}\r\n                  >Add</button>\r\n                </div>\r\n              </div>\r\n            </ResizableModal>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showManualModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-[100]\" role=\"dialog\" aria-modal=\"true\">\r\n          <div className=\"absolute inset-0 flex flex-col\">\r\n            <div className=\"p-3 md:p-4 flex items-center justify-between\">\r\n              <h3 className=\"text-xl md:text-2xl font-semibold\">Manual Correction</h3>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={()=>{ setShowManualModal(false); }}>Close</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex-1 p-3 md:p-4\">\r\n              <div className=\"h-full grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                {/* Live preview */}\r\n                <div className=\"card relative flex flex-col\">\r\n                  <div className=\"text-sm font-semibold mb-2\">Live Preview</div>\r\n                  <div className=\"relative flex-1 rounded-2xl overflow-hidden bg-black\">\r\n                    <canvas ref={manualPreviewRef} className=\"absolute inset-0 w-full h-full\" />\r\n                  </div>\r\n                </div>\r\n                {/* Manual controls */}\r\n                <div className=\"card flex flex-col\">\r\n                  <div className=\"text-sm opacity-80 mb-2\">Type a correction or replace the last dart. The preview updates live.</div>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <span className=\"font-semibold\">Last auto:</span>\r\n                    <span>{lastAutoScore || ''}</span>\r\n                    <button className=\"btn\" onClick={onAddAutoDart} disabled={pendingDarts>=3}>Add Auto Dart</button>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <input\r\n                      className=\"input flex-1\"\r\n                      placeholder=\"Manual (T20, D16, 5, 25, 50)\"\r\n                      value={manualScore}\r\n                      onChange={e => setManualScore(e.target.value)}\r\n                      onKeyDown={e => {\r\n                        if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); onApplyManual() }\r\n                        if (e.key === 'Enter' && e.shiftKey) { e.preventDefault(); onReplaceManual() }\r\n                      }}\r\n                    />\r\n                    <button className=\"btn btn--ghost\" onClick={onReplaceManual} disabled={pendingDarts===0}>Replace Last</button>\r\n                    <button className=\"btn\" onClick={onApplyManual} disabled={pendingDarts>=3}>Add</button>\r\n                  </div>\r\n                  <div className=\"text-xs opacity-70 mb-4\">Press Enter to Add  Shift+Enter to Replace Last</div>\r\n                  <div className=\"mt-auto\">\r\n                    <div className=\"text-sm font-semibold mb-2\">Quick entry</div>\r\n                    {/* Bulls */}\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                      <button className=\"btn\" disabled={pendingDarts>=3} onClick={()=>{\r\n                        if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n                          const c = nonRegCount + 1\r\n                          setNonRegCount(c)\r\n                          if (c >= 3) setShowRecalModal(true)\r\n                        } else setNonRegCount(0)\r\n                        addDart(25, 'BULL 25', 'BULL'); setHadRecentAuto(false)\r\n                      }}>25</button>\r\n                      <button className=\"btn\" disabled={pendingDarts>=3} onClick={()=>{\r\n                        if (!hadRecentAuto || !lastAutoScore || lastAutoRing === 'MISS' || lastAutoValue === 0) {\r\n                          const c = nonRegCount + 1\r\n                          setNonRegCount(c)\r\n                          if (c >= 3) setShowRecalModal(true)\r\n                        } else setNonRegCount(0)\r\n                        addDart(50, 'INNER_BULL 50', 'INNER_BULL'); setHadRecentAuto(false)\r\n                      }}>50</button>\r\n                    </div>\r\n                    {/* Grouped dropdown: Doubles, Singles, Trebles */}\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                      <input\r\n                        className=\"input w-full max-w-sm\"\r\n                        list=\"manual-quick-list\"\r\n                        placeholder=\"Type or select (e.g., D16, T20, S5)\"\r\n                        value={quickSelManual}\r\n                        onChange={e=>setQuickSelManual(e.target.value.toUpperCase())}\r\n                        onKeyDown={e=>{ if(e.key==='Enter'){ const m = quickSelManual.match(/^(S|D|T)(\\d{1,2})$/); if(m){ onQuickEntry(parseInt(m[2],10), m[1] as any); } }} }\r\n                      />\r\n                      <datalist id=\"manual-quick-list\">\r\n                        {(['D','S','T'] as const).map(mult => (\r\n                          Array.from({length:20}, (_,i)=>i+1).map(num => (\r\n                            <option key={`${mult}${num}`} value={`${mult}${num}`} />\r\n                          ))\r\n                        ))}\r\n                      </datalist>\r\n                      <button\r\n                        className=\"btn\"\r\n                        disabled={!quickSelManual || pendingDarts>=3}\r\n                        onClick={()=>{\r\n                          const m = quickSelManual.match(/^(S|D|T)(\\d{1,2})$/)\r\n                          if (!m) return\r\n                          const mult = m[1] as 'S'|'D'|'T'\r\n                          const num = parseInt(m[2], 10)\r\n                          onQuickEntry(num, mult)\r\n                        }}\r\n                      >Add</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showScoringModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center\">\r\n          <div className=\"card w-full max-w-4xl relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl\">\r\n            <button className=\"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold\" onClick={()=>setShowScoringModal(false)}>Close</button>\r\n            <h2 className=\"text-xl font-bold mb-4 flex items-center gap-2 text-white\">Scoring</h2>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {/* Camera section */}\r\n              <div className=\"bg-black/30 rounded-2xl p-4\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Camera</h2>\r\n                <ResizablePanel storageKey=\"ndn:camera:size:modal\" className=\"relative rounded-2xl overflow-hidden bg-black\" defaultWidth={720} defaultHeight={405} minWidth={480} minHeight={270} maxWidth={1600} maxHeight={900}>\r\n                  <CameraSelector />\r\n                  <video ref={videoRef} className=\"w-full h-full object-cover\" />\r\n                  <canvas ref={overlayRef} className=\"absolute inset-0 w-full h-full\" onClick={onOverlayClick} />\r\n                </ResizablePanel>\r\n                <div className=\"flex gap-2 mt-3\">\r\n                  {!streaming ? (\r\n                    <button className=\"btn bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold\" onClick={startCamera}>Start Camera</button>\r\n                  ) : (\r\n                    <button className=\"btn bg-gradient-to-r from-rose-600 to-rose-700 text-white font-bold\" onClick={stopCamera}>Stop Camera</button>\r\n                  )}\r\n                  <button className=\"btn bg-gradient-to-r from-indigo-500 to-indigo-700 text-white font-bold\" onClick={capture} disabled={!streaming}>Capture Still</button>\r\n                  <button className=\"btn bg-gradient-to-r from-slate-500 to-slate-700 text-white font-bold\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:camera-reset' as any)) }catch{} }}>Reset Camera Size</button>\r\n                </div>\r\n              </div>\r\n              {/* Pending Visit section */}\r\n              <div className=\"bg-black/30 rounded-2xl p-4\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Pending Visit</h2>\r\n                <div className=\"text-sm opacity-80 mb-2\">Up to 3 darts per visit.</div>\r\n                <ul className=\"text-sm mb-2 list-disc pl-5\">\r\n                  {pendingEntries.length === 0 ? <li className=\"opacity-60\">No darts yet</li> : pendingEntries.map((e,i) => <li key={i}>{e.label}</li>)}\r\n                </ul>\r\n                <div className=\"flex items-center gap-4 mb-2\">\r\n                  <div className=\"font-semibold\">Darts: {pendingDarts}/3</div>\r\n                  <div className=\"font-semibold\">Total: {pendingScore}</div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <button className=\"btn bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold\" onClick={onUndoDart} disabled={pendingDarts===0}>Undo Dart</button>\r\n                  <button className=\"btn bg-gradient-to-r from-emerald-500 to-emerald-700 text-white font-bold\" onClick={onCommitVisit} disabled={pendingDarts===0}>Commit Visit</button>\r\n                  <button className=\"btn bg-gradient-to-r from-slate-500 to-slate-700 text-white font-bold\" onClick={()=>{setPendingDarts(0);setPendingScore(0);setPendingEntries([])}} disabled={pendingDarts===0}>Clear</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showRecalModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center\">\r\n          <div className=\"card max-w-md w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl\">\r\n            <button className=\"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold\" onClick={()=>{setShowRecalModal(false); setNonRegCount(0)}}>Close</button>\r\n            <h3 className=\"text-xl font-bold mb-2 flex items-center gap-2 text-white\">Recalibration Recommended</h3>\r\n            <div className=\"mb-4 text-lg font-semibold text-indigo-200\">We detected 3 incorrect autoscores in a row. You can recalibrate now or reset calibration and try again.</div>\r\n            <div className=\"flex gap-2\">\r\n              <button className=\"btn bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold\" onClick={onRecalibrateNow}>Go to Calibrate</button>\r\n              <button className=\"btn bg-gradient-to-r from-slate-500 to-slate-700 text-white font-bold\" onClick={onResetCalibration}>Reset Calibration</button>\r\n              <button className=\"btn bg-gradient-to-r from-slate-500 to-slate-700 text-white font-bold\" onClick={()=>{setShowRecalModal(false); setNonRegCount(0)}}>Dismiss</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n  {!hideInlinePanels ? (\r\n  <div className=\"card\">\r\n        <h2 className=\"text-xl font-semibold mb-3\">Pending Visit</h2>\r\n        <div className=\"text-sm opacity-80 mb-2\">Up to 3 darts per visit.</div>\r\n        <ul className=\"text-sm mb-2 list-disc pl-5\">\r\n          {pendingEntries.length === 0 ? <li className=\"opacity-60\">No darts yet</li> : pendingEntries.map((e,i) => <li key={i}>{e.label}</li>)}\r\n        </ul>\r\n        <div className=\"flex items-center gap-4 mb-2\">\r\n          <div className=\"font-semibold\">Darts: {pendingDarts}/3</div>\r\n          <div className=\"font-semibold\">Total: {pendingScore}</div>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"btn\" onClick={onUndoDart} disabled={pendingDarts===0}>Undo Dart</button>\r\n          <button className=\"btn\" onClick={onCommitVisit} disabled={pendingDarts===0}>Commit Visit</button>\r\n          <button className=\"btn\" onClick={()=>{setPendingDarts(0);setPendingScore(0);setPendingEntries([])}} disabled={pendingDarts===0}>Clear</button>\r\n        </div>\r\n  </div>\r\n  ) : null}\r\n    </div>\r\n  )\r\n}\r\n","export type DartMult = 'S' | 'D' | 'T'\r\nexport type Dart = { mult: DartMult; num: number } | { bull: 25 | 50 }\r\n\r\nexport type DoublePracticeState = {\r\n\ttargetIndex: number // 0..20 for D1..D20 then 21 for DBULL\r\n\tcompleted: boolean\r\n}\r\n\r\nexport const DOUBLE_PRACTICE_TARGETS: Array<{ label: string; score: number; isBull?: boolean }>[] = [] as any\r\n\r\nexport const DOUBLE_PRACTICE_ORDER: { label: string; score: number; isBull?: boolean }[] = [\r\n\t...Array.from({ length: 20 }, (_, i) => ({ label: `D${i + 1}` , score: (i + 1) * 2 })),\r\n\t{ label: 'DBULL', score: 50, isBull: true },\r\n]\r\n\r\nexport function isDoubleHit(value: number, targetIdx: number): boolean {\r\n\tconst t = DOUBLE_PRACTICE_ORDER[targetIdx]\r\n\treturn !!t && value === t.score\r\n}\r\n\r\nexport function parseManualDart(input: string): number | null {\r\n\tconst t = input.trim().toUpperCase()\r\n\tif (!t) return null\r\n\tif (t === '50' || t === 'BULL' || t === 'DBULL' || t === 'IBULL') return 50\r\n\tif (t === '25' || t === 'OBULL') return 25\r\n\tconst m = t.match(/^(S|D|T)?\\s*(\\d{1,2})$/)\r\n\tif (!m) return null\r\n\tconst mult = (m[1] || 'S') as 'S'|'D'|'T'\r\n\tconst num = parseInt(m[2],10)\r\n\tif (num < 1 || num > 20) return null\r\n\tconst multVal = mult==='S'?1:mult==='D'?2:3\r\n\treturn num * multVal\r\n}\r\n\r\n// Parse a detailed dart string like \"T20\", \"D16\", \"S5\", \"25\", \"50\", \"BULL\", returning a structured Dart.\r\nexport function parseDartDetailed(input: string): Dart | null {\r\n\tconst t = input.trim().toUpperCase()\r\n\tif (!t) return null\r\n\tif (t === '50' || t === 'BULL' || t === 'DBULL' || t === 'IBULL' || t === 'INNER BULL' || t === 'INNER_BULL') return { bull: 50 }\r\n\tif (t === '25' || t === 'OBULL' || t === 'OUTER BULL' || t === 'BULL25') return { bull: 25 }\r\n\tconst m = t.match(/^(S|D|T)?\\s*(\\d{1,2})$/)\r\n\tif (!m) return null\r\n\tconst mult = (m[1] || 'S') as DartMult\r\n\tconst num = parseInt(m[2], 10)\r\n\tif (num < 1 || num > 20) return null\r\n\treturn { mult, num }\r\n}\r\n\r\n// Convert autoscore ring+sector data into a structured Dart\r\n// ring: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'\r\n// sector: 1..20 for numbered segments; null/undefined for bull/miss\r\nexport function ringSectorToDart(ring?: string, sector?: number | null): Dart | null {\r\n\tif (!ring || ring === 'MISS') return null\r\n\tif (ring === 'BULL') return { bull: 25 }\r\n\tif (ring === 'INNER_BULL') return { bull: 50 }\r\n\tif (typeof sector === 'number' && sector >= 1 && sector <= 20) {\r\n\t\tconst mult: DartMult = ring === 'DOUBLE' ? 'D' : ring === 'TRIPLE' ? 'T' : 'S'\r\n\t\treturn { mult, num: sector }\r\n\t}\r\n\treturn null\r\n}\r\n","export type ATCState = {\r\n\ttarget: number // 1..20 then 25 (outer bull) then 50 (inner)\r\n\tfinished: boolean\r\n}\r\n\r\nexport const ATC_ORDER: number[] = [\r\n\t...Array.from({ length: 20 }, (_, i) => i + 1),\r\n\t25,\r\n\t50,\r\n]\r\n\r\nexport function nextTarget(current: number): number | null {\r\n\tconst idx = ATC_ORDER.indexOf(current)\r\n\tif (idx < 0) return ATC_ORDER[0]\r\n\tif (idx >= ATC_ORDER.length - 1) return null\r\n\treturn ATC_ORDER[idx + 1]\r\n}\r\n\r\nexport function isCorrectHit(value: number, target: number): boolean {\r\n\treturn value === target\r\n}\r\n\r\n","export type CricketMark = 0 | 1 | 2 | 3\r\nexport type CricketNumber = 15 | 16 | 17 | 18 | 19 | 20 | 25 // 25 is bull (outer+inner)\r\n\r\nexport type CricketState = {\r\n\t// marks per number\r\n\tmarks: Record<CricketNumber, CricketMark>\r\n\t// accumulated points when opponent hasn't closed a number\r\n\tpoints: number\r\n}\r\n\r\nexport const CRICKET_NUMBERS: CricketNumber[] = [20, 19, 18, 17, 16, 15, 25]\r\n\r\nexport function createCricketState(): CricketState {\r\n\tconst marks: any = {}\r\n\tCRICKET_NUMBERS.forEach(n => { marks[n] = 0 })\r\n\treturn { marks, points: 0 }\r\n}\r\n\r\n// Apply a single dart to a player's cricket state\r\n// Returns deltaPoints scored on this dart\r\nexport function applyCricketDart(state: CricketState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null, opponentClosed: (n: CricketNumber) => boolean = () => false): number {\r\n\t// Map autoscore terms to logical hits\r\n\tlet num: CricketNumber | null = null\r\n\tlet hits = 0\r\n\tif (ring === 'BULL' || ring === 'INNER_BULL' || value === 25 || value === 50) {\r\n\t\tnum = 25\r\n\t\thits = (ring === 'INNER_BULL' || value === 50) ? 2 : 1\r\n\t} else if (typeof sector === 'number' && (sector as number) >= 15 && (sector as number) <= 20) {\r\n\t\tnum = sector as CricketNumber\r\n\t\tif (ring === 'TRIPLE') hits = 3\r\n\t\telse if (ring === 'DOUBLE') hits = 2\r\n\t\telse hits = 1\r\n\t} else if (value) {\r\n\t\t// Fallback when only numeric score provided (manual): infer by divisibility\r\n\t\tconst cand: CricketNumber[] = [20,19,18,17,16,15]\r\n\t\tfor (const c of cand) {\r\n\t\t\tif (value === c) { num = c; hits = 1; break }\r\n\t\t\tif (value === c*2) { num = c; hits = 2; break }\r\n\t\t\tif (value === c*3) { num = c; hits = 3; break }\r\n\t\t}\r\n\t\tif (!num && (value === 25 || value === 50)) { num = 25; hits = (value === 50) ? 2 : 1 }\r\n\t}\r\n\tif (!num) return 0\r\n\r\n\tconst before = state.marks[num]\r\n\tlet remainToClose = Math.max(0, 3 - before)\r\n\tconst toApply = Math.min(remainToClose, hits)\r\n\tconst overflow = Math.max(0, hits - toApply)\r\n\t// Increase marks up to 3\r\n\tconst after = (before + toApply) as CricketMark\r\n\tstate.marks[num] = after > 3 ? 3 : after\r\n\r\n\t// Overflow counts as points only if opponent hasn't closed this number and number is not bull (bull scores too per standard rules when opponent open)\r\n\tlet points = 0\r\n\tif (overflow > 0 && !opponentClosed(num)) {\r\n\t\tif (num === 25) {\r\n\t\t\t// Overflow on bull: each extra hit beyond 3 adds 25 or 50 depending on which ring hit overflowed; approximate as 25 per hit except inner counts double. We don't know exact ring for overflow; assume 25 per extra except when ring provided as INNER_BULL and overflow>0.\r\n\t\t\tif (ring === 'INNER_BULL') points += 50 * overflow\r\n\t\t\telse points += 25 * overflow\r\n\t\t} else {\r\n\t\t\tpoints += num * overflow\r\n\t\t}\r\n\t}\r\n\r\n\tstate.points += points\r\n\treturn points\r\n}\r\n\r\nexport function hasClosedAll(state: CricketState): boolean {\r\n\treturn CRICKET_NUMBERS.every(n => (state.marks[n] || 0) >= 3)\r\n}\r\n\r\nexport function cricketWinner(self: CricketState, opponents: CricketState[]): boolean {\r\n\t// Win when all closed and you have >= opponents' points\r\n\tif (!hasClosedAll(self)) return false\r\n\tconst maxOppPoints = Math.max(0, ...opponents.map(o => o.points))\r\n\treturn self.points >= maxOppPoints\r\n}\r\n","export type ShanghaiRound = 1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20\r\n\r\nexport type ShanghaiState = {\r\n\tround: ShanghaiRound\r\n\tscore: number\r\n\tfinished: boolean\r\n\tshanghaiAchieved: boolean // single+double+triple of target in same 3-dart turn\r\n\tturnHits: { singles: number; doubles: number; triples: number }\r\n}\r\n\r\nexport function createShanghaiState(): ShanghaiState {\r\n\treturn { round: 1, score: 0, finished: false, shanghaiAchieved: false, turnHits: { singles: 0, doubles: 0, triples: 0 } }\r\n}\r\n\r\nexport function getRoundTarget(state: ShanghaiState): number { return state.round }\r\n\r\n// Apply one dart; returns points scored on this dart\r\nexport function applyShanghaiDart(state: ShanghaiState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null): number {\r\n\tif (state.finished) return 0\r\n\tconst target = getRoundTarget(state)\r\n\tlet points = 0\r\n\tif (typeof sector === 'number' && sector === target) {\r\n\t\tif (ring === 'TRIPLE') { points = target * 3; state.turnHits.triples++ }\r\n\t\telse if (ring === 'DOUBLE') { points = target * 2; state.turnHits.doubles++ }\r\n\t\telse if (ring === 'SINGLE') { points = target * 1; state.turnHits.singles++ }\r\n\t} else if (!sector && (value === target || value === target*2 || value === target*3)) {\r\n\t\t// manual numeric entry fallback\r\n\t\tif (value === target*3) { points = target*3; state.turnHits.triples++ }\r\n\t\telse if (value === target*2) { points = target*2; state.turnHits.doubles++ }\r\n\t\telse if (value === target) { points = target; state.turnHits.singles++ }\r\n\t}\r\n\tstate.score += points\r\n\treturn points\r\n}\r\n\r\n// Call at end of 3-dart turn; advances round and checks Shanghai\r\nexport function endShanghaiTurn(state: ShanghaiState) {\r\n\tif (!state.finished) {\r\n\t\tif (state.turnHits.singles>0 && state.turnHits.doubles>0 && state.turnHits.triples>0) {\r\n\t\t\tstate.shanghaiAchieved = true\r\n\t\t\tstate.finished = true\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst next = (state.round + 1) as ShanghaiRound\r\n\t\tif (next > 20) { state.finished = true } else { state.round = next }\r\n\t}\r\n\t// reset per-turn hits\r\n\tstate.turnHits = { singles: 0, doubles: 0, triples: 0 }\r\n}\r\n","export type HalveItTarget =\r\n\t| { kind: 'ANY_NUMBER' }\r\n\t| { kind: 'DOUBLE'; num: number }\r\n\t| { kind: 'TRIPLE'; num: number }\r\n\t| { kind: 'BULL' }\r\n\t| { kind: 'NUMBER'; num: number }\r\n\r\nexport type HalveItState = {\r\n\tstage: number\r\n\ttargets: HalveItTarget[]\r\n\tscore: number\r\n\tfinished: boolean\r\n\thitThisRound: boolean\r\n}\r\n\r\nexport function createDefaultHalveIt(): HalveItState {\r\n\tconst targets: HalveItTarget[] = [\r\n\t\t{ kind: 'NUMBER', num: 20 },\r\n\t\t{ kind: 'DOUBLE', num: 16 },\r\n\t\t{ kind: 'TRIPLE', num: 14 },\r\n\t\t{ kind: 'NUMBER', num: 19 },\r\n\t\t{ kind: 'BULL' },\r\n\t\t{ kind: 'ANY_NUMBER' },\r\n\t]\r\n\treturn { stage: 0, targets, score: 0, finished: false, hitThisRound: false }\r\n}\r\n\r\nexport function getCurrentHalveTarget(state: HalveItState): HalveItTarget | null {\r\n\treturn state.targets[state.stage] || null\r\n}\r\n\r\nexport function applyHalveItDart(state: HalveItState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null): number {\r\n\tif (state.finished) return 0\r\n\tconst t = getCurrentHalveTarget(state)\r\n\tif (!t) return 0\r\n\tlet scored = 0\r\n\tswitch (t.kind) {\r\n\t\tcase 'NUMBER': {\r\n\t\t\tif (typeof sector === 'number' && sector === t.num) {\r\n\t\t\t\tif (ring === 'TRIPLE') scored = t.num * 3\r\n\t\t\t\telse if (ring === 'DOUBLE') scored = t.num * 2\r\n\t\t\t\telse if (ring === 'SINGLE') scored = t.num\r\n\t\t\t} else if (!sector && (value === t.num || value === t.num*2 || value === t.num*3)) {\r\n\t\t\t\tscored = value\r\n\t\t\t}\r\n\t\t\tif (scored > 0) state.hitThisRound = true\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tcase 'DOUBLE': {\r\n\t\t\tif ((ring === 'DOUBLE' && sector === t.num) || value === t.num*2) { scored = t.num*2; state.hitThisRound = true }\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tcase 'TRIPLE': {\r\n\t\t\tif ((ring === 'TRIPLE' && sector === t.num) || value === t.num*3) { scored = t.num*3; state.hitThisRound = true }\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tcase 'BULL': {\r\n\t\t\tif (ring === 'BULL' || ring === 'INNER_BULL' || value === 25 || value === 50) { scored = (ring === 'INNER_BULL' || value === 50) ? 50 : 25; state.hitThisRound = true }\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tcase 'ANY_NUMBER': {\r\n\t\t\t// any valid score counts\r\n\t\t\tif (value > 0) { scored = value; state.hitThisRound = true }\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\tstate.score += scored\r\n\treturn scored\r\n}\r\n\r\nexport function endHalveItTurn(state: HalveItState) {\r\n\tif (state.finished) return\r\n\tif (!state.hitThisRound) {\r\n\t\tstate.score = Math.floor(state.score / 2)\r\n\t}\r\n\tstate.hitThisRound = false\r\n\tstate.stage += 1\r\n\tif (state.stage >= state.targets.length) state.finished = true\r\n}\r\n","export type HighLowState = {\r\n\tround: number\r\n\tscore: number\r\n\ttarget: 'HIGH' | 'LOW'\r\n\tfinished: boolean\r\n}\r\n\r\nexport function createHighLow(): HighLowState {\r\n\treturn { round: 1, score: 0, target: 'HIGH', finished: false }\r\n}\r\n\r\nexport function applyHighLowDart(state: HighLowState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null): number {\r\n\tif (state.finished) return 0\r\n\t// For simplicity: when target is HIGH, count only scores >= 20 (any ring) and bull as 50\r\n\t// When LOW, count only scores <= 10 (any ring) and bull does not count\r\n\tlet scored = 0\r\n\tif (state.target === 'HIGH') {\r\n\t\tif (ring === 'INNER_BULL') scored = 50\r\n\t\telse if (typeof sector === 'number') {\r\n\t\t\tconst mult = ring === 'TRIPLE' ? 3 : ring === 'DOUBLE' ? 2 : 1\r\n\t\t\tconst v = sector * mult\r\n\t\t\tif (sector >= 20) scored = v\r\n\t\t} else {\r\n\t\t\t// manual numeric fallback\r\n\t\t\tif (value >= 40) scored = value\r\n\t\t}\r\n\t} else {\r\n\t\tif (typeof sector === 'number') {\r\n\t\t\tconst mult = ring === 'TRIPLE' ? 3 : ring === 'DOUBLE' ? 2 : 1\r\n\t\t\tconst v = sector * mult\r\n\t\t\tif (sector <= 10) scored = v\r\n\t\t} else {\r\n\t\t\tif (value > 0 && value <= 30) scored = value\r\n\t\t}\r\n\t}\r\n\tstate.score += scored\r\n\treturn scored\r\n}\r\n\r\nexport function endHighLowTurn(state: HighLowState) {\r\n\tif (state.finished) return\r\n\tstate.round += 1\r\n\tif (state.round > 10) { state.finished = true; return }\r\n\tstate.target = state.target === 'HIGH' ? 'LOW' : 'HIGH'\r\n}\r\n","export type KillerState = {\r\n  number: number // assigned sector 1..20\r\n  lives: number // start with 3\r\n  isKiller: boolean // became killer by hitting own double\r\n  eliminated: boolean\r\n}\r\n\r\nexport function createKillerState(assigned: number, lives = 3): KillerState {\r\n  return { number: assigned, lives, isKiller: false, eliminated: false }\r\n}\r\n\r\n// Assign unique random numbers (1..20) to each player id\r\nexport function assignKillerNumbers<T extends string>(playerIds: T[]): Record<T, number> {\r\n  const pool = Array.from({ length: 20 }, (_, i) => i + 1)\r\n  const res: any = {}\r\n  for (const id of playerIds) {\r\n    // pick a random remaining number\r\n    const idx = Math.floor(Math.random() * pool.length)\r\n    const num = pool.splice(idx, 1)[0]\r\n    res[id] = num\r\n  }\r\n  return res\r\n}\r\n\r\n// Apply a single dart in Killer context.\r\n// Returns an object describing outcomes: becameKiller, victimId (if hit), livesRemoved\r\nexport function applyKillerDart(\r\n  selfId: string,\r\n  states: Record<string, KillerState>,\r\n  ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL',\r\n  sector?: number | null\r\n): { becameKiller: boolean; victimId?: string; livesRemoved?: number } {\r\n  const me = states[selfId]\r\n  if (!me || !sector || !ring) return { becameKiller: false }\r\n  // Becoming killer: hit your own DOUBLE only\r\n  if (!me.isKiller && ring === 'DOUBLE' && sector === me.number) {\r\n    me.isKiller = true\r\n    return { becameKiller: true }\r\n  }\r\n  // If already killer, hitting opponents' doubles/triples removes lives\r\n  if (me.isKiller && (ring === 'DOUBLE' || ring === 'TRIPLE')) {\r\n    const victimId = Object.keys(states).find(pid => pid !== selfId && !states[pid].eliminated && states[pid].number === sector)\r\n    if (victimId) {\r\n      const victim = states[victimId]\r\n      const delta = ring === 'TRIPLE' ? 2 : 1\r\n      victim.lives = Math.max(0, victim.lives - delta)\r\n      if (victim.lives === 0) victim.eliminated = true\r\n      return { becameKiller: false, victimId, livesRemoved: delta }\r\n    }\r\n  }\r\n  return { becameKiller: false }\r\n}\r\n\r\nexport function killerWinner(states: Record<string, KillerState>): string | null {\r\n  const alive = Object.entries(states).filter(([,st]) => !st.eliminated && st.lives > 0)\r\n  if (alive.length === 1) return alive[0][0]\r\n  return null\r\n}\r\n","export type BaseballInning = 1|2|3|4|5|6|7|8|9\r\n\r\nexport type BaseballState = {\r\n  inning: BaseballInning\r\n  score: number\r\n  dartsThisInning: number\r\n  finished: boolean\r\n}\r\n\r\nexport function createBaseball(): BaseballState {\r\n  return { inning: 1, score: 0, dartsThisInning: 0, finished: false }\r\n}\r\n\r\n// Each inning, only the inning number scores; hits count 1, double 2, triple 3 runs (no bull scoring)\r\nexport function applyBaseballDart(state: BaseballState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null): number {\r\n  if (state.finished) return 0\r\n  let runs = 0\r\n  if (typeof sector === 'number' && sector === state.inning) {\r\n    if (ring === 'TRIPLE') runs = 3\r\n    else if (ring === 'DOUBLE') runs = 2\r\n    else runs = 1\r\n  } else if (!sector && (value === state.inning || value === state.inning*2 || value === state.inning*3)) {\r\n    runs = value === state.inning*3 ? 3 : value === state.inning*2 ? 2 : 1\r\n  }\r\n  state.score += runs\r\n  state.dartsThisInning += 1\r\n  if (state.dartsThisInning >= 3) {\r\n    const next = (state.inning + 1) as BaseballInning\r\n    if (next > 9) state.finished = true\r\n    else { state.inning = next; state.dartsThisInning = 0 }\r\n  }\r\n  return runs\r\n}\r\n","export type GolfHole = 1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18\r\n\r\n// Simple darts golf: each hole targets a predefined number (map); par is 2 throws; score is number of darts used to hit the target ring.\r\n// For simplicity, we count a hole complete on first valid hit (single/double/triple of the target), score increments by darts used.\r\n\r\nexport const GOLF_TARGETS: Record<GolfHole, number> = {\r\n  1: 5, 2: 20, 3: 1, 4: 18, 5: 4, 6: 13, 7: 6, 8: 10, 9: 15,\r\n  10: 2, 11: 17, 12: 3, 13: 19, 14: 7, 15: 16, 16: 8, 17: 11, 18: 14,\r\n}\r\n\r\nexport type GolfState = {\r\n  hole: GolfHole\r\n  strokes: number\r\n  dartsThisHole: number\r\n  finished: boolean\r\n}\r\n\r\nexport function createGolf(): GolfState {\r\n  return { hole: 1, strokes: 0, dartsThisHole: 0, finished: false }\r\n}\r\n\r\nexport function applyGolfDart(state: GolfState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null): boolean {\r\n  if (state.finished) return false\r\n  const target = GOLF_TARGETS[state.hole]\r\n  state.dartsThisHole += 1\r\n  const hit = (typeof sector === 'number' && sector === target && (ring==='SINGLE'||ring==='DOUBLE'||ring==='TRIPLE')) || (!sector && (value===target || value===target*2 || value===target*3))\r\n  if (hit) {\r\n    state.strokes += state.dartsThisHole\r\n    // advance to next hole\r\n    const next = (state.hole + 1) as GolfHole\r\n    if (next > 18) state.finished = true\r\n    else { state.hole = next; state.dartsThisHole = 0 }\r\n    return true\r\n  }\r\n  // If not finished and took 3 darts, score 3 and advance hole\r\n  if (state.dartsThisHole >= 3) {\r\n    state.strokes += 3\r\n    const next = (state.hole + 1) as GolfHole\r\n    if (next > 18) state.finished = true\r\n    else { state.hole = next; state.dartsThisHole = 0 }\r\n  }\r\n  return false\r\n}\r\n","export type TicCell = 0|1|2|3|4|5|6|7|8\r\n\r\n// Map grid cells to targets: center uses Bull; edges/corners use numbers.\r\nexport const TTT_TARGETS: Record<TicCell, { type: 'NUM'|'BULL'; num?: number }> = {\r\n  0: { type: 'NUM', num: 20 }, 1: { type: 'NUM', num: 19 }, 2: { type: 'NUM', num: 18 },\r\n  3: { type: 'NUM', num: 17 }, 4: { type: 'BULL' }, 5: { type: 'NUM', num: 16 },\r\n  6: { type: 'NUM', num: 15 }, 7: { type: 'NUM', num: 14 }, 8: { type: 'NUM', num: 13 },\r\n}\r\n\r\nexport type TicTacToeState = {\r\n  board: Array<'X'|'O'|null>\r\n  turn: 'X'|'O'\r\n  finished: boolean\r\n  winner: 'X'|'O'|'Draw'|null\r\n}\r\n\r\nexport function createTicTacToe(): TicTacToeState {\r\n  return { board: Array(9).fill(null), turn: 'X', finished: false, winner: null }\r\n}\r\n\r\nfunction checkWin(board: Array<'X'|'O'|null>): 'X'|'O'|'Draw'|null {\r\n  const lines = [ [0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6] ]\r\n  for (const [a,b,c] of lines) { if (board[a] && board[a]===board[b] && board[a]===board[c]) return board[a] as 'X'|'O' }\r\n  if (board.every(c => c)) return 'Draw'\r\n  return null\r\n}\r\n\r\nexport function tryClaimCell(state: TicTacToeState, cell: TicCell, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null): boolean {\r\n  if (state.finished || state.board[cell]) return false\r\n  const tgt = TTT_TARGETS[cell]\r\n  let ok = false\r\n  if (tgt.type === 'BULL') ok = (ring === 'BULL' || ring === 'INNER_BULL' || value === 25 || value === 50)\r\n  else if (tgt.type === 'NUM' && typeof tgt.num === 'number') {\r\n    if (typeof sector === 'number' && sector === tgt.num) ok = true\r\n    else if (!sector && (value===tgt.num || value===tgt.num*2 || value===tgt.num*3)) ok = true\r\n  }\r\n  if (!ok) return false\r\n  state.board[cell] = state.turn\r\n  const w = checkWin(state.board)\r\n  if (w) { state.finished = true; state.winner = w; return true }\r\n  state.turn = state.turn === 'X' ? 'O' : 'X'\r\n  return true\r\n}\r\n","export type AmCricketMark = 0 | 1 | 2 | 3\r\nexport type AmCricketNumber = 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 25\r\n\r\nexport type AmCricketState = {\r\n  marks: Record<AmCricketNumber, AmCricketMark>\r\n  points: number\r\n}\r\n\r\nexport const AM_CRICKET_NUMBERS: AmCricketNumber[] = [20, 19, 18, 17, 16, 15, 14, 13, 12, 25]\r\n\r\nexport function createAmCricketState(): AmCricketState {\r\n  const marks: any = {}\r\n  AM_CRICKET_NUMBERS.forEach(n => { marks[n] = 0 })\r\n  return { marks, points: 0 }\r\n}\r\n\r\nexport function applyAmCricketDart(state: AmCricketState, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null, opponentClosed: (n: AmCricketNumber) => boolean = () => false): number {\r\n  let num: AmCricketNumber | null = null\r\n  let hits = 0\r\n  if (ring === 'BULL' || ring === 'INNER_BULL' || value === 25 || value === 50) {\r\n    num = 25\r\n    hits = (ring === 'INNER_BULL' || value === 50) ? 2 : 1\r\n  } else if (typeof sector === 'number' && sector >= 12 && sector <= 20) {\r\n    num = sector as AmCricketNumber\r\n    if (ring === 'TRIPLE') hits = 3\r\n    else if (ring === 'DOUBLE') hits = 2\r\n    else hits = 1\r\n  } else if (value) {\r\n    for (const c of [20,19,18,17,16,15,14,13,12] as AmCricketNumber[]) {\r\n      if (value === c) { num = c; hits = 1; break }\r\n      if (value === c*2) { num = c; hits = 2; break }\r\n      if (value === c*3) { num = c; hits = 3; break }\r\n    }\r\n    if (!num && (value === 25 || value === 50)) { num = 25; hits = (value === 50) ? 2 : 1 }\r\n  }\r\n  if (!num) return 0\r\n\r\n  const before = state.marks[num]\r\n  const toClose = Math.max(0, 3 - before)\r\n  const toApply = Math.min(toClose, hits)\r\n  const overflow = Math.max(0, hits - toApply)\r\n  const after = (before + toApply) as AmCricketMark\r\n  state.marks[num] = after > 3 ? 3 : after\r\n\r\n  let points = 0\r\n  if (overflow > 0 && !opponentClosed(num)) {\r\n    if (num === 25) {\r\n      if (ring === 'INNER_BULL') points += 50 * overflow\r\n      else points += 25 * overflow\r\n    } else {\r\n      points += (num as number) * overflow\r\n    }\r\n  }\r\n  state.points += points\r\n  return points\r\n}\r\n\r\nexport function hasClosedAllAm(state: AmCricketState): boolean {\r\n  return AM_CRICKET_NUMBERS.every(n => (state.marks[n] || 0) >= 3)\r\n}\r\n","\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { suggestCheckouts, sayScore } from '../utils/checkout';\r\nimport { useUserSettings } from '../store/userSettings';\r\nimport CameraTile from './CameraTile'\r\nimport CameraView from './CameraView'\r\nimport { getUserCurrency, formatPriceInCurrency } from '../utils/config';\r\nimport { bumpGameMode } from '../store/profileStats'\r\nimport { DOUBLE_PRACTICE_ORDER, isDoubleHit, parseManualDart } from '../game/types'\r\nimport { ATC_ORDER } from '../game/aroundTheClock'\r\nimport { createCricketState, applyCricketDart, CRICKET_NUMBERS, hasClosedAll as cricketClosedAll } from '../game/cricket'\r\nimport { createShanghaiState, applyShanghaiDart, endShanghaiTurn } from '../game/shanghai'\r\nimport { createDefaultHalveIt, getCurrentHalveTarget, applyHalveItDart, endHalveItTurn } from '../game/halveIt'\r\nimport { createHighLow, applyHighLowDart, endHighLowTurn } from '../game/highLow'\r\nimport { createKillerState, assignKillerNumbers, applyKillerDart, killerWinner, KillerState } from '../game/killer'\r\nimport { createBaseball, applyBaseballDart } from '../game/baseball'\r\nimport { createGolf, applyGolfDart } from '../game/golf'\r\nimport { createTicTacToe, tryClaimCell, TTT_TARGETS } from '../game/ticTacToe'\r\nimport { createAmCricketState, applyAmCricketDart, AM_CRICKET_NUMBERS, hasClosedAllAm } from '../game/americanCricket'\r\nimport ResizableModal from './ui/ResizableModal'\r\n\r\nconst freeGames = ['X01', 'Double Practice'];\r\nconst premiumGames = [\r\n  'Around the Clock',\r\n  'Cricket',\r\n  'Halve It',\r\n  'Shanghai',\r\n  'High-Low',\r\n  'Killer',\r\n  \"Bob's 27\",\r\n  'Count-Up',\r\n  'High Score',\r\n  'Low Score',\r\n  'Checkout 170',\r\n  'Checkout 121',\r\n  'Treble Practice',\r\n];\r\nconst aiLevels = ['Easy', 'Medium', 'Hardened'];\r\n\r\nfunction clamp(n: number, min: number, max: number) {\r\n  return Math.max(min, Math.min(max, n))\r\n}\r\n\r\nfunction aiVisitScore(remaining: number, level: string): number {\r\n  // Very simple AI: target a plausible 3-dart total based on difficulty\r\n  // Then adjust down if it would overshoot remaining.\r\n  let target = 0\r\n  if (level === 'Easy') {\r\n    const candidates = [22, 26, 41, 45, 60]\r\n    target = candidates[Math.floor(Math.random() * candidates.length)]\r\n  } else if (level === 'Medium') {\r\n    // around 60 with some variance\r\n    target = Math.round(clamp(60 + (Math.random() * 30 - 15), 30, 100))\r\n  } else {\r\n    // Hardened: around 80 with tighter variance\r\n    target = Math.round(clamp(80 + (Math.random() * 20 - 10), 50, 120))\r\n  }\r\n  if (remaining <= 0) return 0\r\n  if (target > remaining) {\r\n    // Try to pick something that doesn't bust\r\n    const safe = [100, 85, 81, 60, 57, 45, 41, 26, 22, 20, 1].find(v => v <= remaining)\r\n    return safe ?? 0\r\n  }\r\n  return target\r\n}\r\n\r\nfunction X01RulesPopup({ onClose }: { onClose: () => void }) {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n      <div className=\"card max-w-lg w-full relative\">\r\n        <button className=\"absolute top-2 right-2 btn px-2 py-1\" onClick={onClose}>Close</button>\r\n        <h3 className=\"text-xl font-bold mb-2\">X01 Rules & Regulations</h3>\r\n        <ul className=\"list-disc pl-5 text-left mb-2\">\r\n          <li>Double In: Start scoring only after hitting a double.</li>\r\n          <li>Double Out: Finish the game by hitting a double to reach exactly zero.</li>\r\n          <li>Best Of: Play a set number of legs, winner is first to reach majority.</li>\r\n          <li>First To: Play until a player reaches a set number of legs.</li>\r\n          <li>No Cheating: All scores must be valid, no manual score changes mid-leg.</li>\r\n          <li>Competitive Standard: Follow latest WDF/PDC rules for match play.</li>\r\n        </ul>\r\n        <p className=\"text-sm text-slate-600\">For full details, see official darts governing body rules.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function OfflinePlay({ user }: { user: any }) {\r\n  const { offlineLayout } = useUserSettings()\r\n  const [selectedMode, setSelectedMode] = useState('X01');\r\n  const [x01Score, setX01Score] = useState(501);\r\n  const [ai, setAI] = useState('None');\r\n  const [showRules, setShowRules] = useState(false);\r\n  const [inMatch, setInMatch] = useState(false);\r\n  const [playerScore, setPlayerScore] = useState(x01Score);\r\n  const [aiScore, setAiScore] = useState(x01Score);\r\n  const [onDouble, setOnDouble] = useState(false);\r\n  const [showWinPopup, setShowWinPopup] = useState(false);\r\n  // Match format: First-to selector and leg counters\r\n  const [firstTo, setFirstTo] = useState<number>(1)\r\n  const [playerLegs, setPlayerLegs] = useState<number>(0)\r\n  const [aiLegs, setAiLegs] = useState<number>(0)\r\n  const [pendingLegWinner, setPendingLegWinner] = useState<'player'|'ai'|null>(null)\r\n  const [doubleDarts, setDoubleDarts] = useState(1);\r\n  const [checkoutDarts, setCheckoutDarts] = useState(1);\r\n  const [legStats, setLegStats] = useState<{ winner: 'player'|'ai'; doubleDarts: number; checkoutDarts: number; doublesAtt?: number; doublesHit?: number }[]>([]);\r\n  // New: pre-game adjustable AI delay (ms)\r\n  const [aiDelayMs, setAiDelayMs] = useState<number>(2000)\r\n  // New: match popup state\r\n  const [showMatchModal, setShowMatchModal] = useState(false)\r\n  // Mirror Online layout defaults when in modern layout, otherwise keep classic feel\r\n  const [maximized, setMaximized] = useState(offlineLayout === 'modern')\r\n  const [fitAll, setFitAll] = useState(offlineLayout === 'modern')\r\n  // React to layout changes at runtime\r\n  useEffect(() => {\r\n    setMaximized(offlineLayout === 'modern')\r\n    setFitAll(offlineLayout === 'modern')\r\n  }, [offlineLayout])\r\n  const [fitScale, setFitScale] = useState(1)\r\n  const [isPlayerTurn, setIsPlayerTurn] = useState(true)\r\n  // Per-dart input and stats\r\n  const [playerDartPoints, setPlayerDartPoints] = useState<number>(0)\r\n  const [dpIndex, setDpIndex] = useState<number>(0) // 0..20 (DBULL at 20)\r\n  const [dpHits, setDpHits] = useState<number>(0)\r\n  // Around the Clock (offline practice)\r\n  const [atcIndex, setAtcIndex] = useState<number>(0)\r\n  const [atcHits, setAtcHits] = useState<number>(0)\r\n  // Practice mode states\r\n  const [cricket, setCricket] = useState(createCricketState())\r\n  const [shanghai, setShanghai] = useState(createShanghaiState())\r\n  const [halve, setHalve] = useState(createDefaultHalveIt())\r\n  const [highlow, setHighlow] = useState(createHighLow())\r\n  const [practiceTurnDarts, setPracticeTurnDarts] = useState<number>(0)\r\n  // Phase 1 practice modes\r\n  const [b27Stage, setB27Stage] = useState<number>(1)\r\n  const [b27Score, setB27Score] = useState<number>(27)\r\n  const [b27Darts, setB27Darts] = useState<number>(0)\r\n  const [b27Hits, setB27Hits] = useState<number>(0)\r\n  const [b27Finished, setB27Finished] = useState<boolean>(false)\r\n  const [cuRound, setCuRound] = useState<number>(1)\r\n  const [cuScore, setCuScore] = useState<number>(0)\r\n  const [cuDarts, setCuDarts] = useState<number>(0)\r\n  const cuMaxRounds = 8\r\n  const [hsRound, setHsRound] = useState<number>(1)\r\n  const [hsScore, setHsScore] = useState<number>(0)\r\n  const [hsDarts, setHsDarts] = useState<number>(0)\r\n  const hsMaxRounds = 10\r\n  const [lsRound, setLsRound] = useState<number>(1)\r\n  const [lsScore, setLsScore] = useState<number>(0)\r\n  const [lsDarts, setLsDarts] = useState<number>(0)\r\n  const lsMaxRounds = 10\r\n  const [co170Rem, setCo170Rem] = useState<number>(170)\r\n  const [co170Darts, setCo170Darts] = useState<number>(0)\r\n  const [co170Attempts, setCo170Attempts] = useState<number>(0)\r\n  const [co170Successes, setCo170Successes] = useState<number>(0)\r\n  const [co121Rem, setCo121Rem] = useState<number>(121)\r\n  const [co121Darts, setCo121Darts] = useState<number>(0)\r\n  const [co121Attempts, setCo121Attempts] = useState<number>(0)\r\n  const [co121Successes, setCo121Successes] = useState<number>(0)\r\n  const [trebleTarget, setTrebleTarget] = useState<number>(20)\r\n  const [trebleHits, setTrebleHits] = useState<number>(0)\r\n  const [trebleDarts, setTrebleDarts] = useState<number>(0)\r\n  // Phase 2 states\r\n  const [baseball, setBaseball] = useState(createBaseball())\r\n  const [golf, setGolf] = useState(createGolf())\r\n  const [ttt, setTTT] = useState(createTicTacToe())\r\n  const [amCricket, setAmCricket] = useState(createAmCricketState())\r\n  // Killer (hotseat) state\r\n  const [killerPlayers, setKillerPlayers] = useState<Array<{ id: string; name: string }>>([\r\n    { id: 'p1', name: 'Player 1' },\r\n    { id: 'p2', name: 'Player 2' },\r\n  ])\r\n  const [killerStates, setKillerStates] = useState<Record<string, KillerState>>({})\r\n  const [killerAssigned, setKillerAssigned] = useState<Record<string, number>>({})\r\n  const [killerSetupDone, setKillerSetupDone] = useState<boolean>(false)\r\n  const [killerTurnIdx, setKillerTurnIdx] = useState<number>(0)\r\n  const [killerDarts, setKillerDarts] = useState<number>(0)\r\n  const [killerWinnerId, setKillerWinnerId] = useState<string | null>(null)\r\n  const [killerLastEvent, setKillerLastEvent] = useState<string>('')\r\n  const [playerDartsThrown, setPlayerDartsThrown] = useState<number>(0)\r\n  const [playerLastDart, setPlayerLastDart] = useState<number>(0)\r\n  const [playerVisitDarts, setPlayerVisitDarts] = useState<number>(0)\r\n  const [playerVisitStart, setPlayerVisitStart] = useState<number>(x01Score)\r\n  const [playerVisitSum, setPlayerVisitSum] = useState<number>(0)\r\n  const [playerVisitDartsAtDouble, setPlayerVisitDartsAtDouble] = useState<number>(0)\r\n  const [aiCountdownMs, setAiCountdownMs] = useState<number>(0)\r\n  const aiTimerRef = useRef<number | null>(null)\r\n  const [aiDartsThrown, setAiDartsThrown] = useState<number>(0)\r\n  const [aiLastDart, setAiLastDart] = useState<number>(0)\r\n  const [aiVisitSum, setAiVisitSum] = useState<number>(0)\r\n  const [aiVisitDartsAtDouble, setAiVisitDartsAtDouble] = useState<number>(0)\r\n  // Doubles attempts/hits\r\n  const [playerDoublesAtt, setPlayerDoublesAtt] = useState<number>(0)\r\n  const [playerDoublesHit, setPlayerDoublesHit] = useState<number>(0)\r\n  const [aiDoublesAtt, setAiDoublesAtt] = useState<number>(0)\r\n  const [aiDoublesHit, setAiDoublesHit] = useState<number>(0)\r\n  // Match-long totals for averages\r\n  const [totalPlayerDarts, setTotalPlayerDarts] = useState<number>(0)\r\n  const [totalAiDarts, setTotalAiDarts] = useState<number>(0)\r\n  const [totalPlayerPoints, setTotalPlayerPoints] = useState<number>(0)\r\n  const [totalAiPoints, setTotalAiPoints] = useState<number>(0)\r\n  // Power scoring and checkout highs\r\n  const [player180s, setPlayer180s] = useState<number>(0)\r\n  const [player140s, setPlayer140s] = useState<number>(0)\r\n  const [player100s, setPlayer100s] = useState<number>(0)\r\n  const [ai180s, setAi180s] = useState<number>(0)\r\n  const [ai140s, setAi140s] = useState<number>(0)\r\n  const [ai100s, setAi100s] = useState<number>(0)\r\n  const [playerHighestCheckout, setPlayerHighestCheckout] = useState<number>(0)\r\n  const [aiHighestCheckout, setAiHighestCheckout] = useState<number>(0)\r\n  // End-of-match summary modal\r\n  const [showMatchSummary, setShowMatchSummary] = useState<boolean>(false)\r\n  // Manual correction input for offline (matches CameraView UX)\r\n  const [manualBox, setManualBox] = useState<string>('')\r\n  // Settings: favourite double and caller\r\n  const { favoriteDouble, callerEnabled, callerVoice, callerVolume, speakCheckoutOnly, rememberLastOffline, setLastOffline, autoStartOffline, cameraScale, setCameraScale, cameraAspect = 'wide', setCameraAspect } = useUserSettings()\r\n  // Fit-all scaling measurement\r\n  const scrollerRef = useRef<HTMLDivElement | null>(null)\r\n  const contentRef = useRef<HTMLDivElement | null>(null)\r\n  const headerBarRef = useRef<HTMLDivElement | null>(null)\r\n  // Match format controls (offline only): First to N or Best of N with editable count\r\n  const [formatType, setFormatType] = useState<'first'|'best'>('first')\r\n  const [formatCount, setFormatCount] = useState<number>(1)\r\n  const formatRef = useRef<HTMLDivElement | null>(null)\r\n  // Keep internal required wins (firstTo) in sync with format selection\r\n  useEffect(() => {\r\n    const n = Math.max(1, Math.floor(Number(formatCount) || 1))\r\n    const wins = formatType === 'first' ? n : Math.max(1, Math.ceil(n / 2))\r\n    setFirstTo(wins)\r\n  }, [formatType, formatCount])\r\n  useEffect(() => {\r\n    if (!fitAll) { setFitScale(1); return }\r\n    const measure = () => {\r\n      const scroller = scrollerRef.current\r\n      const content = contentRef.current\r\n      if (!scroller || !content) return\r\n      // Available size excludes the sticky header inside the scroller\r\n      const headerH = headerBarRef.current ? headerBarRef.current.getBoundingClientRect().height : 0\r\n      const availH = Math.max(0, scroller.clientHeight - headerH - 6) // small breathing room\r\n      const availW = Math.max(0, scroller.clientWidth - 8)\r\n      // Measure the content size without scale\r\n      const rect = content.getBoundingClientRect()\r\n      const currentScale = fitScale || 1\r\n      const naturalHeight = rect.height / currentScale\r\n      const naturalWidth = rect.width / currentScale\r\n      // Compute scale to fit both height and width\r\n      const scaleH = availH > 0 ? (availH / naturalHeight) : 1\r\n      const scaleW = availW > 0 ? (availW / naturalWidth) : 1\r\n      const next = Math.min(1, Math.max(0.5, Math.min(scaleH, scaleW)))\r\n      setFitScale(next)\r\n    }\r\n    measure()\r\n  const RO: any = (window as any).ResizeObserver\r\n  const ro = RO ? new RO(() => measure()) : null\r\n  ro && scrollerRef.current && ro.observe(scrollerRef.current as any)\r\n  ro && contentRef.current && ro.observe(contentRef.current as any)\r\n    window.addEventListener('resize', measure)\r\n    return () => {\r\n      window.removeEventListener('resize', measure)\r\n      try { ro && scrollerRef.current && ro.unobserve(scrollerRef.current as any) } catch {}\r\n      try { ro && contentRef.current && ro.unobserve(contentRef.current as any) } catch {}\r\n    }\r\n  }, [fitAll, fitScale])\r\n\r\n\r\n  // Auto-start handler (from Home or other tabs)\r\n  useEffect(() => {\r\n    const onAuto = (e: any) => {\r\n      const m = e?.detail?.mode as string | undefined\r\n      if (!m) return\r\n      setSelectedMode(m)\r\n      // For Double Practice we could load a specific flow. For now, we just open the X01-like modal with immediate start.\r\n      startMatch()\r\n    }\r\n    window.addEventListener('ndn:auto-start', onAuto as any)\r\n    return () => window.removeEventListener('ndn:auto-start', onAuto as any)\r\n  }, [])\r\n\r\n  // Accept demo parameters to preconfigure format and starting score before auto-start\r\n  useEffect(() => {\r\n    const onFmt = (e: any) => {\r\n      const t = e?.detail?.formatType\r\n      const c = e?.detail?.formatCount\r\n      const s = e?.detail?.startScore\r\n      if (t === 'first' || t === 'best') setFormatType(t)\r\n      if (typeof c === 'number' && isFinite(c)) setFormatCount(Math.max(1, Math.floor(c)))\r\n      if (typeof s === 'number' && isFinite(s)) setX01Score(Math.max(1, Math.floor(s)))\r\n    }\r\n    window.addEventListener('ndn:offline-format', onFmt as any)\r\n    return () => window.removeEventListener('ndn:offline-format', onFmt as any)\r\n  }, [])\r\n\r\n  // Auto-start last offline match when opening this tab, if enabled\r\n  useEffect(() => {\r\n    if (!autoStartOffline) return\r\n    // Kick off a match after initial render for a smooth modal open\r\n    const id = setTimeout(() => startMatch(), 50)\r\n    return () => clearTimeout(id)\r\n  }, [autoStartOffline])\r\n\r\n  // Drive AI countdown and perform AI visit when countdown elapses\r\n  useEffect(() => {\r\n    if (!showMatchModal || isPlayerTurn || ai === 'None' || aiCountdownMs <= 0) return\r\n    let raf: number\r\n    let last = performance.now()\r\n    const tick = (now: number) => {\r\n      const dt = now - last\r\n      last = now\r\n      setAiCountdownMs(prev => {\r\n        const next = prev - dt\r\n        if (next <= 0) {\r\n          // Execute AI visit per dart (up to 3 darts or until finish/bust)\r\n          let visitDarts = 0\r\n          let remaining = aiScore\r\n          while (visitDarts < 3 && remaining > 0) {\r\n            const targetVisit = aiVisitScore(remaining, ai)\r\n            // break target into up to 3 darts (roughly 20 per dart for easy split)\r\n            const dart = clamp(targetVisit - visitDarts*20, 0, Math.min(60, remaining))\r\n            const after = remaining - dart\r\n            setAiLastDart(dart)\r\n            setAiDartsThrown(d => d + 1)\r\n            setTotalAiDarts(d => d + 1)\r\n            if (after < 0) {\r\n              // bust: revert to remaining before visit\r\n              remaining = aiScore\r\n              setAiVisitSum(0)\r\n              setAiVisitDartsAtDouble(0)\r\n              break\r\n            }\r\n            // Only add points after confirming not a bust\r\n            setAiVisitSum(s => s + dart)\r\n            setTotalAiPoints(p => p + dart)\r\n            // Track darts at double window\r\n            const preRem = remaining\r\n            const postRem = after\r\n            if (preRem > 50 && postRem <= 50) setAiVisitDartsAtDouble(1)\r\n            else if (preRem <= 50) setAiVisitDartsAtDouble(c => c + 1)\r\n            remaining = after\r\n            visitDarts += 1\r\n            if (remaining === 0) break\r\n          }\r\n          setAiScore(remaining)\r\n          if (remaining === 0) {\r\n            // Power score classification\r\n            if (aiVisitSum === 180) setAi180s(n => n + 1)\r\n            else if (aiVisitSum >= 140) setAi140s(n => n + 1)\r\n            else if (aiVisitSum >= 100) setAi100s(n => n + 1)\r\n            // Highest checkout\r\n            const checkout = aiScore\r\n            if (checkout <= 170) setAiHighestCheckout(h => Math.max(h, checkout))\r\n            // Doubles attempts/hit if finished from <= 50\r\n            if (aiScore <= 50) {\r\n              setAiDoublesAtt(a => a + (aiVisitDartsAtDouble > 0 ? aiVisitDartsAtDouble : 1))\r\n              setAiDoublesHit(h => h + 1)\r\n            }\r\n            setAiVisitSum(0)\r\n            setAiVisitDartsAtDouble(0)\r\n            // AI won the leg\r\n            setPendingLegWinner('ai')\r\n            setShowWinPopup(true)\r\n          }\r\n          // If AI did not finish, but threw 3 darts this visit, classify power score and reset visit sum\r\n          if (remaining > 0 && visitDarts >= 3) {\r\n            if (aiVisitSum === 180) setAi180s(n => n + 1)\r\n            else if (aiVisitSum >= 140) setAi140s(n => n + 1)\r\n            else if (aiVisitSum >= 100) setAi100s(n => n + 1)\r\n            setAiVisitSum(0)\r\n            setAiVisitDartsAtDouble(0)\r\n          }\r\n          // Hand turn back to player\r\n          setIsPlayerTurn(true)\r\n          return 0\r\n        }\r\n        return next\r\n      })\r\n      if (aiCountdownMs > 0) raf = requestAnimationFrame(tick)\r\n    }\r\n    raf = requestAnimationFrame(tick)\r\n    return () => cancelAnimationFrame(raf)\r\n  }, [showMatchModal, isPlayerTurn, ai, aiCountdownMs, aiScore])\r\n\r\n  function startMatch() {\r\n    setInMatch(true);\r\n    setPlayerScore(x01Score);\r\n    setAiScore(x01Score);\r\n    setOnDouble(false);\r\n    setShowMatchModal(true);\r\n    setIsPlayerTurn(true);\r\n    setPlayerDartPoints(0);\r\n    setPlayerDartsThrown(0);\r\n    setPlayerLastDart(0);\r\n    setPlayerVisitDarts(0);\r\n    setPlayerVisitStart(x01Score);\r\n    setPlayerVisitSum(0)\r\n  setPlayerVisitDartsAtDouble(0)\r\n    setAiCountdownMs(0);\r\n    setAiDartsThrown(0);\r\n    setAiLastDart(0);\r\n    setAiVisitSum(0)\r\n    setPendingLegWinner(null)\r\n    // When starting a brand-new match from menu, reset legs\r\n  setPlayerLegs(0)\r\n  setAiLegs(0)\r\n    setLegStats([])\r\n    // Reset match-long totals\r\n    setTotalPlayerDarts(0); setTotalAiDarts(0)\r\n    setTotalPlayerPoints(0); setTotalAiPoints(0)\r\n    setPlayer180s(0); setPlayer140s(0); setPlayer100s(0)\r\n    setAi180s(0); setAi140s(0); setAi100s(0)\r\n    setPlayerHighestCheckout(0); setAiHighestCheckout(0)\r\n    setPlayerDoublesAtt(0); setPlayerDoublesHit(0)\r\n    setAiDoublesAtt(0); setAiDoublesHit(0)\r\n    // Sync required wins from current format selection\r\n    const n = Math.max(1, Math.floor(Number(formatCount) || 1))\r\n    setFirstTo(formatType === 'first' ? n : Math.max(1, Math.ceil(n/2)))\r\n    if (rememberLastOffline) {\r\n      try { setLastOffline({ mode: selectedMode, x01Start: x01Score, firstTo, aiLevel: ai }) } catch {}\r\n    }\r\n  }\r\n\r\n  function startNextLeg() {\r\n    setPlayerScore(x01Score)\r\n    setAiScore(x01Score)\r\n    setOnDouble(false)\r\n    setShowMatchModal(true)\r\n    setIsPlayerTurn(true)\r\n    setPlayerDartPoints(0)\r\n    setPlayerDartsThrown(0)\r\n    setPlayerLastDart(0)\r\n    setPlayerVisitDarts(0)\r\n    setPlayerVisitStart(x01Score)\r\n    setPlayerVisitSum(0)\r\n  setPlayerVisitDartsAtDouble(0)\r\n    setAiCountdownMs(0)\r\n    setAiDartsThrown(0)\r\n    setAiLastDart(0)\r\n    setAiVisitSum(0)\r\n    setPendingLegWinner(null)\r\n  }\r\n\r\n  // --- Offline per-dart helpers ---\r\n  function endTurn(nextRemaining: number) {\r\n    setPlayerVisitDarts(0)\r\n    setPlayerVisitStart(nextRemaining === 0 ? x01Score : playerScore)\r\n    setPlayerVisitDartsAtDouble(0)\r\n    if (ai !== 'None') { setIsPlayerTurn(false); setAiCountdownMs(aiDelayMs) } else setIsPlayerTurn(false)\r\n  }\r\n\r\n  function applyDartValue(dart: number) {\r\n    const remaining = playerScore - dart\r\n    const newVisitDarts = playerVisitDarts + 1\r\n    setPlayerLastDart(dart)\r\n    setPlayerDartsThrown(d => d + 1)\r\n    setTotalPlayerDarts(d => d + 1)\r\n    if (remaining < 0) {\r\n      // bust: revert to visit start, end turn\r\n      setPlayerScore(playerVisitStart)\r\n      endTurn(playerVisitStart)\r\n      setPlayerDartPoints(0)\r\n      setPlayerVisitSum(0)\r\n      setPlayerVisitDartsAtDouble(0)\r\n      return\r\n    }\r\n    setPlayerScore(remaining)\r\n  if (callerEnabled) sayScore(user?.username || 'Player', dart, Math.max(remaining, 0), callerVoice, { volume: callerVolume, checkoutOnly: speakCheckoutOnly })\r\n    setPlayerVisitDarts(newVisitDarts)\r\n    setPlayerVisitSum(s => s + dart)\r\n    setTotalPlayerPoints(p => p + dart)\r\n    setPlayerDartPoints(0)\r\n    // Start/continue counting darts at a double when remaining <= 50 and on a valid finish path\r\n    const preRemaining = playerScore\r\n    const postRemaining = remaining\r\n    const startedDoubleWindow = preRemaining > 50 && postRemaining <= 50\r\n    const stillInDoubleWindow = preRemaining <= 50\r\n    if (startedDoubleWindow) {\r\n      setPlayerVisitDartsAtDouble(1)\r\n    } else if (stillInDoubleWindow) {\r\n      setPlayerVisitDartsAtDouble(c => c + 1)\r\n    }\r\n    if (remaining === 0) {\r\n      // Player wins the leg\r\n      // Power score classification on final visit\r\n      if (playerVisitSum + dart === 180) setPlayer180s(n => n + 1)\r\n      else if (playerVisitSum + dart >= 140) setPlayer140s(n => n + 1)\r\n      else if (playerVisitSum + dart >= 100) setPlayer100s(n => n + 1)\r\n      // Highest checkout if <= 170\r\n      const checkout = playerVisitStart\r\n      if (checkout <= 170) setPlayerHighestCheckout(h => Math.max(h, checkout))\r\n      // Count a double hit only if last dart is a double that takes out from <= 50\r\n      if (preRemaining <= 50) {\r\n        setPlayerDoublesAtt(a => a + (playerVisitDartsAtDouble > 0 ? playerVisitDartsAtDouble : 1))\r\n        setPlayerDoublesHit(h => h + 1)\r\n      }\r\n      setPendingLegWinner('player')\r\n      setShowWinPopup(true)\r\n      return\r\n    }\r\n    if (newVisitDarts >= 3) {\r\n      // Classify power score for completed visit\r\n      if (playerVisitSum + dart === 180) setPlayer180s(n => n + 1)\r\n      else if (playerVisitSum + dart >= 140) setPlayer140s(n => n + 1)\r\n      else if (playerVisitSum + dart >= 100) setPlayer100s(n => n + 1)\r\n      endTurn(remaining)\r\n      setPlayerVisitSum(0)\r\n      setPlayerVisitDartsAtDouble(0)\r\n    }\r\n  }\r\n\r\n  function addDartNumeric() {\r\n    const dart = clamp(Math.round(Number(playerDartPoints) || 0), 0, 60)\r\n    applyDartValue(dart)\r\n  }\r\n\r\n  // --- Double Practice helpers ---\r\n  function addDpValue(val: number) {\r\n    const dart = clamp(Math.round(val || 0), 0, 60)\r\n    setPlayerLastDart(dart)\r\n    setPlayerDartsThrown(d => d + 1)\r\n    setTotalPlayerDarts(d => d + 1)\r\n    if (isDoubleHit(dart, dpIndex)) {\r\n      const nextHits = dpHits + 1\r\n      setDpHits(nextHits)\r\n      setDpIndex(i => Math.min(20, i + 1))\r\n      // End when DBULL (index 20) is hit\r\n      if (nextHits >= 21) {\r\n        setPendingLegWinner('player')\r\n        setShowWinPopup(true)\r\n      }\r\n    }\r\n    setPlayerDartPoints(0)\r\n  }\r\n  function addDpNumeric() { addDpValue(Number(playerDartPoints)) }\r\n  function addDpManual() {\r\n    const v = parseManualDart(manualBox)\r\n    if (v == null) { alert('Enter like D16, 50, 25, T20'); return }\r\n    addDpValue(v)\r\n    setManualBox('')\r\n  }\r\n\r\n  // Bob's 27\r\n  function addB27Auto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    if (b27Finished) return\r\n    const target = b27Stage\r\n    const hit = (ring === 'DOUBLE' && sector === target) || (!ring && value === target*2)\r\n    if (hit) setB27Hits(h => h + 1)\r\n    setB27Darts(d => {\r\n      const nd = d + 1\r\n      if (nd >= 3) {\r\n        const totalHits = b27Hits + (hit?1:0)\r\n        if (totalHits > 0) setB27Score(s => s + totalHits * target * 2)\r\n        else setB27Score(s => s - target * 2)\r\n        const next = target + 1\r\n        setB27Stage(next)\r\n        setB27Hits(0)\r\n        if (next > 20) setB27Finished(true)\r\n        return 0\r\n      }\r\n      return nd\r\n    })\r\n  }\r\n  function addB27Numeric() { addB27Auto(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n  function resetB27() { setB27Stage(1); setB27Score(27); setB27Darts(0); setB27Hits(0); setB27Finished(false) }\r\n\r\n  // Count-Up / High Score / Low Score\r\n  function addCountUpAuto(value: number) { setCuScore(s => s + Math.max(0, value|0)); setCuDarts(d => { const nd=d+1; if(nd>=3){ setCuRound(r=>r+1); return 0 } return nd }) }\r\n  function addHighScoreAuto(value: number) { setHsScore(s => s + Math.max(0, value|0)); setHsDarts(d => { const nd=d+1; if(nd>=3){ setHsRound(r=>r+1); return 0 } return nd }) }\r\n  function addLowScoreAuto(value: number) { setLsScore(s => s + Math.max(0, value|0)); setLsDarts(d => { const nd=d+1; if(nd>=3){ setLsRound(r=>r+1); return 0 } return nd }) }\r\n\r\n  // Checkout routines (double out)\r\n  function applyCheckout(rem: number, setRem: (n:number)=>void, darts: number, setDarts: (f:(n:number)=>number)=>void, setAttempts: (f:(n:number)=>number)=>void, setSuccesses: (f:(n:number)=>number)=>void, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL') {\r\n    const next = rem - value\r\n    if (next < 0) {\r\n      // bust: ignore progress during attempt\r\n    } else if (next === 0) {\r\n      if (ring === 'DOUBLE' || ring === 'INNER_BULL') {\r\n        setSuccesses(s => s + 1)\r\n        setAttempts(a => a + 1)\r\n        setDarts(()=>0)\r\n        setRem(rem) // caller will reset to initial value right after\r\n        return\r\n      }\r\n    } else {\r\n      setRem(next)\r\n    }\r\n    setDarts(d => { const nd = d + 1; if (nd>=3) { setAttempts(a=>a+1); return 0 } return nd })\r\n  }\r\n  function addCo170Auto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL') { applyCheckout(co170Rem, setCo170Rem, co170Darts, setCo170Darts, setCo170Attempts, setCo170Successes, value, ring); if (co170Darts+1>=3) setCo170Rem(170) }\r\n  function addCo121Auto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL') { applyCheckout(co121Rem, setCo121Rem, co121Darts, setCo121Darts, setCo121Attempts, setCo121Successes, value, ring); if (co121Darts+1>=3) setCo121Rem(121) }\r\n  function addCoManual(is170: boolean) {\r\n    const v = parseManualDart(manualBox)\r\n    if (v == null) { alert('Enter like T20, D16, 25, 50'); return }\r\n    const t = manualBox.trim().toUpperCase()\r\n    const isDouble = t.startsWith('D') || t === '50' || t === 'BULL' || t === 'DBULL' || t === 'IBULL' || t.includes('INNER')\r\n    if (is170) addCo170Auto(v, isDouble?'DOUBLE':undefined); else addCo121Auto(v, isDouble?'DOUBLE':undefined)\r\n    setManualBox('')\r\n  }\r\n  function resetCo170() { setCo170Rem(170); setCo170Darts(0); setCo170Attempts(0); setCo170Successes(0) }\r\n  function resetCo121() { setCo121Rem(121); setCo121Darts(0); setCo121Attempts(0); setCo121Successes(0) }\r\n\r\n  // Treble practice\r\n  function addTrebleAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) { if (ring==='TRIPLE' && sector===trebleTarget) setTrebleHits(h=>h+1); else if(!ring && value===trebleTarget*3) setTrebleHits(h=>h+1); setTrebleDarts(d=>d+1) }\r\n  function resetTreble() { setTrebleHits(0); setTrebleDarts(0) }\r\n\r\n  // Baseball\r\n  function addBaseballAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null) {\r\n    setBaseball(prev => { const cp = { ...prev }; applyBaseballDart(cp as any, value, ring as any, sector); return cp })\r\n  }\r\n  function resetBaseball() { setBaseball(createBaseball()) }\r\n\r\n  // Golf\r\n  function addGolfAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null) {\r\n    setGolf(prev => { const cp = { ...prev }; applyGolfDart(cp as any, value, ring as any, sector); return cp })\r\n  }\r\n  function resetGolf() { setGolf(createGolf()) }\r\n\r\n  // Tic Tac Toe\r\n  function addTttAuto(cell: number, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setTTT(prev => { const cp = { ...prev, board: [...prev.board] as any }; tryClaimCell(cp as any, cell as any, value, ring as any, sector); return cp })\r\n  }\r\n  function resetTtt() { setTTT(createTicTacToe()) }\r\n\r\n  // American Cricket\r\n  function addAmCricketAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setAmCricket(prev => { const cp = { ...prev, marks: { ...prev.marks } }; applyAmCricketDart(cp as any, value, ring as any, sector, () => false); return cp })\r\n  }\r\n  function resetAmCricket() { setAmCricket(createAmCricketState()) }\r\n\r\n  // --- Around the Clock helpers ---\r\n  function addAtcValue(val: number, ring?: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const target = ATC_ORDER[atcIndex]\r\n    let hit = false\r\n    if (typeof sector === 'number' && sector === target && (ring === 'SINGLE' || ring === 'DOUBLE' || ring === 'TRIPLE')) hit = true\r\n    if (target === 25 && (ring === 'BULL' || val === 25)) hit = true\r\n    if (target === 50 && (ring === 'INNER_BULL' || val === 50)) hit = true\r\n    if (!hit) {\r\n      // Fallback by value only\r\n      if (val === target || val === target * 2 || val === target * 3) hit = true\r\n    }\r\n    if (hit) {\r\n      const newHits = atcHits + 1\r\n      setAtcHits(newHits)\r\n      setAtcIndex(i => i + 1)\r\n    }\r\n  }\r\n  function addAtcNumeric() { addAtcValue(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n  function addAtcManual() {\r\n    const v = parseManualDart(manualBox)\r\n    if (v == null) { alert('Enter like T20, D5, 25, 50'); return }\r\n    addAtcValue(v)\r\n    setManualBox('')\r\n  }\r\n\r\n  // --- Cricket helpers (solo practice) ---\r\n  function addCricketAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setCricket(prev => {\r\n      const copy = { ...prev, marks: { ...prev.marks } }\r\n      applyCricketDart(copy as any, value, ring, sector, () => false)\r\n      return copy\r\n    })\r\n    setPracticeTurnDarts(d => {\r\n      const nd = d + 1; if (nd >= 3) return 0; return nd\r\n    })\r\n  }\r\n  function addCricketNumeric() { addCricketAuto(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n\r\n  // --- Shanghai helpers ---\r\n  function addShanghaiAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setShanghai(prev => {\r\n      const copy = { ...prev, turnHits: { ...prev.turnHits } }\r\n      applyShanghaiDart(copy as any, value, ring, sector)\r\n      return copy\r\n    })\r\n    setPracticeTurnDarts(d => {\r\n      const nd = d + 1\r\n      if (nd >= 3) {\r\n        setShanghai(prev => { const cp = { ...prev, turnHits: { ...prev.turnHits } }; endShanghaiTurn(cp as any); return cp })\r\n        return 0\r\n      }\r\n      return nd\r\n    })\r\n  }\r\n  function addShanghaiNumeric() { addShanghaiAuto(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n\r\n  // --- Halve It helpers ---\r\n  function addHalveAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setHalve(prev => {\r\n      const copy = { ...prev, targets: [...prev.targets] }\r\n      applyHalveItDart(copy as any, value, ring, sector)\r\n      return copy\r\n    })\r\n    setPracticeTurnDarts(d => {\r\n      const nd = d + 1\r\n      if (nd >= 3) {\r\n        setHalve(prev => { const cp = { ...prev, targets: [...prev.targets] }; endHalveItTurn(cp as any); return cp })\r\n        return 0\r\n      }\r\n      return nd\r\n    })\r\n  }\r\n  function addHalveNumeric() { addHalveAuto(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n\r\n  // --- High-Low helpers ---\r\n  function addHighLowAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setHighlow(prev => {\r\n      const copy = { ...prev }\r\n      applyHighLowDart(copy as any, value, ring, sector)\r\n      return copy\r\n    })\r\n    setPracticeTurnDarts(d => {\r\n      const nd = d + 1\r\n      if (nd >= 3) {\r\n        setHighlow(prev => { const cp = { ...prev }; endHighLowTurn(cp as any); return cp })\r\n        return 0\r\n      }\r\n      return nd\r\n    })\r\n  }\r\n  function addHighLowNumeric() { addHighLowAuto(Math.max(0, playerDartPoints|0)); setPlayerDartPoints(0) }\r\n\r\n  function parseManualBox(): number | null {\r\n    const t = manualBox.trim().toUpperCase()\r\n    if (!t) return null\r\n    if (t === '50' || t === 'BULL' || t === 'DBULL' || t === 'IBULL') return 50\r\n    if (t === '25' || t === 'OBULL') return 25\r\n    const m = t.match(/^(S|D|T)?\\s*(\\d{1,2})$/)\r\n    if (!m) return null\r\n    const mult = (m[1] || 'S') as 'S'|'D'|'T'\r\n    const num = parseInt(m[2],10)\r\n    if (num < 1 || num > 20) return null\r\n    const multVal = mult==='S'?1:mult==='D'?2:3\r\n    return num * multVal\r\n  }\r\n\r\n  function addManual() {\r\n    const val = parseManualBox()\r\n    if (val == null) { alert('Enter like T20, D16, 5, 25, 50'); return }\r\n    applyDartValue(val)\r\n    setManualBox('')\r\n  }\r\n\r\n  function replaceLast() {\r\n    if (playerVisitDarts === 0) return\r\n    // Rewind one dart: approximate by adding back last dart into score\r\n    setPlayerScore(s => s + playerLastDart)\r\n    setPlayerVisitDarts(d => Math.max(0, d - 1))\r\n  }\r\n\r\n  function replaceLastManual() {\r\n    const val = parseManualBox()\r\n    if (val == null) { alert('Enter like T20, D16, 5, 25, 50'); return }\r\n    if (playerVisitDarts === 0) { addManual(); return }\r\n    // Rewind last then apply\r\n    const rewind = playerLastDart\r\n    setPlayerScore(s => s + rewind)\r\n    setPlayerVisitDarts(d => Math.max(0, d - 1))\r\n    // Apply new value in next microtask to ensure state has updated\r\n    setTimeout(() => applyDartValue(val), 0)\r\n    setManualBox('')\r\n  }\r\n\r\n  function playerThrow(points: number) {\r\n    let newScore = playerScore - points;\r\n    if (newScore < 0) {\r\n      setPlayerScore(playerScore); // bust\r\n      return;\r\n    }\r\n    setPlayerScore(newScore);\r\n    if (newScore === 0) {\r\n      setPendingLegWinner('player')\r\n      setShowWinPopup(true)\r\n    }\r\n    setOnDouble(newScore <= 40 && newScore % 2 === 0)\r\n  }\r\n\r\n  function aiTurn() {\r\n    // This is now automated inside the modal turn loop\r\n  }\r\n\r\n  function handleBust() {\r\n    setPlayerScore(playerScore); // bust, score unchanged\r\n    setOnDouble(false);\r\n  }\r\n\r\n  function handleWinPopupSubmit() {\r\n    const winner = pendingLegWinner ?? 'player'\r\n    // Approximate per-leg doubles attempts: if winner is player and they finished from <=50, attempts were counted in playerVisitDartsAtDouble; otherwise leave undefined\r\n    const legDoublesAtt = winner==='player' ? (playerVisitDartsAtDouble || undefined) : (aiVisitDartsAtDouble || undefined)\r\n    const legDoublesHit = 1\r\n    setLegStats([...legStats, { winner, doubleDarts, checkoutDarts, doublesAtt: legDoublesAtt, doublesHit: legDoublesHit }]);\r\n    setShowWinPopup(false);\r\n    // Increment legs for the winner\r\n    let p = playerLegs\r\n    let a = aiLegs\r\n    if (pendingLegWinner === 'player') p += 1\r\n    else if (pendingLegWinner === 'ai') a += 1\r\n    setPlayerLegs(p)\r\n    setAiLegs(a)\r\n    setPendingLegWinner(null)\r\n    // Check if match is over\r\n    if (p >= firstTo || a >= firstTo) {\r\n      // End of match: close modal back to menu state\r\n      // Record per-game-mode result (local-only demo)\r\n      try { bumpGameMode(selectedMode, winner === 'player') } catch {}\r\n      setShowMatchModal(false)\r\n      setInMatch(false)\r\n      // Reset leg-specific stats for next match but keep the summary list visible\r\n      setPlayerScore(x01Score)\r\n      setAiScore(x01Score)\r\n      setShowMatchSummary(true)\r\n      return\r\n    }\r\n    // Otherwise, start the next leg immediately\r\n    startNextLeg()\r\n  }\r\n\r\n  const isFreeSelected = freeGames.includes(selectedMode)\r\n  const lockedPremium = !isFreeSelected && !(user?.fullAccess || user?.admin)\r\n\r\n  // no external overlay: we render the match modal as absolute inset-0 inside this card\r\n\r\n  return (\r\n  <div className=\"card relative overflow-hidden\">\r\n  <h2 className=\"text-2xl font-bold text-brand-700 mb-4\">Offline Game Modes {offlineLayout==='classic' ? <span className=\"ml-2 text-xs px-2 py-0.5 rounded-full bg-white/10 border border-white/10 align-middle\">Classic layout</span> : <span className=\"ml-2 text-xs px-2 py-0.5 rounded-full bg-emerald-500/20 border border-emerald-400/30 text-emerald-200 align-middle\">Modern layout</span>}</h2>\r\n      <div className=\"mb-4 flex flex-col gap-3\">\r\n        <label className=\"font-semibold\">Select game mode:</label>\r\n        <select className=\"input w-full\" value={selectedMode} onChange={e => setSelectedMode(e.target.value)}>\r\n          {freeGames.map(mode => <option key={mode} value={mode}>{mode}</option>)}\r\n          {premiumGames.map(mode => (\r\n            <option key={mode} value={mode} disabled={!(user?.fullAccess || user?.admin)}>{mode} {(user?.fullAccess || user?.admin) ? '' : '(Premium)'}</option>\r\n          ))}\r\n        </select>\r\n        {!user?.fullAccess && (\r\n          <div className=\"mt-2 p-2 rounded-lg bg-slate-800/40 border border-slate-700/40 text-slate-200 text-sm flex items-center gap-2\">\r\n            <span></span>\r\n            <span>Only X01 and Double Practice are free. Advanced modes (Killer, Cricket, Shanghai, etc.) require PREMIUM.</span>\r\n          </div>\r\n        )}\r\n        {selectedMode === 'X01' && (\r\n          <>\r\n            <label className=\"font-semibold mt-2\">Enter starting score (1-1001):</label>\r\n            <input\r\n              className=\"input w-full\"\r\n              type=\"number\"\r\n              min={1}\r\n              max={1001}\r\n              value={x01Score}\r\n              onChange={e => setX01Score(Number(e.target.value))}\r\n            />\r\n            <label className=\"font-semibold mt-2\">Play against AI bot?</label>\r\n            <select className=\"input w-full\" value={ai} onChange={e => setAI(e.target.value)}>\r\n              <option value=\"None\">None</option>\r\n              {aiLevels.map(level => <option key={level} value={level}>{level}</option>)}\r\n            </select>\r\n            {ai !== 'None' && (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end mt-2\">\r\n                <div className=\"sm:col-span-2\">\r\n                  <label className=\"font-semibold\">AI throw delay (seconds)</label>\r\n                  <input\r\n                    className=\"input w-full\"\r\n                    type=\"number\"\r\n                    min={0.5}\r\n                    max={10}\r\n                    step={0.5}\r\n                    value={aiDelayMs / 1000}\r\n                    onChange={e => setAiDelayMs(Math.round(Number(e.target.value) * 1000))}\r\n                  />\r\n                </div>\r\n                <div className=\"text-sm text-slate-300\">Controls how long the AI waits before its visit.</div>\r\n              </div>\r\n            )}\r\n            <button className=\"btn mt-2\" onClick={() => setShowRules(true)}>X01 Rules & Regulations!</button>\r\n          </>\r\n        )}\r\n        {selectedMode === 'Double Practice' && (\r\n          <div className=\"mt-2 text-brand-600\">Hit doubles D1  D20  DBULL in as few darts as possible. AI and X01 settings dont apply.</div>\r\n        )}\r\n      </div>\r\n  {!inMatch && <button className=\"btn\" disabled={lockedPremium} title={lockedPremium ? 'PREMIUM required for this mode' : ''} onClick={startMatch}>Start Match</button>}\r\n      {/* Match Modal with turn-by-turn flow */}\r\n      {showMatchModal && (\r\n  <div className={`absolute inset-0 z-[1000] ${maximized ? '' : 'flex items-center justify-center p-3 sm:p-4'}` }>\r\n          <ResizableModal\r\n            storageKey=\"ndn:modal:offline-match\"\r\n            className={`${maximized ? 'w-full h-full ndn-modal-tight' : ''} relative flex flex-col overflow-hidden`}\r\n            fullScreen={maximized}\r\n            defaultWidth={1100}\r\n            defaultHeight={720}\r\n            minWidth={720}\r\n            minHeight={480}\r\n            maxWidth={1600}\r\n            maxHeight={1200}\r\n            initialFitHeight\r\n          >\r\n            {/* Header bar with visible mode and actions; sheen is clipped to this area */}\r\n            <div\r\n              className=\"flex-1 min-h-0 overflow-x-hidden pr-1 pt-2 pb-2\"\r\n              style={{ overflowY: fitAll ? 'hidden' as any : 'auto' }}\r\n              ref={(el) => { (scrollerRef as any).current = el }}\r\n            >\r\n              <div ref={(el)=>{ (headerBarRef as any).current = el }} className=\"sticky top-0 relative overflow-hidden flex items-center justify-between gap-2 mb-2 px-2 sm:px-3 py-2 rounded-xl bg-white/10 border border-white/10 z-10 backdrop-blur-sm\">\r\n                <div className=\"pointer-events-none absolute inset-0 bg-gradient-to-b from-slate-900/30 via-slate-900/10 to-transparent\" />\r\n                <div className=\"flex items-center gap-2 text-xs sm:text-sm leading-none flex-wrap\">\r\n                  <span className=\"hidden xs:inline px-2 py-0.5 rounded-full bg-indigo-500/20 text-indigo-200 border border-indigo-400/30 text-[10px] sm:text-xs\">Game Mode</span>\r\n                  <span className=\"font-medium whitespace-nowrap\">{selectedMode}{selectedMode==='X01' ? ` / ${x01Score}` : ''}</span>\r\n                  <span className=\"opacity-80 whitespace-nowrap\">First to {firstTo}  Legs {playerLegs}-{aiLegs}</span>\r\n                  <span className={`ml-2 px-2 py-0.5 rounded-full border text-[10px] sm:text-xs ${offlineLayout==='modern' ? 'bg-emerald-500/15 text-emerald-200 border-emerald-400/30' : 'bg-white/10 text-white/70 border-white/20'}`}>{offlineLayout==='modern' ? 'Modern layout' : 'Classic layout'}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-1 flex-wrap justify-end\">\r\n                  {/* Camera scale controls (match Online UI) */}\r\n                  <div className=\"hidden items-center gap-2 mr-2 text-xs\">\r\n                    <span className=\"opacity-80\">Cam</span>\r\n                    <button\r\n                      className=\"btn btn--ghost px-2 py-1\"\r\n                      onClick={() => setCameraScale(Math.max(0.5, Math.round((cameraScale - 0.05) * 100) / 100))}\r\n                      title=\"Decrease camera size\"\r\n                    ></button>\r\n                    <span className=\"w-9 text-center\">{Math.round(cameraScale * 100)}%</span>\r\n                    <button\r\n                      className=\"btn btn--ghost px-2 py-1\"\r\n                      onClick={() => setCameraScale(Math.min(1.25, Math.round((cameraScale + 0.05) * 100) / 100))}\r\n                      title=\"Increase camera size\"\r\n                    >+</button>\r\n                  </div>\r\n                  <button\r\n                    className=\"btn btn--ghost px-3 py-1 text-sm\"\r\n                    title={fitAll ? 'Actual Size' : 'Fit All'}\r\n                    onClick={() => setFitAll(v => !v)}\r\n                  >{fitAll ? 'Actual Size' : 'Fit All'}</button>\r\n                  <button\r\n                    className=\"btn btn--ghost px-3 py-1 text-sm\"\r\n                    title={maximized ? 'Restore' : 'Maximize'}\r\n                    onClick={() => setMaximized(m => !m)}\r\n                  >{maximized ? 'Restore' : 'Maximize'}</button>\r\n                  <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={() => { startMatch() }}>Restart</button>\r\n                  <button className=\"btn bg-rose-600 hover:bg-rose-700 px-3 py-1 text-sm\" onClick={() => { setShowMatchModal(false); setInMatch(false); }}>Quit</button>\r\n                </div>\r\n              </div>\r\n              <div\r\n                ref={(el) => { (contentRef as any).current = el }}\r\n                className=\"will-change-transform\"\r\n                style={fitAll ? { transform: `scale(${fitScale})`, transformOrigin: 'top left', width: '100%', fontSize: `${Math.max(0.8, Math.min(1, fitScale))}em` } : undefined}\r\n              >\r\n            <h3 className=\"text-xl font-bold mb-2 mt-1 leading-tight\">{selectedMode === 'X01' ? 'X01 Match' : selectedMode}</h3>\r\n            <div className=\"flex items-center gap-2 mb-2 text-xs flex-wrap\">\r\n              <span className=\"px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">Mode: {selectedMode}</span>\r\n              <span className=\"px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">Start: {x01Score}</span>\r\n              <div ref={formatRef} className=\"inline-flex items-center gap-2 px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">\r\n                <span>Format:</span>\r\n                {(() => {\r\n                  const disabled = (playerScore !== x01Score || aiScore !== x01Score || playerVisitDarts > 0)\r\n                  const pillCls = `px-2 py-0.5 rounded border text-xs ${disabled? 'opacity-50 cursor-not-allowed': 'cursor-pointer'} `\r\n                  return (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`${pillCls} ${formatType==='first' ? 'bg-indigo-500/20 text-indigo-100 border-indigo-400/30' : 'bg-white/10 text-white/80 border-white/20'}`}\r\n                          onClick={() => { if (!disabled) setFormatType('first') }}\r\n                          title=\"First to N\"\r\n                        >First to</button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`${pillCls} ${formatType==='best' ? 'bg-indigo-500/20 text-indigo-100 border-indigo-400/30' : 'bg-white/10 text-white/80 border-white/20'}`}\r\n                          onClick={() => { if (!disabled) setFormatType('best') }}\r\n                          title=\"Best of N (wins = ceil(N/2)\"\r\n                        >Best of</button>\r\n                      </div>\r\n                      <input\r\n                        className={`input w-16 text-center ${disabled ? 'opacity-50' : ''}`}\r\n                        type=\"number\"\r\n                        min={1}\r\n                        step={1}\r\n                        value={formatCount}\r\n                        onChange={e => setFormatCount(Math.max(1, Math.floor(Number(e.target.value)||1)))}\r\n                        disabled={disabled}\r\n                        title={formatType==='first' ? 'First to N' : 'Best of N (wins = ceil(N/2))'}\r\n                      />\r\n                    </div>\r\n                  )\r\n                })()}\r\n              </div>\r\n              <span className=\"px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">Legs: {playerLegs}{aiLegs}</span>\r\n            </div>\r\n            {selectedMode !== 'X01' ? (\r\n              <div className=\"p-3 rounded-2xl glass text-white border border-white/10 min-w-0 flex flex-col h-full mb-2\">\r\n                {selectedMode === 'Double Practice' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                      <span className=\"opacity-80\">Current Target</span>\r\n                      <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">{DOUBLE_PRACTICE_ORDER[dpIndex]?.label || ''}</span>\r\n                    </div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{dpHits} / 21</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Around the Clock' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                      <span className=\"opacity-80\">Current Target</span>\r\n                      <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">{ATC_ORDER[atcIndex] === 25 ? '25 (Outer Bull)' : ATC_ORDER[atcIndex] === 50 ? '50 (Inner Bull)' : (ATC_ORDER[atcIndex] || '')}</span>\r\n                    </div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{atcHits} / {ATC_ORDER.length}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Cricket' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 mb-1\">Cricket  Close 2015 and Bull; overflow scores points</div>\r\n                    <div className=\"grid grid-cols-7 gap-1 text-center text-[11px] mb-2\">\r\n                      {CRICKET_NUMBERS.map(n => (\r\n                        <div key={n} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50\">\r\n                          <div className=\"opacity-70\">{n===25?'Bull':n}</div>\r\n                          <div className=\"font-semibold\">{Math.min(3, cricket.marks?.[n]||0)} / 3</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"text-sm\">Points: <span className=\"font-semibold\">{cricket.points}</span></div>\r\n                    {cricketClosedAll(cricket) && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={()=>{ setCricket(createCricketState()); setPracticeTurnDarts(0) }}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Shanghai' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\"><span>Round</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{shanghai.round}</span></div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {shanghai.score}</div>\r\n                    {shanghai.finished && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={()=>{ setShanghai(createShanghaiState()); setPracticeTurnDarts(0) }}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Halve It' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\"><span>Stage</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{halve.stage+1}/{halve.targets.length}</span></div>\r\n                    <div className=\"text-sm\">Target: <span className=\"font-semibold\">{(() => { const t = getCurrentHalveTarget(halve); if (!t) return ''; if (t.kind==='ANY_NUMBER') return 'Any'; if (t.kind==='BULL') return 'Bull'; if (t.kind==='DOUBLE' || t.kind==='TRIPLE' || t.kind==='NUMBER') return `${t.kind} ${(t as any).num}`; return '' })()}</span></div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {halve.score}</div>\r\n                    {halve.finished && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={()=>{ setHalve(createDefaultHalveIt()); setPracticeTurnDarts(0) }}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'High-Low' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Round {highlow.round}  Target {highlow.target}</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {highlow.score}</div>\r\n                    {highlow.finished && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={()=>{ setHighlow(createHighLow()); setPracticeTurnDarts(0) }}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === \"Bob's 27\" && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\"><span>Target</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-semibold\">D{b27Stage}</span></div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {b27Score}</div>\r\n                    {b27Finished && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={resetB27}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Count-Up' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Round {cuRound}/8</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {cuScore}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'High Score' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Round {hsRound}/10</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {hsScore}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Low Score' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Round {lsRound}/10</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Score: {lsScore}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Checkout 170' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Remaining</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{co170Rem}</div>\r\n                    <div className=\"text-xs text-slate-400 mt-1\">Attempts: {co170Attempts}  Successes: {co170Successes}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Checkout 121' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Remaining</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{co121Rem}</div>\r\n                    <div className=\"text-xs text-slate-400 mt-1\">Attempts: {co121Attempts}  Successes: {co121Successes}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Treble Practice' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Treble Target: T{trebleTarget}</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">Hits: {trebleHits}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Baseball' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Inning</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{baseball.inning}</div>\r\n                    <div className=\"text-sm\">Score: <span className=\"font-semibold\">{baseball.score}</span></div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Golf' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Hole</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{golf.hole}</div>\r\n                    <div className=\"text-sm\">Strokes: <span className=\"font-semibold\">{golf.strokes}</span></div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Tic Tac Toe' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600\">Turn</div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{ttt.turn}</div>\r\n                    {ttt.finished && <div className=\"mt-1 text-xs\">Winner: {ttt.winner || ''}</div>}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'American Cricket' && (\r\n                  <>\r\n                    <div className=\"text-xs text-slate-600 mb-1\">Close 2012 and Bull; overflow scores points</div>\r\n                    <div className=\"grid grid-cols-10 gap-1 text-center text-[11px] mb-2\">\r\n                      {AM_CRICKET_NUMBERS.map(n => (\r\n                        <div key={n} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50\">\r\n                          <div className=\"opacity-70\">{n===25?'Bull':n}</div>\r\n                          <div className=\"font-semibold\">{Math.min(3, amCricket.marks?.[n]||0)} / 3</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"text-sm\">Points: <span className=\"font-semibold\">{amCricket.points}</span></div>\r\n                    {hasClosedAllAm(amCricket) && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={resetAmCricket}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Killer' && (\r\n                  <>\r\n                    {!killerSetupDone ? (\r\n                      <div className=\"text-xs text-slate-600\">Setup players and assign numbers</div>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                          <span>Turn</span>\r\n                          <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">{killerPlayers[killerTurnIdx]?.name || ''}</span>\r\n                        </div>\r\n                        <div className=\"text-3xl font-extrabold tracking-tight\">{killerWinnerId ? `${killerPlayers.find(p=>p.id===killerWinnerId)?.name || 'Winner'} Wins` : (killerLastEvent || 'Ready')}</div>\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : offlineLayout === 'modern' ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2 items-stretch min-w-0\">\r\n                {/* Left column: Player panel, Match Summary, Opponent panel stacked */}\r\n                <div className=\"flex flex-col gap-2 min-w-0\">\r\n                  <div className=\"p-3 rounded-2xl glass text-white border border-white/10 min-w-0 flex flex-col\">\r\n                    <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                      <span className=\"opacity-80\">You Remain</span>\r\n                      {isPlayerTurn ? (\r\n                        <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">THROWING</span>\r\n                      ) : (\r\n                        <span className=\"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold\">WAITING TO THROW</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{playerScore}</div>\r\n                    <div className=\"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden\">\r\n                      <div className=\"h-full bg-emerald-400/70\" style={{ width: `${Math.max(0, Math.min(100, (1 - (playerScore / x01Score)) * 100))}%` }} />\r\n                    </div>\r\n                    <div className=\"text-sm mt-1 opacity-90\">Last dart: <span className=\"font-semibold\">{playerLastDart}</span></div>\r\n                    <div className=\"text-sm opacity-90\">3-Dart Avg: <span className=\"font-semibold\">{playerDartsThrown>0 ? (((x01Score - playerScore)/playerDartsThrown)*3).toFixed(1) : '0.0'}</span></div>\r\n                    <div className=\"text-xs opacity-70 flex items-center gap-2\">\r\n                      <span>Darts thrown: {playerDartsThrown}</span>\r\n                      <span className=\"inline-flex items-center gap-1\" aria-label=\"Visit darts\">\r\n                        {[0,1,2].map(i => (\r\n                          <span key={i} className={`w-2 h-2 rounded-full ${i < playerVisitDarts ? 'bg-emerald-400' : 'bg-white/20'}`}></span>\r\n                        ))}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-xs opacity-80 mt-1\">Doubles: <span className=\"font-semibold\">Att {playerDoublesAtt}  Hit {playerDoublesHit}</span></div>\r\n                    {playerScore <= 170 && playerScore > 0 && (\r\n                      (() => {\r\n                        const sugs = suggestCheckouts(playerScore, favoriteDouble)\r\n                        const first = sugs[0] || ''\r\n                        return (\r\n                          <div className=\"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 text-white text-sm\">\r\n                            <span className=\"opacity-70\">Checkout</span>\r\n                            <span className=\"font-semibold\">{first}</span>\r\n                          </div>\r\n                        )\r\n                      })()\r\n                    )}\r\n                  </div>\r\n                  {/* Match Summary */}\r\n                  <div className=\"p-3 rounded-2xl bg-slate-900/40 border border-white/10 text-white text-sm\">\r\n                    <div className=\"font-semibold mb-2\">Match Summary</div>\r\n                    {(() => {\r\n                      const currentThrower = isPlayerTurn ? (user?.username || 'You') : (ai === 'None' ? '' : `${ai} AI`)\r\n                      const currentRemaining = isPlayerTurn ? playerScore : (ai === 'None' ? 0 : aiScore)\r\n                      const last = isPlayerTurn ? playerLastDart : aiLastDart\r\n                      const lastScoreVisit = isPlayerTurn ? playerVisitSum : aiVisitSum\r\n                      const dartsThrown = isPlayerTurn ? playerDartsThrown : aiDartsThrown\r\n                      const scored = (x01Score - (isPlayerTurn ? playerScore : (ai === 'None' ? x01Score : aiScore)))\r\n                      const avg3 = dartsThrown > 0 ? ((scored / dartsThrown) * 3) : 0\r\n                      const matchScore = `${playerLegs}-${aiLegs}`\r\n                      const bestLegText = legStats.length > 0 ? `${Math.min(...legStats.map(l=>l.doubleDarts + (l.checkoutDarts||0))) || 0} darts` : ''\r\n                      return (\r\n                        <div className=\"grid grid-cols-2 gap-y-1\">\r\n                          <div className=\"opacity-80\">Current score</div>\r\n                          <div className=\"font-mono text-right\">{matchScore}</div>\r\n                          <div className=\"opacity-80\">Current thrower</div>\r\n                          <div className=\"text-right font-semibold\">{currentThrower}</div>\r\n                          <div className=\"opacity-80\">Score remaining</div>\r\n                          <div className=\"text-right font-mono\">{currentRemaining}</div>\r\n                          <div className=\"opacity-80\">3-dart avg</div>\r\n                          <div className=\"text-right font-mono\">{avg3.toFixed(1)}</div>\r\n                          <div className=\"opacity-80\">Last score</div>\r\n                          <div className=\"text-right font-mono\">{lastScoreVisit || last}</div>\r\n                          <div className=\"opacity-80\">Best leg</div>\r\n                          <div className=\"text-right\">{bestLegText}</div>\r\n                        </div>\r\n                      )\r\n                    })()}\r\n                  </div>\r\n                  {/* Opponent panel */}\r\n                  <div className=\"p-3 rounded-2xl glass text-white border border-white/10 min-w-0 flex flex-col\">\r\n                    <div className=\"text-xs flex items-center justify-between opacity-80\">\r\n                      <span>{ai === 'None' ? 'Opponent' : `${ai} AI`} Remain</span>\r\n                      {!isPlayerTurn ? (\r\n                        <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">THROWING</span>\r\n                      ) : (\r\n                        <span className=\"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold\">WAITING TO THROW</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-3xl font-extrabold tracking-tight\">{ai !== 'None' ? aiScore : 'N/A'}</div>\r\n                    {ai !== 'None' && (\r\n                      <div className=\"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden\">\r\n                        <div className=\"h-full bg-fuchsia-400/70\" style={{ width: `${Math.max(0, Math.min(100, (1 - (aiScore / x01Score)) * 100))}%` }} />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"text-sm mt-1 opacity-90\">Last dart: <span className=\"font-semibold\">{ai === 'None' ? 0 : aiLastDart}</span></div>\r\n                    <div className=\"text-sm opacity-90\">3-Dart Avg: <span className=\"font-semibold\">{ai !== 'None' ? (aiDartsThrown>0 ? (((x01Score - aiScore)/aiDartsThrown)*3).toFixed(1) : '0.0') : ''}</span></div>\r\n                    {ai !== 'None' && (\r\n                      <div className=\"text-xs opacity-70\">Darts thrown: {aiDartsThrown}</div>\r\n                    )}\r\n                    {ai !== 'None' && (\r\n                      <div className=\"text-xs opacity-80 mt-1\">Doubles: <span className=\"font-semibold\">Att {aiDoublesAtt}  Hit {aiDoublesHit}</span></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {/* Right area: toolbar + camera (span 2) */}\r\n                <div className=\"md:col-span-2 min-w-0 space-y-2\">\r\n                  <div className=\"flex items-center gap-1.5 mt-1\">\r\n                    <div className=\"ml-auto flex items-center gap-1 text-[10px]\">\r\n                      <span className=\"opacity-70\">Cam</span>\r\n                      <button className=\"btn px-1 py-0.5\" onClick={()=>setCameraScale(Math.max(0.5, Math.round((cameraScale-0.05)*100)/100))}></button>\r\n                      <span className=\"w-7 text-center\">{Math.round(cameraScale*100)}%</span>\r\n                      <button className=\"btn px-1 py-0.5\" onClick={()=>setCameraScale(Math.min(1.25, Math.round((cameraScale+0.05)*100)/100))}>+</button>\r\n                      <span className=\"opacity-50\">|</span>\r\n                      <button className=\"btn px-1 py-0.5\" title=\"Toggle camera aspect\" onClick={()=>setCameraAspect(cameraAspect==='square'?'wide':'square')}>{cameraAspect==='square'?'Square':'Wide'}</button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-stretch justify-end min-w-0\">\r\n                    <div className={`w-full min-w-0 ${cameraAspect==='square'?'aspect-square':'aspect-video'} rounded-2xl overflow-hidden bg-black`}>\r\n                      <CameraTile label=\"Your Board\" autoStart={true} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:[grid-template-columns:1fr_1.2fr_1fr] gap-2 mb-2 items-stretch min-w-0\">\r\n                <div className=\"flex items-stretch justify-center md:px-3 min-w-0\">\r\n              <div className=\"p-3 rounded-2xl glass text-white border border-white/10 min-w-0 flex flex-col h-full\">\r\n                <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                  <span className=\"opacity-80\">You Remain</span>\r\n                  {isPlayerTurn ? (\r\n                    <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">THROWING</span>\r\n                  ) : (\r\n                    <span className=\"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold\">WAITING TO THROW</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-3xl font-extrabold tracking-tight\">{playerScore}</div>\r\n                <div className=\"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden\">\r\n                  <div className=\"h-full bg-emerald-400/70\" style={{ width: `${Math.max(0, Math.min(100, (1 - (playerScore / x01Score)) * 100))}%` }} />\r\n                </div>\r\n                <div className=\"text-sm mt-1 opacity-90\">Last dart: <span className=\"font-semibold\">{playerLastDart}</span></div>\r\n                <div className=\"text-sm opacity-90\">3-Dart Avg: <span className=\"font-semibold\">{playerDartsThrown>0 ? (((x01Score - playerScore)/playerDartsThrown)*3).toFixed(1) : '0.0'}</span></div>\r\n                <div className=\"text-xs opacity-70 flex items-center gap-2\">\r\n                  <span>Darts thrown: {playerDartsThrown}</span>\r\n                  <span className=\"inline-flex items-center gap-1\" aria-label=\"Visit darts\">\r\n                    {[0,1,2].map(i => (\r\n                      <span key={i} className={`w-2 h-2 rounded-full ${i < playerVisitDarts ? 'bg-emerald-400' : 'bg-white/20'}`}></span>\r\n                    ))}\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-xs opacity-80 mt-1\">Doubles: <span className=\"font-semibold\">Att {playerDoublesAtt}  Hit {playerDoublesHit}</span></div>\r\n                {playerScore <= 170 && playerScore > 0 && (\r\n                  (() => {\r\n                    const sugs = suggestCheckouts(playerScore, favoriteDouble)\r\n                    const first = sugs[0] || ''\r\n                    return (\r\n                      <div className=\"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 text-white text-sm\">\r\n                        <span className=\"opacity-70\">Checkout</span>\r\n                        <span className=\"font-semibold\">{first}</span>\r\n                      </div>\r\n                    )\r\n                  })()\r\n                )}\r\n              </div>\r\n              {/* Center camera preview: right-aligned and square when selected */}\r\n              <div className=\"flex items-stretch justify-end md:px-3 min-w-0\">\r\n                <div className={`w-full max-w-xl min-w-0 rounded-2xl overflow-hidden bg-black ${ cameraAspect === 'square' ? 'aspect-square' : 'aspect-video' }`}>\r\n                  <CameraTile label=\"Your Board\" autoStart={true} />\r\n                </div>\r\n              </div>\r\n              {/* Match summary (offline) */}\r\n              <div className=\"mt-2 p-3 rounded-2xl bg-slate-900/40 border border-white/10 text-white text-sm\">\r\n                <div className=\"font-semibold mb-2\">Match Summary</div>\r\n                {(() => {\r\n                  // In offline X01, player is vs AI or practice\r\n                  const currentThrower = isPlayerTurn ? (user?.username || 'You') : (ai === 'None' ? '' : `${ai} AI`)\r\n                  const currentRemaining = isPlayerTurn ? playerScore : (ai === 'None' ? 0 : aiScore)\r\n                  const last = isPlayerTurn ? playerLastDart : aiLastDart\r\n                  const lastScoreVisit = isPlayerTurn ? playerVisitSum : aiVisitSum\r\n                  const dartsThrown = isPlayerTurn ? playerDartsThrown : aiDartsThrown\r\n                  const scored = (x01Score - (isPlayerTurn ? playerScore : (ai === 'None' ? x01Score : aiScore)))\r\n                  const avg3 = dartsThrown > 0 ? ((scored / dartsThrown) * 3) : 0\r\n                  const matchScore = `${playerLegs}-${aiLegs}`\r\n                  const bestLegText = legStats.length > 0 ? `${Math.min(...legStats.map(l=>l.doubleDarts + (l.checkoutDarts||0))) || 0} darts` : ''\r\n                  return (\r\n                    <div className=\"grid grid-cols-2 gap-y-1\">\r\n                      <div className=\"opacity-80\">Current score</div>\r\n                      <div className=\"font-mono text-right\">{matchScore}</div>\r\n                      <div className=\"opacity-80\">Current thrower</div>\r\n                      <div className=\"text-right font-semibold\">{currentThrower}</div>\r\n                      <div className=\"opacity-80\">Score remaining</div>\r\n                      <div className=\"text-right font-mono\">{currentRemaining}</div>\r\n                      <div className=\"opacity-80\">3-dart avg</div>\r\n                      <div className=\"text-right font-mono\">{avg3.toFixed(1)}</div>\r\n                      <div className=\"opacity-80\">Last score</div>\r\n                      <div className=\"text-right font-mono\">{lastScoreVisit || last}</div>\r\n                      <div className=\"opacity-80\">Best leg</div>\r\n                      <div className=\"text-right\">{bestLegText}</div>\r\n                    </div>\r\n                  )\r\n                })()}\r\n              </div>\r\n              <div className=\"p-3 rounded-2xl glass text-white border border-white/10 min-w-0 flex flex-col h-full\">\r\n                <div className=\"text-xs flex items-center justify-between opacity-80\">\r\n                  <span>{ai === 'None' ? 'Opponent' : `${ai} AI`} Remain</span>\r\n                  {!isPlayerTurn ? (\r\n                    <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold\">THROWING</span>\r\n                  ) : (\r\n                    <span className=\"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold\">WAITING TO THROW</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-3xl font-extrabold tracking-tight\">{ai !== 'None' ? aiScore : 'N/A'}</div>\r\n                {ai !== 'None' && (\r\n                  <div className=\"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden\">\r\n                    <div className=\"h-full bg-fuchsia-400/70\" style={{ width: `${Math.max(0, Math.min(100, (1 - (aiScore / x01Score)) * 100))}%` }} />\r\n                  </div>\r\n                )}\r\n                <div className=\"text-sm mt-1 opacity-90\">Last dart: <span className=\"font-semibold\">{ai === 'None' ? 0 : aiLastDart}</span></div>\r\n                <div className=\"text-sm opacity-90\">3-Dart Avg: <span className=\"font-semibold\">{ai !== 'None' ? (aiDartsThrown>0 ? (((x01Score - aiScore)/aiDartsThrown)*3).toFixed(1) : '0.0') : ''}</span></div>\r\n                {ai !== 'None' && (\r\n                  <div className=\"text-xs opacity-70\">Darts thrown: {aiDartsThrown}</div>\r\n                )}\r\n                {ai !== 'None' && (\r\n                  <div className=\"text-xs opacity-80 mt-1\">Doubles: <span className=\"font-semibold\">Att {aiDoublesAtt}  Hit {aiDoublesHit}</span></div>\r\n                )}\r\n              </div>\r\n                </div>\r\n            </div>\r\n            )}\r\n            {/* Turn area */}\r\n            {selectedMode !== 'X01' ? (\r\n              <div className=\"space-y-2\">\r\n                {selectedMode === 'Double Practice' && (\r\n                  <>\r\n                    <div className=\"font-semibold\">Target: <span className=\"px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">{DOUBLE_PRACTICE_ORDER[dpIndex]?.label || ''}</span></div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} onAutoDart={(value, ring) => {\r\n                        if (ring === 'DOUBLE' || ring === 'INNER_BULL') {\r\n                          const hit = isDoubleHit(value, dpIndex)\r\n                          if (hit) { const nh = dpHits + 1; const ni = dpIndex + 1; setDpHits(nh); setDpIndex(ni); if (nh >= DOUBLE_PRACTICE_ORDER.length) setTimeout(()=>{ setDpHits(0); setDpIndex(0) }, 250) }\r\n                        }\r\n                      }} immediateAutoCommit />\r\n                    </div>\r\n                    <div className=\"flex flex-col gap-2\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-24\" type=\"number\" min={0} max={60} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e => { if (e.key==='Enter') addDpNumeric() }} />\r\n                        <button className=\"btn px-3 py-1 text-sm\" onClick={addDpNumeric}>Add Dart</button>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-44\" placeholder=\"Manual (D16, 50, 25, T20)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e => { if (e.key==='Enter') addDpManual() }} />\r\n                        <button className=\"btn px-3 py-1 text-sm\" onClick={addDpManual}>Add</button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-300\">Progress: {dpHits} of 21</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Around the Clock' && (\r\n                  <>\r\n                    <div className=\"font-semibold\">Target: <span className=\"px-2 py-0.5 rounded-full bg-white/10 border border-white/10\">{ATC_ORDER[atcIndex] === 25 ? '25 (Outer Bull)' : ATC_ORDER[atcIndex] === 50 ? '50 (Inner Bull)' : (ATC_ORDER[atcIndex] || '')}</span></div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addAtcValue(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addAtcNumeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addAtcNumeric}>Add Dart</button>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-44\" placeholder=\"Manual (T20, D5, 25, 50)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addAtcManual() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addAtcManual}>Add</button>\r\n                    </div>\r\n                    {atcHits >= ATC_ORDER.length && (\r\n                      <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Completed! <button className=\"ml-2 underline\" onClick={()=>{ setAtcHits(0); setAtcIndex(0) }}>Reset</button></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Cricket' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addCricketAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addCricketNumeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addCricketNumeric}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setCricket(createCricketState()); setPracticeTurnDarts(0) }}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Shanghai' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addShanghaiAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addShanghaiNumeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addShanghaiNumeric}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setShanghai(createShanghaiState()); setPracticeTurnDarts(0) }}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Halve It' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addHalveAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addHalveNumeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addHalveNumeric}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setHalve(createDefaultHalveIt()); setPracticeTurnDarts(0) }}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'High-Low' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addHighLowAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addHighLowNumeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addHighLowNumeric}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setHighlow(createHighLow()); setPracticeTurnDarts(0) }}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === \"Bob's 27\" && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addB27Auto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') addB27Numeric() }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={addB27Numeric}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetB27}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Count-Up' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value) => addCountUpAuto(value)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') { addCountUpAuto(playerDartPoints); setPlayerDartPoints(0) } }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ addCountUpAuto(playerDartPoints); setPlayerDartPoints(0) }}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setCuRound(1); setCuScore(0); setCuDarts(0) }}>Reset</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Round {cuRound}/{cuMaxRounds}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'High Score' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value) => addHighScoreAuto(value)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') { addHighScoreAuto(playerDartPoints); setPlayerDartPoints(0) } }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ addHighScoreAuto(playerDartPoints); setPlayerDartPoints(0) }}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setHsRound(1); setHsScore(0); setHsDarts(0) }}>Reset</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Round {hsRound}/{hsMaxRounds}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Low Score' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value) => addLowScoreAuto(value)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"number\" min={0} value={playerDartPoints} onChange={e => setPlayerDartPoints(Number(e.target.value||0))} onKeyDown={e=>{ if(e.key==='Enter') { addLowScoreAuto(playerDartPoints); setPlayerDartPoints(0) } }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ addLowScoreAuto(playerDartPoints); setPlayerDartPoints(0) }}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{ setLsRound(1); setLsScore(0); setLsDarts(0) }}>Reset</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Round {lsRound}/{lsMaxRounds}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Checkout 170' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring) => addCo170Auto(value, ring === 'MISS' ? undefined : ring)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"text\" placeholder=\"Manual (D16, T20)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addCoManual(true) }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>addCoManual(true)}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetCo170}>Reset</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Remaining: {co170Rem}  Attempts: {co170Attempts}  Successes: {co170Successes}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Checkout 121' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring) => addCo121Auto(value, ring === 'MISS' ? undefined : ring)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"text\" placeholder=\"Manual (D16, T20)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addCoManual(false) }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>addCoManual(false)}>Add Dart</button>\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetCo121}>Reset</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Remaining: {co121Rem}  Attempts: {co121Attempts}  Successes: {co121Successes}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Treble Practice' && (\r\n                  <>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <label className=\"text-sm\">Target</label>\r\n                      <select className=\"input w-24\" value={trebleTarget} onChange={e=> setTrebleTarget(parseInt(e.target.value,10))}>\r\n                        {Array.from({length:20},(_,i)=>i+1).map(n=> <option key={n} value={n}>{n}</option>)}\r\n                      </select>\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={resetTreble}>Reset</button>\r\n                    </div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : ring; addTrebleAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input className=\"input w-24\" type=\"text\" placeholder=\"Manual (T20)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') { const v = parseManualDart(manualBox); if (v!=null) addTrebleAuto(v, undefined, undefined); setManualBox('') } }} />\r\n                      <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ const v = parseManualDart(manualBox); if (v!=null) addTrebleAuto(v, undefined, undefined); setManualBox('') }}>Add Dart</button>\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">Hits: {trebleHits}  Darts: {trebleDarts}</div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Baseball' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:ring; addBaseballAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetBaseball}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Golf' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:ring; addGolfAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetGolf}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Tic Tac Toe' && (\r\n                  <>\r\n                    <div className=\"grid grid-cols-3 gap-1 mb-2\">\r\n                      {Array.from({length:9},(_,i)=>i).map(cell => (\r\n                        <button key={cell} className={`h-16 rounded-xl border ${ttt.board[cell]?'bg-emerald-500/20 border-emerald-400/30':'bg-slate-800/50 border-slate-700/50'}`} onClick={()=>{\r\n                          if (ttt.finished || ttt.board[cell]) return\r\n                          // One-tap claim attempt using autoscore last dart; fallback: prompt numeric\r\n                          // For simplicity here, we use a no-op value and rely on next autoscore dart; as a usable fallback, open a numeric prompt\r\n                          const promptVal = Number(prompt('Enter dart score for this cell (e.g., 20, 40, 60; 25 or 50 for center)')||0)\r\n                          const ring = promptVal%3===0?'TRIPLE': promptVal%2===0?'DOUBLE':'SINGLE'\r\n                          const tcell = cell as unknown as 0|1|2|3|4|5|6|7|8\r\n                          const tgt = TTT_TARGETS[tcell]\r\n                          const num = tgt.type==='BULL'?null:(tgt.num||null)\r\n                          addTttAuto(tcell, promptVal, ring as any, num as any)\r\n                        }}>{ttt.board[cell] || ''}</button>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => {\r\n                        // Attempt to claim the currently tapped-looking cell not tracked; as a simple flow, map by round-robin preference or let user click a cell button above.\r\n                        // No-op here; primary interaction is via buttons with prompt for now.\r\n                      }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetTtt}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'American Cricket' && (\r\n                  <>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:ring; addAmCricketAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={resetAmCricket}>Reset</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedMode === 'Killer' && (\r\n                  <>\r\n                    {!killerSetupDone ? (\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"font-semibold\">Players</div>\r\n                        <div className=\"space-y-1\">\r\n                          {killerPlayers.map((p, idx) => (\r\n                            <div key={p.id} className=\"flex items-center gap-2\">\r\n                              <input className=\"input\" value={p.name} onChange={e=>{\r\n                                const name = e.target.value\r\n                                setKillerPlayers(list => list.map((it,i)=> i===idx?{...it,name}:it))\r\n                              }} />\r\n                              <button className=\"btn px-2 py-1\" onClick={()=> setKillerPlayers(list => list.filter((_,i)=>i!==idx))} disabled={killerPlayers.length<=2}>Remove</button>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button className=\"btn px-2 py-1\" onClick={()=> setKillerPlayers(list => {\r\n                            const id = `p${list.length+1}`; return [...list, { id, name: `Player ${list.length+1}` }]\r\n                          })}>Add Player</button>\r\n                          <button className=\"btn bg-emerald-600 hover:bg-emerald-700 px-3 py-1\" onClick={()=>{\r\n                            if (killerPlayers.length < 2) { alert('Need at least 2 players'); return }\r\n                            const ids = killerPlayers.map(p=>p.id)\r\n                            const assigned = assignKillerNumbers(ids)\r\n                            const initStates: Record<string,KillerState> = {}\r\n                            ids.forEach(id => { initStates[id] = createKillerState(assigned[id]) })\r\n                            setKillerAssigned(assigned)\r\n                            setKillerStates(initStates)\r\n                            setKillerTurnIdx(0)\r\n                            setKillerDarts(0)\r\n                            setKillerWinnerId(null)\r\n                            setKillerLastEvent('Assigned numbers')\r\n                            setKillerSetupDone(true)\r\n                          }}>Assign Numbers & Start</button>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"space-y-3\">\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n                          {killerPlayers.map(p => {\r\n                            const st = killerStates[p.id]\r\n                            const num = killerAssigned[p.id]\r\n                            return (\r\n                              <div key={p.id} className={`p-2 rounded-xl border ${st?.eliminated? 'opacity-50 border-red-500/40 bg-red-500/10' : 'border-slate-700/50 bg-slate-800/50'}`}>\r\n                                <div className=\"flex items-center justify-between text-xs\">\r\n                                  <div className=\"font-semibold\">{p.name}</div>\r\n                                  <div className={`text-[10px] px-1.5 py-0.5 rounded ${st?.isKiller?'bg-purple-500/20 text-purple-200 border border-purple-400/30':'bg-slate-600/30 text-slate-300'}`}>{st?.isKiller? 'Killer' : 'Not Killer'}</div>\r\n                                </div>\r\n                                <div className=\"mt-1 text-sm\">Number: <span className=\"font-semibold\">{num}</span></div>\r\n                                <div className=\"text-sm\">Lives: <span className=\"font-semibold\">{st?.lives ?? 0}</span></div>\r\n                              </div>\r\n                            )\r\n                          })}\r\n                        </div>\r\n                        <div className=\"rounded-2xl overflow-hidden bg-black\">\r\n                          <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => {\r\n                            if (killerWinnerId) return\r\n                            const r = ring === 'MISS' ? undefined : ring\r\n                            const sector = info?.sector ?? null\r\n                            const cur = killerPlayers[killerTurnIdx]\r\n                            if (!cur) return\r\n                            setKillerStates(prev => {\r\n                              const copy: Record<string,KillerState> = {}\r\n                              Object.keys(prev).forEach(k => copy[k] = { ...prev[k] })\r\n                              const res = applyKillerDart(cur.id, copy, r as any, sector)\r\n                              if (res.becameKiller) setKillerLastEvent(`${cur.name} became a Killer`)\r\n                              else if (res.victimId) {\r\n                                const v = killerPlayers.find(p=>p.id===res.victimId)\r\n                                setKillerLastEvent(`${cur.name} hit ${v?.name}'s ${killerAssigned[res.victimId]} (${res.livesRemoved} life${(res.livesRemoved||0)>1?'s':''})`)\r\n                              } else setKillerLastEvent('No effect')\r\n                              // Check winner\r\n                              const win = killerWinner(copy)\r\n                              if (win) setKillerWinnerId(win)\r\n                              return copy\r\n                            })\r\n                            setKillerDarts(d => {\r\n                              const nd = d + 1\r\n                              if (nd >= 3) {\r\n                                // advance to next alive\r\n                                let next = killerTurnIdx\r\n                                for (let i=1;i<=killerPlayers.length;i++) {\r\n                                  const idx = (killerTurnIdx + i) % killerPlayers.length\r\n                                  const pid = killerPlayers[idx].id\r\n                                  const st = killerStates[pid]\r\n                                  if (st && !st.eliminated && st.lives > 0) { next = idx; break }\r\n                                }\r\n                                setKillerTurnIdx(next)\r\n                                return 0\r\n                              }\r\n                              return nd\r\n                            })\r\n                          }} />\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <input className=\"input w-40\" placeholder=\"Manual (D16, T5)\" value={manualBox} onChange={e=>setManualBox(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') {\r\n                            if (killerWinnerId) return\r\n                            const t = manualBox.trim().toUpperCase()\r\n                            const m = t.match(/^(S|D|T)?\\s*(\\d{1,2})$/)\r\n                            if (!m) { setManualBox(''); return }\r\n                            const mult = (m[1]||'S') as 'S'|'D'|'T'\r\n                            const num = parseInt(m[2],10)\r\n                            const ring = mult==='D'?'DOUBLE': mult==='T'?'TRIPLE':'SINGLE'\r\n                            const cur = killerPlayers[killerTurnIdx]\r\n                            setKillerStates(prev => {\r\n                              const copy: Record<string,KillerState> = {}\r\n                              Object.keys(prev).forEach(k => copy[k] = { ...prev[k] })\r\n                              const res = applyKillerDart(cur.id, copy, ring as any, num)\r\n                              if (res.becameKiller) setKillerLastEvent(`${cur.name} became a Killer`)\r\n                              else if (res.victimId) {\r\n                                const v = killerPlayers.find(p=>p.id===res.victimId)\r\n                                setKillerLastEvent(`${cur.name} hit ${v?.name}'s ${killerAssigned[res.victimId]} (${res.livesRemoved} life${(res.livesRemoved||0)>1?'s':''})`)\r\n                              } else setKillerLastEvent('No effect')\r\n                              const win = killerWinner(copy); if (win) setKillerWinnerId(win)\r\n                              return copy\r\n                            })\r\n                            setManualBox('')\r\n                            setKillerDarts(d => {\r\n                              const nd = d + 1\r\n                              if (nd >= 3) { let next = killerTurnIdx; for (let i=1;i<=killerPlayers.length;i++){ const idx=(killerTurnIdx+i)%killerPlayers.length; const pid=killerPlayers[idx].id; const st=killerStates[pid]; if (st && !st.eliminated && st.lives>0) { next=idx; break } } setKillerTurnIdx(next); return 0 } return nd\r\n                            })\r\n                          } }} />\r\n                          <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{\r\n                            // Skip to next alive player\r\n                            let next = killerTurnIdx\r\n                            for (let i=1;i<=killerPlayers.length;i++) {\r\n                              const idx = (killerTurnIdx + i) % killerPlayers.length\r\n                              const pid = killerPlayers[idx].id\r\n                              const st = killerStates[pid]\r\n                              if (st && !st.eliminated && st.lives > 0) { next = idx; break }\r\n                            }\r\n                            setKillerTurnIdx(next); setKillerDarts(0)\r\n                          }}>Next Player</button>\r\n                          <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>{\r\n                            // Reset Killer\r\n                            setKillerStates({}); setKillerAssigned({}); setKillerSetupDone(false); setKillerTurnIdx(0); setKillerDarts(0); setKillerWinnerId(null); setKillerLastEvent('')\r\n                          }}>Reset</button>\r\n                        </div>\r\n                        {killerWinnerId && (\r\n                          <div className=\"mt-2 text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 inline-block\">Winner: {killerPlayers.find(p=>p.id===killerWinnerId)?.name} <button className=\"ml-2 underline\" onClick={()=>{\r\n                            setKillerStates({}); setKillerAssigned({}); setKillerSetupDone(false); setKillerTurnIdx(0); setKillerDarts(0); setKillerWinnerId(null); setKillerLastEvent('')\r\n                          }}>Play Again</button></div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : isPlayerTurn ? (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"font-semibold\">Your Turn</div>\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      className=\"input w-24\"\r\n                      type=\"number\"\r\n                      min={0}\r\n                      max={60}\r\n                      value={playerDartPoints}\r\n                      onChange={e => setPlayerDartPoints(Number(e.target.value||0))}\r\n                      onKeyDown={e => { if (e.key==='Enter') (e.shiftKey? replaceLast() : addDartNumeric()) }}\r\n                    />\r\n                    <button className=\"btn px-3 py-1 text-sm\" onClick={addDartNumeric}>Add Dart</button>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      className=\"input w-44\"\r\n                      placeholder=\"Manual (T20, D16, 5, 25, 50)\"\r\n                      value={manualBox}\r\n                      onChange={e=>setManualBox(e.target.value)}\r\n                      onKeyDown={e => { if (e.key==='Enter') (e.shiftKey? replaceLastManual() : addManual()) }}\r\n                    />\r\n                    <button className=\"btn btn--ghost px-3 py-1 text-sm\" onClick={replaceLastManual} disabled={playerVisitDarts===0}>Replace Last</button>\r\n                    <button className=\"btn px-3 py-1 text-sm\" onClick={addManual}>Add</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-xs text-slate-300\">Tip: Enter to Add  Shift+Enter to Replace Last</div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"font-semibold\">{ai === 'None' ? 'Opponent' : `${ai} AI`} Turn</div>\r\n                {ai !== 'None' ? (\r\n                  <div className=\"text-sm text-slate-300\">Throwing in {Math.ceil(aiCountdownMs/1000)}s...</div>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button className=\"btn\" onClick={() => setIsPlayerTurn(true)}>Switch Back to You</button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            <div className=\"h-1\" />\r\n              </div>\r\n            </div>\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n      {showRules && <X01RulesPopup onClose={() => setShowRules(false)} />}\r\n      {/* Frosted overlay when selecting premium mode without access */}\r\n      {lockedPremium && (\r\n        <div className=\"absolute inset-0 z-40 flex items-center justify-center\">\r\n          <div className=\"absolute inset-0 backdrop-blur-sm bg-slate-900/40\" />\r\n          <div className=\"relative z-10 p-4 rounded-xl bg-black/60 border border-slate-700 text-center\">\r\n            <div className=\"text-3xl mb-2\"></div>\r\n            <div className=\"font-semibold\">Premium mode locked</div>\r\n            <div className=\"text-sm text-slate-200/80\">Upgrade to PREMIUM to play modes like Killer, Cricket, Shanghai, and more.</div>\r\n            <a href=\"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn mt-3 bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold\">\r\n              Upgrade to PREMIUM  {formatPriceInCurrency(getUserCurrency(), 5)}\r\n            </a>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showWinPopup && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <ResizableModal storageKey=\"ndn:modal:offline-win\" className=\"w-full relative\" defaultWidth={420} defaultHeight={360} minWidth={360} minHeight={300} maxWidth={800} maxHeight={700}>\r\n            <h3 className=\"text-lg font-bold mb-2\">Leg Won!</h3>\r\n            <label className=\"block mb-1\">Darts to hit double:</label>\r\n            <div className=\"flex gap-2 mb-2\">\r\n              {[1,2,3].map(n => (\r\n                <button key={n} className={`btn ${doubleDarts===n?'bg-brand-600':''}`} onClick={()=>setDoubleDarts(n)}>{n}</button>\r\n              ))}\r\n            </div>\r\n            <label className=\"block mb-1\">Darts for checkout:</label>\r\n            <div className=\"flex gap-2 mb-2\">\r\n              {[1,2,3].map(n => (\r\n                <button key={n} className={`btn ${checkoutDarts===n?'bg-brand-600':''}`} onClick={()=>setCheckoutDarts(n)}>{n}</button>\r\n              ))}\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-2 mt-2\">\r\n              <button className=\"btn w-full\" onClick={handleWinPopupSubmit}>Submit</button>\r\n              <button className=\"btn bg-emerald-600 hover:bg-emerald-700 w-full\" onClick={() => { setShowWinPopup(false); startMatch(); }}>Rematch</button>\r\n              <button className=\"btn bg-slate-700 hover:bg-slate-800 w-full\" onClick={() => { setShowWinPopup(false); setShowMatchModal(false); setInMatch(false); }}>Back to Menu</button>\r\n            </div>\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n      {showMatchSummary && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]\">\r\n          <ResizableModal storageKey=\"ndn:modal:offline-summary\" className=\"w-full relative\" defaultWidth={820} defaultHeight={520} minWidth={600} minHeight={400} maxWidth={1400} maxHeight={1000}>\r\n            <h3 className=\"text-xl font-extrabold mb-2\">Match Summary</h3>\r\n            <div className=\"text-xs opacity-80 mb-3\">{selectedMode}  {x01Score} start  First to {firstTo}</div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n              <div className=\"p-3 rounded-2xl glass border border-white/10\">\r\n                <div className=\"text-sm font-semibold mb-1\">You</div>\r\n                <div className=\"text-3xl font-extrabold\">{playerLegs}</div>\r\n                <div className=\"text-xs opacity-80\">Legs Won</div>\r\n                <div className=\"mt-3 grid grid-cols-2 gap-2 text-sm\">\r\n                  <div><span className=\"opacity-70\">3-Dart Avg</span><div className=\"font-semibold\">{totalPlayerDarts>0 ? ((totalPlayerPoints/totalPlayerDarts)*3).toFixed(1) : '0.0'}</div></div>\r\n                  <div><span className=\"opacity-70\">1-Dart Avg</span><div className=\"font-semibold\">{totalPlayerDarts>0 ? (totalPlayerPoints/totalPlayerDarts).toFixed(2) : '0.00'}</div></div>\r\n                  <div><span className=\"opacity-70\">180s</span><div className=\"font-semibold\">{player180s}</div></div>\r\n                  <div><span className=\"opacity-70\">140+</span><div className=\"font-semibold\">{player140s}</div></div>\r\n                  <div><span className=\"opacity-70\">100+</span><div className=\"font-semibold\">{player100s}</div></div>\r\n                  <div><span className=\"opacity-70\">High Checkout</span><div className=\"font-semibold\">{playerHighestCheckout || ''}</div></div>\r\n                  <div><span className=\"opacity-70\">Dbl Att</span><div className=\"font-semibold\">{playerDoublesAtt}</div></div>\r\n                  <div><span className=\"opacity-70\">Dbl Hit</span><div className=\"font-semibold\">{playerDoublesHit}</div></div>\r\n                </div>\r\n              </div>\r\n              <div className=\"hidden md:flex items-center justify-center\">\r\n                <div className=\"text-4xl font-black\">{playerLegs}  {aiLegs}</div>\r\n              </div>\r\n              <div className=\"p-3 rounded-2xl glass border border-white/10\">\r\n                <div className=\"text-sm font-semibold mb-1\">{ai==='None' ? 'Opponent' : `${ai} AI`}</div>\r\n                <div className=\"text-3xl font-extrabold\">{aiLegs}</div>\r\n                <div className=\"text-xs opacity-80\">Legs Won</div>\r\n                <div className=\"mt-3 grid grid-cols-2 gap-2 text-sm\">\r\n                  <div><span className=\"opacity-70\">3-Dart Avg</span><div className=\"font-semibold\">{totalAiDarts>0 ? ((totalAiPoints/totalAiDarts)*3).toFixed(1) : '0.0'}</div></div>\r\n                  <div><span className=\"opacity-70\">1-Dart Avg</span><div className=\"font-semibold\">{totalAiDarts>0 ? (totalAiPoints/totalAiDarts).toFixed(2) : '0.00'}</div></div>\r\n                  <div><span className=\"opacity-70\">180s</span><div className=\"font-semibold\">{ai180s}</div></div>\r\n                  <div><span className=\"opacity-70\">140+</span><div className=\"font-semibold\">{ai140s}</div></div>\r\n                  <div><span className=\"opacity-70\">100+</span><div className=\"font-semibold\">{ai100s}</div></div>\r\n                  <div><span className=\"opacity-70\">High Checkout</span><div className=\"font-semibold\">{aiHighestCheckout || ''}</div></div>\r\n                  <div><span className=\"opacity-70\">Dbl Att</span><div className=\"font-semibold\">{aiDoublesAtt}</div></div>\r\n                  <div><span className=\"opacity-70\">Dbl Hit</span><div className=\"font-semibold\">{aiDoublesHit}</div></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"text-sm font-semibold mb-2\">Legs Timeline</div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {legStats.map((leg, i) => (\r\n                  <div key={i} className={`px-3 py-1 rounded-full border text-xs ${leg.winner==='player' ? 'bg-emerald-500/15 border-emerald-400/30' : 'bg-fuchsia-500/15 border-fuchsia-400/30'}`}>\r\n                    Leg {i+1}: {leg.winner==='player' ? 'You' : (ai==='None'?'Opp':'AI')}  Dbl {leg.doubleDarts}  CO {leg.checkoutDarts}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-2 mt-4\">\r\n              <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={() => setShowMatchSummary(false)}>Close</button>\r\n              <button className=\"btn bg-emerald-600 hover:bg-emerald-700\" onClick={() => { setShowMatchSummary(false); startMatch(); }}>Rematch</button>\r\n            </div>\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n      {legStats.length > 0 && (\r\n        <div className=\"mt-4\">\r\n          <h4 className=\"font-semibold mb-2\">Leg Stats</h4>\r\n          <ul>\r\n            {legStats.map((leg, i) => (\r\n              <li key={i}>Leg {i+1}: Double darts: {leg.doubleDarts}, Checkout darts: {leg.checkoutDarts}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { create } from 'zustand'\r\n\r\ntype Toast = { id: number; message: string; type?: 'info'|'success'|'error'; timeout?: number }\r\n\r\ntype ToastState = {\r\n  toasts: Toast[]\r\n  push: (message: string, opts?: { type?: 'info'|'success'|'error'; timeout?: number }) => void\r\n  remove: (id: number) => void\r\n  clear: () => void\r\n}\r\n\r\nlet nextId = 1\r\n\r\nexport const useToastStore = create<ToastState>((set) => ({\r\n  toasts: [],\r\n  push: (message, opts) => set((s) => {\r\n    const id = nextId++\r\n    const t: Toast = { id, message, type: opts?.type || 'info', timeout: opts?.timeout ?? 3000 }\r\n    // auto-remove after timeout\r\n    if (t.timeout && t.timeout > 0) {\r\n      setTimeout(() => {\r\n        set((cur) => ({ toasts: cur.toasts.filter(x => x.id !== id) }))\r\n      }, t.timeout)\r\n    }\r\n    return { toasts: [...s.toasts, t] }\r\n  }),\r\n  remove: (id) => set((s) => ({ toasts: s.toasts.filter(t => t.id !== id) })),\r\n  clear: () => set({ toasts: [] }),\r\n}))\r\n\r\nexport function useToast() {\r\n  const push = useToastStore(s => s.push)\r\n  return push\r\n}\r\n","import { create } from 'zustand'\r\n\r\nexport type DM = { id: string; from: string; message: string; ts: number }\r\n\r\ntype MessagesState = {\r\n  inbox: DM[]\r\n  unread: number\r\n  inGame: boolean\r\n  setInGame: (v: boolean) => void\r\n  add: (m: DM) => void\r\n  load: (arr: DM[]) => void\r\n  markAllRead: () => void\r\n  remove: (id: string) => void\r\n}\r\n\r\nconst LS_INBOX = 'ndn:messages:inbox'\r\nconst LS_UNREAD = 'ndn:messages:unread'\r\n\r\nfunction loadInitial() {\r\n  try {\r\n    const raw = localStorage.getItem(LS_INBOX)\r\n    const arr = raw ? JSON.parse(raw) as DM[] : []\r\n    const unread = Number(localStorage.getItem(LS_UNREAD) || '0') || 0\r\n    // sanitize\r\n    const inbox = Array.isArray(arr) ? arr.filter(m => m && typeof m.id==='string').slice(0,200) : []\r\n    return { inbox, unread }\r\n  } catch { return { inbox: [], unread: 0 } }\r\n}\r\n\r\nfunction save(inbox: DM[], unread: number) {\r\n  try { localStorage.setItem(LS_INBOX, JSON.stringify(inbox)) } catch {}\r\n  try { localStorage.setItem(LS_UNREAD, String(unread)) } catch {}\r\n}\r\n\r\nconst initial = loadInitial()\r\n\r\nexport const useMessages = create<MessagesState>((set, get) => ({\r\n  inbox: initial.inbox,\r\n  unread: initial.unread,\r\n  inGame: false,\r\n  setInGame: (v) => set({ inGame: v }),\r\n  add: (m) => set((s) => {\r\n    const exists = s.inbox.some(x => x.id === m.id && x.ts === m.ts)\r\n    const list = exists ? s.inbox : [m, ...s.inbox].slice(0, 200)\r\n    const unread = s.unread + (exists ? 0 : 1)\r\n    save(list, unread)\r\n    return { inbox: list, unread }\r\n  }),\r\n  load: (arr) => set((s) => {\r\n    const sorted = [...arr].sort((a,b)=>b.ts-a.ts).slice(0,200)\r\n    save(sorted, s.unread)\r\n    return { inbox: sorted, unread: s.unread }\r\n  }),\r\n  markAllRead: () => { const s = get(); save(s.inbox, 0); set({ unread: 0 }) },\r\n  remove: (id) => set((s) => {\r\n    const list = s.inbox.filter(m => m.id !== id)\r\n    const unread = s.unread // keep unread count stable on deletion from history\r\n    save(list, unread)\r\n    return { inbox: list, unread }\r\n  }),\r\n}))\r\n","// Simple profanity filter: replaces detected profane words with asterisks of the same length.\r\n// Note: This is a lightweight heuristic and not exhaustive.\r\n\r\nconst patterns: RegExp[] = [\r\n  /\\b(f+[\\W_]*u+[\\W_]*c+[\\W_]*k+)\\b/gi,\r\n  /\\b(s+[\\W_]*h+[\\W_]*i+[\\W_]*t+)\\b/gi,\r\n  /\\b(b+[\\W_]*i+[\\W_]*t+[\\W_]*c+[\\W_]*h+)\\b/gi,\r\n  /\\b(a+[\\W_]*s+[\\W_]*s+[\\W_]*h+[\\W_]*o+[\\W_]*l+[\\W_]*e+)\\b/gi,\r\n  /\\b(d+[\\W_]*a+[\\W_]*m+[\\W_]*n+)\\b/gi,\r\n  /\\b(c+[\\W_]*r+[\\W_]*a+[\\W_]*p+)\\b/gi,\r\n  /\\b(p+[\\W_]*i+[\\W_]*s+[\\W_]*s+)\\b/gi,\r\n]\r\n\r\nfunction starify(match: string) {\r\n  // Preserve whitespace/punct positions; just replace letters/numbers with *\r\n  return match.replace(/[\\p{L}\\p{N}]/gu, '*')\r\n}\r\n\r\nexport function censorProfanity(input: string): string {\r\n  if (!input) return input\r\n  let out = input\r\n  for (const re of patterns) {\r\n    out = out.replace(re, (m) => starify(m))\r\n  }\r\n  return out\r\n}\r\n\r\nexport function containsProfanity(input: string): boolean {\r\n  if (!input) return false\r\n  return patterns.some((re) => re.test(input))\r\n}\r\n","import React from 'react'\r\n\r\ntype Tab = { key: string; label: string }\r\n\r\nexport default function TabPills({\r\n  tabs,\r\n  active,\r\n  onChange,\r\n  className,\r\n}: {\r\n  tabs: Tab[];\r\n  active: string;\r\n  onChange: (key: string) => void;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <div className={`relative ${className || ''}`}>\r\n      {/* subtle backdrop and border for contrast on mobile */}\r\n      <div className=\"absolute inset-0 rounded-xl bg-white/5 backdrop-blur-md border border-white/10 pointer-events-none\" />\r\n      <div className=\"relative overflow-x-auto no-scrollbar py-1 px-1\">\r\n        <div className=\"flex items-center gap-2 min-w-max\">\r\n          {tabs.map((t) => {\r\n            const isActive = t.key === active\r\n            return (\r\n              <button\r\n                key={t.key}\r\n                type=\"button\"\r\n                onClick={() => onChange(t.key)}\r\n                className={`transition-all select-none whitespace-nowrap rounded-full px-4 py-2 text-sm font-semibold shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60 active:scale-[0.98]\r\n                  ${isActive\r\n                    ? 'bg-gradient-to-r from-indigo-500 to-fuchsia-500 text-white shadow-indigo-500/30'\r\n                    : 'bg-white/10 text-slate-100 hover:bg-white/15'}\r\n                `}\r\n                aria-pressed={isActive}\r\n              >\r\n                {t.label}\r\n              </button>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n      <style>{`\r\n        /* Hide scrollbars on WebKit/Firefox for a cleaner pill row */\r\n        .no-scrollbar::-webkit-scrollbar { display: none; }\r\n        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\r\n      `}</style>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useMemo, useState } from 'react'\r\nimport { useToast } from '../store/toast'\r\nimport { useMessages } from '../store/messages'\r\nimport { censorProfanity } from '../utils/profanity'\r\nimport TabPills from './ui/TabPills'\r\n\r\ntype Friend = { email: string, username?: string, status?: 'online'|'offline'|'ingame', lastSeen?: number, roomId?: string|null, match?: { game: string, mode: string, value: number, startingScore?: number } | null }\r\n\r\nfunction timeAgo(ts?: number) {\r\n  if (!ts) return ''\r\n  const s = Math.floor((Date.now() - ts) / 1000)\r\n  if (s < 60) return `${s}s ago`\r\n  const m = Math.floor(s/60)\r\n  if (m < 60) return `${m}m ago`\r\n  const h = Math.floor(m/60)\r\n  if (h < 24) return `${h}h ago`\r\n  const d = Math.floor(h/24)\r\n  return `${d}d ago`\r\n}\r\n\r\nexport default function Friends({ user }: { user?: any }) {\r\n  const toast = useToast()\r\n  const email = String(user?.email || '').toLowerCase()\r\n  const [friends, setFriends] = useState<Friend[]>([])\r\n  const [suggested, setSuggested] = useState<Friend[]>([])\r\n  const [results, setResults] = useState<Friend[]>([])\r\n  const [q, setQ] = useState('')\r\n  const [filter, setFilter] = useState<'all'|'online'|'offline'|'ingame'|'requests'>('all')\r\n  const [loading, setLoading] = useState(false)\r\n  const msgs = useMessages()\r\n  const [requests, setRequests] = useState<Array<{ email: string; username?: string }>>([])\r\n\r\n  async function refresh() {\r\n    if (!email) return\r\n    try {\r\n      const [fl, sg, rq] = await Promise.all([\r\n        fetch(`/api/friends/list?email=${encodeURIComponent(email)}`).then(r=>r.json()),\r\n        fetch(`/api/friends/suggested?email=${encodeURIComponent(email)}`).then(r=>r.json()),\r\n        fetch(`/api/friends/requests?email=${encodeURIComponent(email)}`).then(r=>r.json()),\r\n      ])\r\n      setFriends(fl.friends || [])\r\n      setSuggested(sg.suggestions || [])\r\n      setRequests(rq.requests || [])\r\n    } catch {}\r\n  }\r\n\r\n  useEffect(() => { refresh() }, [email])\r\n\r\n  async function search(term: string) {\r\n    setQ(term)\r\n    if (!term) { setResults([]); return }\r\n    try {\r\n      const res = await fetch(`/api/friends/search?q=${encodeURIComponent(term)}`)\r\n      const data = await res.json()\r\n      setResults(data.results || [])\r\n    } catch {}\r\n  }\r\n\r\n  async function addFriend(target: string) {\r\n    if (!email || !target) return\r\n    setLoading(true)\r\n    try {\r\n      await fetch('/api/friends/add', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, friend: target }) })\r\n      await refresh()\r\n      setQ(''); setResults([])\r\n      toast('Friend added', { type: 'success' })\r\n    } finally { setLoading(false) }\r\n  }\r\n\r\n  async function removeFriend(target: string) {\r\n    if (!email || !target) return\r\n    setLoading(true)\r\n    try {\r\n      await fetch('/api/friends/remove', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, friend: target }) })\r\n      await refresh()\r\n      toast('Friend removed', { type: 'info' })\r\n    } finally { setLoading(false) }\r\n  }\r\n\r\n  const filtered = useMemo(() => {\r\n    if (filter === 'all') return friends\r\n    return friends.filter(f => (f.status || 'offline') === filter)\r\n  }, [friends, filter])\r\n\r\n  async function spectate(roomId?: string|null) {\r\n    if (!roomId) { toast('Room unavailable', { type: 'error' }); return }\r\n    try {\r\n      const ev = new CustomEvent('ndn:spectate-request', { detail: { roomId } })\r\n      window.dispatchEvent(ev)\r\n      toast('Opening spectator view', { type: 'info' })\r\n    } catch {}\r\n  }\r\n\r\n  // Friend Requests pill: use real requests data\r\n  const requestsCount = requests.length;\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-2xl font-bold text-brand-700 mb-2\">Friends</h2>\r\n      <p className=\"mb-2 text-brand-600\">Manage your friends. See whos online, in-game, or offline; find new teammates; and invite people to play.</p>\r\n      <div className=\"text-xs opacity-70 mb-3\">Online: {friends.filter(f=>f.status==='online').length}  In-game: {friends.filter(f=>f.status==='ingame').length}  Offline: {friends.filter(f=>!f.status || f.status==='offline').length}</div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4\">\r\n        <div className=\"md:col-span-2 p-3 rounded-2xl bg-black/30 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"font-semibold text-white/90\">Your Friends</div>\r\n          </div>\r\n          <TabPills\r\n            tabs={[\r\n              { key: 'all', label: 'All' },\r\n              { key: 'online', label: 'Online' },\r\n              { key: 'ingame', label: 'In-Game' },\r\n              { key: 'offline', label: 'Offline' },\r\n              { key: 'requests', label: `Requests ${requestsCount > 0 ? '(' + requestsCount + ')' : ''}` },\r\n            ]}\r\n            active={filter}\r\n            onChange={(k)=>setFilter(k as any)}\r\n            className=\"mb-3\"\r\n          />\r\n          {filter === 'requests' ? (\r\n            <ul className=\"space-y-2\">\r\n              {requestsCount > 0 ? requests.map(r => (\r\n                <li key={r.email} className=\"p-2 rounded bg-black/20 flex items-center justify-between\">\r\n                  <span className=\"font-semibold\">{r.username || r.email}</span>\r\n                  <button className=\"btn bg-emerald-600 hover:bg-emerald-700\" onClick={async()=>{\r\n                    setLoading(true)\r\n                    try {\r\n                      await fetch('/api/friends/accept', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email, requester: r.email }) })\r\n                      await refresh()\r\n                      toast('Friend request accepted', { type: 'success' })\r\n                    } finally { setLoading(false) }\r\n                  }}>Accept</button>\r\n                  <button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={async()=>{\r\n                    setLoading(true)\r\n                    try {\r\n                      await fetch('/api/friends/decline', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email, requester: r.email }) })\r\n                      await refresh()\r\n                      toast('Friend request declined', { type: 'info' })\r\n                    } finally { setLoading(false) }\r\n                  }}>Decline</button>\r\n                </li>\r\n              )) : (\r\n                <li className=\"text-sm opacity-70\">No friend requests yet.</li>\r\n              )}\r\n            </ul>\r\n          ) : (\r\n            <ul className=\"space-y-2\">\r\n              {filtered.map(f => (\r\n                <li key={f.email} className=\"p-2 rounded bg-black/20 flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={`inline-block w-2 h-2 rounded-full ${f.status==='online'?'bg-emerald-400':f.status==='ingame'?'bg-amber-400':'bg-slate-400'}`}></span>\r\n                    <span className=\"font-semibold\">{f.username || f.email}</span>\r\n                    <span className=\"text-xs opacity-70\">{f.status || 'offline'}{(f.status!=='online' && f.lastSeen) ? `  ${timeAgo(f.lastSeen)}` : ''}</span>\r\n                    {f.status==='ingame' && f.match && (\r\n                      <span className=\"text-[10px] opacity-70 px-2 py-0.5 rounded bg-indigo-500/20 border border-indigo-600/30\">{f.match.game} {f.match.mode==='firstto'?'FT':'BO'} {f.match.value}{f.match.game==='X01' && f.match.startingScore ? `  ${f.match.startingScore}`:''}</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {f.status==='ingame' && f.roomId && (\r\n                      <button className=\"btn\" onClick={()=>spectate(f.roomId!)}>Spectate</button>\r\n                    )}\r\n                    <button className=\"btn\" disabled={loading || (f.status!=='online' && f.status!=='ingame')} onClick={async()=>{\r\n                      setLoading(true)\r\n                      try {\r\n                        const res = await fetch('/api/friends/invite', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ fromEmail: email, toEmail: f.email, game: 'X01', mode: 'bestof', value: 3, startingScore: 501 }) })\r\n                        const data = await res.json().catch(()=>({}))\r\n                        if (data?.delivered) toast('Invite sent', { type: 'success' })\r\n                        else toast('Friend is offline; invite queued', { type: 'info' })\r\n                      } finally { setLoading(false) }\r\n                    }}>Invite</button>\r\n                    <button className=\"btn\" disabled={loading} onClick={async()=>{\r\n                      const m = prompt('Message:')\r\n                      if (!m) return\r\n                      setLoading(true)\r\n                      try {\r\n                        await fetch('/api/friends/message', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ fromEmail: email, toEmail: f.email, message: m }) })\r\n                        toast('Message sent', { type: 'success' })\r\n                      } finally { setLoading(false) }\r\n                    }}>Message</button>\r\n                    <button className=\"btn bg-rose-600 hover:bg-rose-700\" disabled={loading} onClick={()=>removeFriend(f.email)}>Remove</button>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n              {filtered.length === 0 && (\r\n                <li className=\"text-sm opacity-70\">No friends {filter !== 'all' ? `in ${filter}` : ''} yet.</li>\r\n              )}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"p-3 rounded-2xl bg-black/20 border border-white/10\">\r\n          <div className=\"font-semibold mb-2 text-white/90\">Find Friends</div>\r\n          <input className=\"input w-full mb-2\" placeholder=\"Search by name or email\" value={q} onChange={e=>search(e.target.value)} />\r\n          <ul className=\"space-y-1 mb-3 max-h-48 overflow-auto\">\r\n            {results.map(r => (\r\n              <li key={r.email} className=\"flex items-center justify-between p-2 rounded bg-black/10\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className={`inline-block w-2 h-2 rounded-full ${r.status==='online'?'bg-emerald-400':r.status==='ingame'?'bg-amber-400':'bg-slate-400'}`}></span>\r\n                  <span>{r.username || r.email}</span>\r\n                </div>\r\n                <button className=\"btn\" disabled={loading} onClick={()=>addFriend(r.email)}>Add</button>\r\n              </li>\r\n            ))}\r\n            {results.length === 0 && <li className=\"text-xs opacity-60\">Type to search</li>}\r\n          </ul>\r\n          <div className=\"font-semibold mb-1 text-white/90\">Suggested</div>\r\n          <ul className=\"space-y-1 max-h-48 overflow-auto\">\r\n            {suggested.map(s => (\r\n              <li key={s.email} className=\"flex items-center justify-between p-2 rounded bg-black/10\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className={`inline-block w-2 h-2 rounded-full ${s.status==='online'?'bg-emerald-400':s.status==='ingame'?'bg-amber-400':'bg-slate-400'}`}></span>\r\n                  <span>{s.username || s.email}</span>\r\n                </div>\r\n                <button className=\"btn\" disabled={loading} onClick={()=>addFriend(s.email)}>Add</button>\r\n              </li>\r\n            ))}\r\n            {suggested.length === 0 && <li className=\"text-xs opacity-60\">No suggestions right now.</li>}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Direct Messages */}\r\n      <div className=\"p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"font-semibold\">Messages</div>\r\n          <button className=\"btn px-3 py-1 text-sm\" onClick={()=>msgs.markAllRead()}>Mark all read</button>\r\n        </div>\r\n        {msgs.inbox.length === 0 ? (\r\n          <div className=\"text-sm opacity-70\">No messages yet.</div>\r\n        ) : (\r\n          <ul className=\"space-y-2 max-h-72 overflow-auto\">\r\n            {msgs.inbox.map(m => (\r\n              <li key={m.id} className=\"p-2 rounded bg-black/20 text-sm\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div><span className=\"font-semibold\">{m.from}</span> <span className=\"opacity-70 text-xs\"> {new Date(m.ts).toLocaleString()}</span></div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button className=\"btn px-2 py-1 text-xs\" onClick={async()=>{\r\n                      const reply = prompt(`Reply to ${m.from}:`)\r\n                      if (!reply) return\r\n                      try {\r\n                        await fetch('/api/friends/message', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ fromEmail: email, toEmail: m.from, message: reply }) })\r\n                        toast('Message sent', { type: 'success' })\r\n                      } catch {}\r\n                    }}>Reply</button>\r\n                    <button className=\"btn bg-slate-700 hover:bg-slate-800 px-2 py-1 text-xs\" title=\"Delete this message\" onClick={()=>msgs.remove(m.id)}>Delete</button>\r\n                    <button className=\"btn bg-rose-600 hover:bg-rose-700 px-2 py-1 text-xs\" onClick={async()=>{\r\n                      const reason = prompt('Report reason (what happened)?')\r\n                      if (!reason) return\r\n                      try {\r\n                        await fetch('/api/friends/report', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ reporterEmail: email, offenderEmail: m.from, reason, messageId: m.id }) })\r\n                        toast('Report sent to admin', { type: 'info' })\r\n                      } catch {}\r\n                    }}>Report</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-1 whitespace-pre-wrap break-words\">{censorProfanity(m.message)}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useToastStore } from '../store/toast'\r\n\r\nexport default function Toaster() {\r\n  const toasts = useToastStore(s => s.toasts)\r\n  const remove = useToastStore(s => s.remove)\r\n  if (!toasts.length) return null\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 z-50 space-y-2 sm:right-4 sm:left-auto left-1/2 -translate-x-1/2 sm:translate-x-0 w-[calc(100%-1.5rem)] sm:w-auto max-w-sm\">\r\n      {toasts.map(t => (\r\n        <div key={t.id} className={`p-3 rounded-lg shadow-lg border text-sm ${\r\n          t.type === 'error' ? 'bg-rose-700/80 border-rose-500/60 text-white' :\r\n          t.type === 'success' ? 'bg-emerald-700/80 border-emerald-500/60 text-white' :\r\n          'bg-black/70 border-slate-700 text-slate-100'\r\n        }`}>\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"flex-1\">{t.message}</span>\r\n            <button className=\"btn btn--ghost px-2 py-1 text-xs\" onClick={()=>remove(t.id)}>Dismiss</button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\ntype Datum = { label: string | number; value: number }\r\n\r\nexport default function BarChart({\r\n  data,\r\n  height = 220,\r\n  barWidth = 28,\r\n  gap = 6,\r\n  showValues = false,\r\n}: {\r\n  data: Datum[]\r\n  height?: number\r\n  barWidth?: number\r\n  gap?: number\r\n  showValues?: boolean\r\n}) {\r\n  const max = Math.max(1, ...data.map(d => d.value))\r\n  const totalWidth = data.length * (barWidth + gap)\r\n  return (\r\n    <div className=\"w-full overflow-x-auto\">\r\n      <div className=\"relative\" style={{ height, width: Math.max(600, totalWidth) }}>\r\n        <div className=\"absolute inset-0 flex items-end\">\r\n          {data.map((d, i) => {\r\n            const h = Math.round((d.value / max) * (height - 40)) // leave room for labels\r\n            return (\r\n              <div key={i} className=\"flex flex-col items-center justify-end\" style={{ width: barWidth, marginRight: gap }}>\r\n                <div\r\n                  className=\"w-full rounded-t-md bg-gradient-to-b from-indigo-400 to-fuchsia-500 shadow-sm\"\r\n                  style={{ height: h }}\r\n                  title={`${d.label}: ${d.value}`}\r\n                />\r\n                {showValues && <div className=\"text-[10px] mt-1 opacity-80\">{d.value}</div>}\r\n                <div className=\"text-[10px] mt-1 opacity-70 select-none\">{d.label}</div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const freeGames = ['X01', 'Double Practice'] as const\r\nexport const premiumGames = [\r\n\t'Around the Clock',\r\n\t'Cricket',\r\n\t'Halve It',\r\n\t'Shanghai',\r\n\t'High-Low',\r\n\t'Killer',\r\n\t\"Bob's 27\",\r\n\t'Count-Up',\r\n\t'High Score',\r\n\t'Low Score',\r\n\t'Checkout 170',\r\n\t'Checkout 121',\r\n\t'Treble Practice',\r\n\t'Baseball',\r\n\t'Golf',\r\n\t'Tic Tac Toe',\r\n\t'American Cricket',\r\n] as const\r\nexport type GameKey = typeof freeGames[number] | typeof premiumGames[number]\r\nexport const allGames: GameKey[] = [...freeGames, ...premiumGames]\r\n","import { useEffect, useMemo, useState } from 'react'\r\nimport BarChart from './BarChart'\r\nimport { getGameModeStats } from '../store/profileStats'\r\nimport { allGames } from '../utils/games'\r\n\r\nconst OWNER_EMAIL = 'daviesfamily108@gmail.com'\r\n\r\nexport default function AdminDashboard({ user }: { user: any }) {\r\n\tconst [admins, setAdmins] = useState<string[]>([])\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [status, setStatus] = useState<any>(null)\r\n\tconst [announcement, setAnnouncement] = useState('')\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [tournaments, setTournaments] = useState<any[]>([])\r\n\t\tconst [withdrawals, setWithdrawals] = useState<any[]>([])\r\n\t\tconst [createForm, setCreateForm] = useState<any>({\r\n\t\ttitle: 'Official Tournament',\r\n\t\tgame: 'X01',\r\n\t\tmode: 'bestof',\r\n\t\tvalue: 3,\r\n\t\tdescription: '',\r\n\t\tstartAt: new Date(Date.now() + 2*60*60*1000).toISOString().slice(0,16),\r\n\t\tcheckinMinutes: 30,\r\n\t\tcapacity: 16,\r\n\t\tprizeType: 'premium',\r\n\t\tprizeAmount: 0,\r\n\t\t\tcurrency: 'GBP',\r\n\t\tprizeNotes: '',\r\n\t})\r\n\tconst [emailCopy, setEmailCopy] = useState<any>({ reset:{}, reminder:{}, confirmEmail:{}, changed:{} })\r\n\tconst [preview, setPreview] = useState<{ open: boolean, kind?: string, html?: string }>({ open: false })\r\n\tconst isOwner = user?.email?.toLowerCase() === OWNER_EMAIL\r\n  const [winners, setWinners] = useState<any[]>([])\r\n\t\tconst [reports, setReports] = useState<any[]>([])\r\n\r\n\t// --- Game usage (played/won per mode) ---\r\n\tconst [gmVersion, setGmVersion] = useState(0)\r\n\tuseEffect(() => {\r\n\t\tconst on = () => setGmVersion(v => v + 1)\r\n\t\twindow.addEventListener('ndn:stats-updated', on as any)\r\n\t\treturn () => window.removeEventListener('ndn:stats-updated', on as any)\r\n\t}, [])\r\n\tconst gmStats = useMemo(() => getGameModeStats(allGames as unknown as string[]), [gmVersion])\r\n\tconst gmBars = useMemo(() => (\r\n\t\t(allGames as unknown as string[]).map(mode => ({ label: mode, value: gmStats[mode]?.played || 0, won: gmStats[mode]?.won || 0 }))\r\n\t), [gmStats])\r\n\r\n\tasync function refresh() {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch('/api/admins')\r\n\t\t\tconst data = await res.json()\r\n\t\t\tsetAdmins(Array.isArray(data.admins) ? data.admins : [])\r\n\t\t\tif (isOwner) {\r\n\t\t\t\tconst sres = await fetch(`/api/admin/status?requesterEmail=${encodeURIComponent(user?.email || '')}`)\r\n\t\t\t\tif (sres.ok) setStatus(await sres.json())\r\n\t\t\t\tconst tres = await fetch(`/api/admin/tournaments?requesterEmail=${encodeURIComponent(user?.email || '')}`)\r\n        if (tres.ok) {\r\n          const td = await tres.json()\r\n          setTournaments(Array.isArray(td.tournaments) ? td.tournaments : [])\r\n        }\r\n\t\t\t\tconst rres = await fetch(`/api/admin/reports?requesterEmail=${encodeURIComponent(user?.email || '')}`)\r\n\t\t\t\tif (rres.ok) {\r\n\t\t\t\t\tconst rd = await rres.json()\r\n\t\t\t\t\tsetReports(Array.isArray(rd.reports) ? rd.reports : [])\r\n\t\t\t\t}\r\n\t\t\t\tconst pw = await fetch(`/api/admin/premium-winners?requesterEmail=${encodeURIComponent(user?.email||'')}`)\r\n\t\t\t\tif (pw.ok) {\r\n\t\t\t\t\tconst d = await pw.json()\r\n\t\t\t\t\tsetWinners(Array.isArray(d.winners) ? d.winners : [])\r\n\t\t\t\t}\r\n\t\t\t\t\t\tconst wres = await fetch(`/api/admin/wallet/withdrawals?requesterEmail=${encodeURIComponent(user?.email || '')}`)\r\n\t\t\t\t\t\tif (wres.ok) {\r\n\t\t\t\t\t\t\tconst wd = await wres.json()\r\n\t\t\t\t\t\t\tsetWithdrawals(Array.isArray(wd.withdrawals) ? wd.withdrawals : [])\r\n\t\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch {}\r\n\t}\r\n\r\n\tuseEffect(() => { refresh() }, [])\r\n\r\n\tasync function grant() {\r\n\t\tif (!email) return\r\n\t\tawait fetch('/api/admins/grant', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, requesterEmail: user?.email }) })\r\n\t\tsetEmail('')\r\n\t\trefresh()\r\n\t}\r\n\tasync function revoke(target: string) {\r\n\t\tawait fetch('/api/admins/revoke', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: target, requesterEmail: user?.email }) })\r\n\t\trefresh()\r\n\t}\r\n\r\n\tasync function grantPremium(email: string, days: number) {\r\n\t\tif (!email) return\r\n\t\tawait fetch('/api/admin/premium/grant', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email, days, requesterEmail: user?.email }) })\r\n\t\tawait refresh()\r\n\t}\r\n\tasync function revokePremium(email: string) {\r\n\t\tawait fetch('/api/admin/premium/revoke', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email, requesterEmail: user?.email }) })\r\n\t\tawait refresh()\r\n\t}\r\n\r\n\tasync function toggleMaintenance(enabled: boolean) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/maintenance', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ enabled, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function sendAnnouncement() {\r\n\t\tif (!announcement.trim()) return\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/announce', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ message: announcement, requesterEmail: user?.email }) })\r\n\t\t\tsetAnnouncement('')\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function flipPremium(next: boolean) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/subscription', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ fullAccess: next, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function createOfficialTournament() {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tconst start = new Date(createForm.startAt).getTime()\r\n\t\t\tawait fetch('/api/tournaments/create', {\r\n\t\t\t\tmethod: 'POST', headers: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\ttitle: createForm.title,\r\n\t\t\t\t\tgame: createForm.game,\r\n\t\t\t\t\tmode: createForm.mode,\r\n\t\t\t\t\tvalue: Number(createForm.value),\r\n\t\t\t\t\tdescription: createForm.description,\r\n\t\t\t\t\tstartAt: start,\r\n\t\t\t\t\tcheckinMinutes: Number(createForm.checkinMinutes),\r\n\t\t\t\t\tcapacity: Number(createForm.capacity),\r\n\t\t\t\t\tcreatorEmail: user?.email,\r\n\t\t\t\t\tcreatorName: user?.username,\r\n\t\t\t\t\trequesterEmail: user?.email,\r\n\t\t\t\t\tofficial: true,\r\n\t\t\t\t\tprizeType: createForm.prizeType,\r\n\t\t\t\t\tprizeAmount: Number(createForm.prizeAmount||0),\r\n\t\t\t\t\tcurrency: createForm.currency,\r\n\t\t\t\t\tprizeNotes: createForm.prizeNotes,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function setWinner(tid: string, winnerEmail: string) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/tournaments/winner', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ tournamentId: tid, winnerEmail, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function markPaid(tid: string) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/tournaments/mark-paid', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ tournamentId: tid, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function deleteTournament(tid: string) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/tournaments/delete', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ tournamentId: tid, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function reseedWeekly() {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/tournaments/reseed-weekly', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\t\tasync function decideWithdrawal(id: string, approve: boolean) {\r\n\t\t\tsetLoading(true)\r\n\t\t\ttry {\r\n\t\t\t\tawait fetch('/api/admin/wallet/withdrawals/decide', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ id, approve, requesterEmail: user?.email }) })\r\n\t\t\t\tawait refresh()\r\n\t\t\t} finally { setLoading(false) }\r\n\t\t}\r\n\r\n\tasync function deleteMatch(id: string) {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tawait fetch('/api/admin/matches/delete', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ matchId: id, requesterEmail: user?.email }) })\r\n\t\t\tawait refresh()\r\n\t\t} finally { setLoading(false) }\r\n\t}\r\n\r\n\tasync function loadEmailCopy() {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`/api/admin/email-copy?requesterEmail=${encodeURIComponent(user?.email||'')}`)\r\n\t\t\tif (res.ok) {\r\n\t\t\t\tconst d = await res.json()\r\n\t\t\t\tif (d?.ok) setEmailCopy(d.copy || emailCopy)\r\n\t\t\t}\r\n\t\t} catch {}\r\n\t}\r\n\tuseEffect(()=>{ if (isOwner) loadEmailCopy() }, [isOwner])\r\n\r\n\tasync function saveEmailCopy(kind: string, payload: any) {\r\n\t\tawait fetch('/api/admin/email-copy', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ requesterEmail: user?.email, kind, ...payload }) })\r\n\t\tawait loadEmailCopy()\r\n\t}\r\n\r\n\tasync function openInlinePreview(kind: string) {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`/api/email/preview?kind=${encodeURIComponent(kind)}&requesterEmail=${encodeURIComponent(user?.email||'')}`)\r\n\t\t\tconst html = await res.text()\r\n\t\t\tsetPreview({ open: true, kind, html })\r\n\t\t} catch {\r\n\t\t\tsetPreview({ open: true, kind, html: '<!doctype html><html><body style=\"font-family:sans-serif;padding:16px\">Failed to load preview.</body></html>' })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!preview.open) return\r\n\t\tfunction onKey(e: KeyboardEvent) { if (e.key === 'Escape') setPreview({ open: false }) }\r\n\t\tdocument.addEventListener('keydown', onKey)\r\n\t\treturn () => document.removeEventListener('keydown', onKey)\r\n\t}, [preview.open])\r\n\r\n\tfunction EmailEditor({ kind, label }: { kind:string, label:string }) {\r\n\t\tconst key = kind === 'confirm-email' ? 'confirmEmail' : (kind === 'changed' ? 'changed' : kind)\r\n\t\tconst cfg = emailCopy?.[key] || { title:'', intro:'', buttonLabel:'' }\r\n\t\tconst [title, setTitle] = useState(cfg.title||'')\r\n\t\tconst [intro, setIntro] = useState(cfg.intro||'')\r\n\t\tconst [btn, setBtn] = useState(cfg.buttonLabel||'')\r\n\t\tuseEffect(()=>{ setTitle(cfg.title||''); setIntro(cfg.intro||''); setBtn(cfg.buttonLabel||'') }, [cfg.title, cfg.intro, cfg.buttonLabel])\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"p-2 rounded bg-black/20 space-y-2\">\r\n\t\t\t\t<div className=\"font-semibold\">{label}</div>\r\n\t\t\t\t<input className=\"input w-full\" placeholder=\"Title (optional)\" value={title} onChange={e=>setTitle(e.target.value)} />\r\n\t\t\t\t<textarea className=\"input w-full\" rows={2} placeholder=\"Intro line (optional)\" value={intro} onChange={e=>setIntro(e.target.value)} />\r\n\t\t\t\t<input className=\"input w-full\" placeholder=\"Button label (optional)\" value={btn} onChange={e=>setBtn(e.target.value)} />\r\n\t\t\t\t<div className=\"flex gap-2 justify-end\">\r\n\t\t\t\t\t<a className=\"btn\" href={`/api/email/preview?kind=${encodeURIComponent(kind)}&requesterEmail=${encodeURIComponent(user?.email||'')}`} target=\"_blank\" rel=\"noreferrer\">Preview</a>\r\n\t\t\t\t\t<button className=\"btn\" type=\"button\" onClick={()=>openInlinePreview(kind)}>Popup</button>\r\n\t\t\t\t\t<button className=\"btn\" onClick={()=>saveEmailCopy(kind, { title, intro, buttonLabel: btn })}>Save</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tif (!isOwner) return (\r\n\t\t<div className=\"card\">\r\n\t\t\t<h2 className=\"text-2xl font-bold mb-2\">Admin</h2>\r\n\t\t\t<div className=\"text-sm opacity-80\">You dont have permission to manage admins.</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className=\"space-y-4\">\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-2\">Game Usage</h3>\r\n\t\t\t\t\t<div className=\"text-sm opacity-80 mb-2\">Bar height shows total plays per mode. Wins are listed under each label. This helps decide which modes to keep or iterate on.</div>\r\n\t\t\t\t\t<div className=\"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3\">\r\n\t\t\t\t\t\t<BarChart data={gmBars.map(d => ({ label: d.label, value: d.value }))} />\r\n\t\t\t\t\t\t<div className=\"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 text-[11px] opacity-80\">\r\n\t\t\t\t\t\t\t\t\t\t{gmBars.map((d, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"flex items-center justify-between px-2 py-1 rounded-md bg-white/5 border border-white/10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"truncate mr-2\">{d.label}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"whitespace-nowrap\">Played {d.value}  Won {d.won}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t<h2 className=\"text-2xl font-bold mb-2\">Admin Control</h2>\r\n\t\t\t\t<div className=\"text-sm opacity-80 mb-3\">Grant or revoke Admin to trusted users. Only the owner can perform these actions.</div>\r\n\t\t\t\t<div className=\"flex gap-2 mb-3\">\r\n\t\t\t\t\t<input className=\"input flex-1\" placeholder=\"user@example.com\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n\t\t\t\t\t<button className=\"btn\" onClick={grant} disabled={!email}>Grant Admin</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"font-semibold mb-1\">Current Admins</div>\r\n\t\t\t\t\t<ul className=\"space-y-1\">\r\n\t\t\t\t\t\t{admins.map(a => (\r\n\t\t\t\t\t\t\t<li key={a} className=\"flex items-center justify-between p-2 rounded bg-black/20\">\r\n\t\t\t\t\t\t\t\t<span>{a}</span>\r\n\t\t\t\t\t\t\t\t{a.toLowerCase() !== OWNER_EMAIL && (\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={()=>revoke(a)}>Revoke</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{admins.length === 0 && <li className=\"text-sm opacity-60\">No admins yet.</li>}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-2\">Premium Overrides</h3>\r\n\t\t\t\t\t<div className=\"text-sm opacity-80 mb-2\">Grant temporary PREMIUM to specific emails (e.g., winners, testers). Owner only.</div>\r\n\t\t\t\t\t<div className=\"flex gap-2 mb-3\">\r\n\t\t\t\t\t\t<input className=\"input flex-1\" placeholder=\"user@example.com\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n\t\t\t\t\t\t<input className=\"input w-28\" type=\"number\" min={1} defaultValue={30} onChange={()=>{}} id=\"ndn-premium-days\" placeholder=\"Days\" />\r\n\t\t\t\t\t\t<button className=\"btn\" onClick={()=>{\r\n\t\t\t\t\t\t\tconst el = document.getElementById('ndn-premium-days') as HTMLInputElement | null\r\n\t\t\t\t\t\t\tconst days = Number(el?.value || '30')\r\n\t\t\t\t\t\t\tgrantPremium(email, Number.isFinite(days) ? days : 30)\r\n\t\t\t\t\t\t}} disabled={!email}>Grant</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"font-semibold mb-1\">Active Overrides</div>\r\n\t\t\t\t\t\t<ul className=\"space-y-1 text-sm\">\r\n\t\t\t\t\t\t\t{winners.map(w => (\r\n\t\t\t\t\t\t\t\t<li key={w.email} className=\"flex items-center justify-between p-2 rounded bg-black/20\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div>{w.email}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs opacity-70\">Expires: {w.expiresAt ? new Date(w.expiresAt).toLocaleString() : ''} {w.expired ? '(expired)' : ''}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={()=>revokePremium(w.email)}>Revoke</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t{winners.length===0 && <li className=\"opacity-60\">No overrides.</li>}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-2\">Server status</h3>\r\n\t\t\t\t\t{status?.ok ? (\r\n\t\t\t\t\t\t<div className=\"text-sm grid grid-cols-2 gap-2\">\r\n\t\t\t\t\t\t\t<div>Clients: <span className=\"font-semibold\">{status.server.clients}</span></div>\r\n\t\t\t\t\t\t\t<div>Open matches: <span className=\"font-semibold\">{status.server.matches}</span></div>\r\n\t\t\t\t\t\t\t<div>Rooms: <span className=\"font-semibold\">{status.server.rooms}</span></div>\r\n\t\t\t\t\t\t\t<div>Premium: <span className=\"font-semibold\">{status.server.premium ? 'ON' : 'OFF'}</span></div>\r\n\t\t\t\t\t\t\t<div>Maintenance: <span className=\"font-semibold\">{status.server.maintenance ? 'ON' : 'OFF'}</span></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"text-sm opacity-70\">Loading</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-3\">Operations</h3>\r\n\t\t\t\t\t<div className=\"flex flex-wrap gap-2 items-center mb-3\">\r\n\t\t\t\t\t\t<button className=\"btn\" disabled={loading} onClick={()=>toggleMaintenance(!(status?.server?.maintenance))}>\r\n\t\t\t\t\t\t\t{status?.server?.maintenance ? 'Disable Maintenance' : 'Enable Maintenance'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn\" disabled={loading} onClick={()=>flipPremium(!(status?.server?.premium))}>\r\n\t\t\t\t\t\t\t{status?.server?.premium ? 'Disable PREMIUM' : 'Enable PREMIUM'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t<input className=\"input flex-1\" placeholder=\"Announcement message\" value={announcement} onChange={e=>setAnnouncement(e.target.value)} />\r\n\t\t\t\t\t\t<button className=\"btn\" disabled={loading || !announcement.trim()} onClick={sendAnnouncement}>Broadcast</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-3\">Tournaments Management</h3>\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"font-semibold mb-2\">Create Official</div>\r\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t<input className=\"input w-full\" placeholder=\"Title\" value={createForm.title} onChange={e=>setCreateForm((f:any)=>({ ...f, title: e.target.value }))} />\r\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-2\">\r\n\t\t\t\t\t\t\t\t\t<select className=\"input\" value={createForm.game} onChange={e=>setCreateForm((f:any)=>({ ...f, game: e.target.value }))}>\r\n\t\t\t\t\t\t\t\t\t\t{['X01','Around the Clock','Cricket','Halve It','Shanghai','High-Low'].map((g)=> <option key={g} value={g}>{g}</option>)}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<select className=\"input\" value={createForm.mode} onChange={e=>setCreateForm((f:any)=>({ ...f, mode: e.target.value }))}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"bestof\">Best of</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"firstto\">First to</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<input className=\"input\" type=\"number\" min={1} value={createForm.value} onChange={e=>setCreateForm((f:any)=>({ ...f, value: Number(e.target.value) }))} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<textarea className=\"input w-full\" rows={2} placeholder=\"Description\" value={createForm.description} onChange={e=>setCreateForm((f:any)=>({ ...f, description: e.target.value }))} />\r\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-2\">\r\n\t\t\t\t\t\t\t\t\t<input className=\"input\" type=\"datetime-local\" value={createForm.startAt} onChange={e=>setCreateForm((f:any)=>({ ...f, startAt: e.target.value }))} />\r\n\t\t\t\t\t\t\t\t\t<input className=\"input\" type=\"number\" min={0} value={createForm.checkinMinutes} onChange={e=>setCreateForm((f:any)=>({ ...f, checkinMinutes: Number(e.target.value) }))} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input className=\"input w-full\" type=\"number\" min={6} max={64} value={createForm.capacity} onChange={e=>setCreateForm((f:any)=>({ ...f, capacity: Number(e.target.value) }))} />\r\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-2 items-center\">\r\n\t\t\t\t\t\t\t\t\t<select className=\"input\" value={createForm.prizeType} onChange={e=>setCreateForm((f:any)=>({ ...f, prizeType: e.target.value }))}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"premium\">PREMIUM month</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"cash\">Cash</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input className=\"input\" type=\"number\" min={0} disabled={createForm.prizeType!=='cash'} value={createForm.prizeAmount} onChange={e=>setCreateForm((f:any)=>({ ...f, prizeAmount: Number(e.target.value) }))} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select className=\"input\" disabled={createForm.prizeType!=='cash'} value={createForm.currency} onChange={e=>setCreateForm((f:any)=>({ ...f, currency: e.target.value }))}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"GBP\">GBP</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"USD\">USD</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"EUR\">EUR</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"CAD\">CAD</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"AUD\">AUD</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input className=\"input w-full\" placeholder=\"Prize notes (optional)\" value={createForm.prizeNotes} onChange={e=>setCreateForm((f:any)=>({ ...f, prizeNotes: e.target.value }))} />\r\n\t\t\t\t\t\t\t\t<div className=\"flex justify-end\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={loading} onClick={createOfficialTournament}>Create</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"font-semibold mb-2\">Existing</div>\r\n\t\t\t\t\t\t\t<ul className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t{tournaments.map((t:any)=> (\r\n\t\t\t\t\t\t\t\t\t<li key={t.id} className=\"p-2 rounded bg-black/20 text-sm\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-semibold\">{t.title}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"opacity-70\">{t.status}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"opacity-80\">{t.game}  {t.mode==='firstto'?'FT':'BO'} {t.value}  {new Date(t.startAt).toLocaleString()}  {t.capacity} cap</div>\r\n\t\t\t\t\t\t\t\t\t\t{t.prize && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs mt-1\">Prize: {t.prizeType==='cash' && t.prizeAmount ? `${t.currency||'USD'} ${t.prizeAmount}` : '1 month PREMIUM'} {t.prizeType==='cash' && t.status==='completed' && t.payoutStatus && (<span className={`ml-2 px-1.5 py-0.5 rounded ${t.payoutStatus==='paid'?'bg-emerald-600':'bg-amber-600'}`}>{t.payoutStatus}</span>)}</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isOwner && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-3\">Withdrawals</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{withdrawals.map((w:any) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={w.id} className=\"p-2 rounded bg-black/20 text-sm flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-mono text-xs\">{w.id}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{w.email}  {w.currency} {(w.amountCents/100).toFixed(2)}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"opacity-70\">{w.status}  {new Date(w.requestedAt).toLocaleString()}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{w.status==='pending' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-emerald-600 hover:bg-emerald-700\" disabled={loading} onClick={()=>decideWithdrawal(w.id, true)}>Approve</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" disabled={loading} onClick={()=>decideWithdrawal(w.id, false)}>Reject</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{withdrawals.length===0 && <li className=\"opacity-60\">No withdrawal requests.</li>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2 flex flex-wrap gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={loading || t.status!=='scheduled'} onClick={()=>setWinner(t.id, prompt('Winner email?')||'')}>Set Winner</button>\r\n\t\t\t\t\t\t\t\t\t\t\t{t.prizeType==='cash' && t.status==='completed' && t.payoutStatus!=='paid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={loading} onClick={()=>markPaid(t.id)}>Mark Paid</button>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" disabled={loading} onClick={()=>deleteTournament(t.id)}>Delete</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{tournaments.length===0 && <li className=\"opacity-60\">No tournaments.</li>}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<div className=\"mt-3 flex justify-end\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn\" disabled={loading} onClick={reseedWeekly}>Reseed Weekly Giveaway</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-3\">User Reports</h3>\r\n\t\t\t\t\t\t\t<ul className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t{reports.map((r:any)=> (\r\n\t\t\t\t\t\t\t\t\t<li key={r.id} className=\"p-2 rounded bg-black/20 text-sm\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-mono text-xs\">{r.id}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div><span className=\"font-semibold\">{r.reporter}</span>  <span className=\"font-semibold\">{r.offender}</span>  {new Date(r.ts).toLocaleString()}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"opacity-80\">Reason: {r.reason}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{r.messageId && <div className=\"opacity-60 text-xs\">Message ID: {r.messageId}</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={`px-2 py-0.5 rounded text-xs ${r.status==='open'?'bg-amber-600':'bg-emerald-600'}`}>{r.status}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{r.status==='open' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-emerald-600 hover:bg-emerald-700\" disabled={loading} onClick={async()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait fetch('/api/admin/reports/resolve', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ id: r.id, action: 'resolved', requesterEmail: user?.email }) })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait refresh()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>Resolve</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" disabled={loading} onClick={async()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst notes = prompt('Enter notes for action taken (e.g., warning, block):') || ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait fetch('/api/admin/reports/resolve', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ id: r.id, action: 'actioned', notes, requesterEmail: user?.email }) })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait refresh()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>Action</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{reports.length===0 && <li className=\"opacity-60\">No reports.</li>}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{isOwner && (\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-2\">Open Matches</h3>\r\n\t\t\t\t\t<ul className=\"space-y-1\">\r\n\t\t\t\t\t\t{(status?.matches || []).map((m: any) => (\r\n\t\t\t\t\t\t\t<li key={m.id} className=\"flex items-center justify-between p-2 rounded bg-black/20 text-sm\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-mono text-xs\">{m.id}</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"opacity-80\">{m.creatorName}</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"opacity-60\">{m.game} {m.mode==='firstto'?'FT':'BO'} {m.value} {m.game==='X01'?`/${m.startingScore}`:''}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button className=\"btn bg-rose-600 hover:bg-rose-700\" disabled={loading} onClick={()=>deleteMatch(m.id)}>Remove</button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{(!status?.matches || status.matches.length === 0) && (\r\n\t\t\t\t\t\t\t<li className=\"text-sm opacity-60\">No open matches.</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{isOwner && (\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mb-3\">Email Templates</h3>\r\n\t\t\t\t\t<div className=\"text-sm opacity-80 mb-2\">Customize titles, intro lines, and button text. Previews open in a new tab or as a popup.</div>\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n\t\t\t\t\t\t<EmailEditor kind=\"reset\" label=\"Password reset\" />\r\n\t\t\t\t\t\t<EmailEditor kind=\"reminder\" label=\"Password reset reminder\" />\r\n\t\t\t\t\t\t<EmailEditor kind=\"confirm-email\" label=\"Confirm new email\" />\r\n\t\t\t\t\t\t<EmailEditor kind=\"changed\" label=\"Password changed notice\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{/* Inline email preview overlay */}\r\n\t\t\t{preview.open && (\r\n\t\t\t\t<div className=\"fixed inset-0 z-[1000]\" onClick={()=>setPreview({ open: false })}>\r\n\t\t\t\t\t<div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" />\r\n\t\t\t\t\t<div className=\"absolute inset-0 p-4 md:p-8 overflow-auto flex items-start md:items-center justify-center\">\r\n\t\t\t\t\t\t<div className=\"w-full max-w-3xl bg-[#0b1020] rounded-2xl border border-indigo-500/40 shadow-2xl\" onClick={e=>e.stopPropagation()}>\r\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between px-4 py-3 border-b border-indigo-500/20\">\r\n\t\t\t\t\t\t\t\t<div className=\"font-semibold\">Preview: {preview.kind}</div>\r\n\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={()=>setPreview({ open: false })}>Close</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"p-0 bg-black/30\">\r\n\t\t\t\t\t\t\t\t<iframe title=\"Email Preview\" style={{ width: '100%', height: '70vh', border: '0', background: 'transparent' }} srcDoc={preview.html || ''} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"px-4 py-3 border-t border-indigo-500/20 text-xs opacity-70\">Click outside this panel or press Esc to close.</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// Inline preview overlay (click anywhere to close)\r\n// Rendered at the bottom of AdminDashboard via a fragment  integrated above with state\r\n","import React, { useEffect, useState } from 'react';\r\nimport { User, Settings, Volume2, Camera, Gamepad2, Eye, Mic, Save, Edit3 } from 'lucide-react';\r\nimport { useUserSettings } from '../store/userSettings';\r\n\r\nexport default function SettingsPanel({ user }: { user?: any }) {\r\n  const {\r\n    favoriteDouble, callerEnabled, callerVoice, callerVolume, speakCheckoutOnly, avgMode,\r\n    autoStartOffline, rememberLastOffline, reducedMotion, compactHeader, allowSpectate,\r\n    cameraScale, cameraAspect, autoscoreProvider, autoscoreWsUrl, calibrationGuide,\r\n    preferredCameraId, preferredCameraLabel, offlineLayout,\r\n    setFavoriteDouble, setCallerEnabled, setCallerVoice, setCallerVolume, setSpeakCheckoutOnly,\r\n    setAvgMode, setAutoStartOffline, setRememberLastOffline, setReducedMotion, setCompactHeader,\r\n    setAllowSpectate, setCameraScale, setCameraAspect, setAutoscoreProvider, setAutoscoreWsUrl,\r\n    setCalibrationGuide, setPreferredCamera, setOfflineLayout\r\n  } = useUserSettings();\r\n\r\n  // Achievements state\r\n  const [achievements, setAchievements] = useState([\r\n    { key: 'first180', label: 'First 180', unlocked: false, icon: '', desc: 'Score 180 in a match.' },\r\n    { key: 'hundredGames', label: '100 Games Played', unlocked: false, icon: '', desc: 'Play 100 games.' },\r\n    { key: 'tournamentWin', label: 'Tournament Winner', unlocked: false, icon: '', desc: 'Win a tournament.' },\r\n    { key: 'bestLeg', label: 'Best Leg', unlocked: false, icon: '', desc: 'Finish a leg in 12 darts or less.' },\r\n    { key: 'comeback', label: 'Comeback', unlocked: false, icon: '', desc: 'Win after trailing by 3 legs.' },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const uname = user?.username || '';\r\n    if (!uname) return;\r\n    setAchievements(prev => prev.map(a => ({\r\n      ...a,\r\n      unlocked: !!localStorage.getItem(`ndn:achieve:${a.key}:${uname}`)\r\n    })));\r\n  }, [user?.username]);\r\n\r\n  // Profile bio fields with edit mode\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [favPlayer, setFavPlayer] = useState('');\r\n  const [favTeam, setFavTeam] = useState('');\r\n  const [favDarts, setFavDarts] = useState('');\r\n  const [bio, setBio] = useState('');\r\n\r\n  useEffect(() => {\r\n    const uname = user?.username || '';\r\n    if (!uname) return;\r\n    try {\r\n      setFavPlayer(localStorage.getItem(`ndn:bio:favPlayer:${uname}`) || '');\r\n      setFavTeam(localStorage.getItem(`ndn:bio:favTeam:${uname}`) || '');\r\n      setFavDarts(localStorage.getItem(`ndn:bio:favDarts:${uname}`) || '');\r\n      setBio(localStorage.getItem(`ndn:bio:bio:${uname}`) || '');\r\n    } catch {}\r\n  }, [user?.username]);\r\n\r\n  const saveBio = () => {\r\n    const uname = user?.username || '';\r\n    if (!uname) return;\r\n    try {\r\n      localStorage.setItem(`ndn:bio:favPlayer:${uname}`, favPlayer);\r\n      localStorage.setItem(`ndn:bio:favTeam:${uname}`, favTeam);\r\n      localStorage.setItem(`ndn:bio:favDarts:${uname}`, favDarts);\r\n      localStorage.setItem(`ndn:bio:bio:${uname}`, bio);\r\n      setIsEditing(false);\r\n    } catch {}\r\n  };\r\n\r\n  // Available voices for caller\r\n  const [availableVoices, setAvailableVoices] = useState<SpeechSynthesisVoice[]>([]);\r\n\r\n  useEffect(() => {\r\n    const loadVoices = () => {\r\n      const voices = speechSynthesis.getVoices();\r\n      setAvailableVoices(voices.filter(v => v.lang.startsWith('en')));\r\n    };\r\n    loadVoices();\r\n    speechSynthesis.onvoiceschanged = loadVoices;\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Profile Bio Section */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"font-semibold flex items-center gap-2\">\r\n              <User className=\"w-5 h-5 text-brand-400\" /> Profile Bio\r\n            </div>\r\n            {!isEditing ? (\r\n              <button\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"flex items-center gap-2 px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg text-blue-400 text-sm transition-colors\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4\" /> Edit\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={saveBio}\r\n                className=\"flex items-center gap-2 px-3 py-1 bg-green-500/20 hover:bg-green-500/30 rounded-lg text-green-400 text-sm transition-colors\"\r\n              >\r\n                <Save className=\"w-4 h-4\" /> Save\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <label className=\"block mb-1 text-sm font-medium\">Favourite Player:</label>\r\n              {isEditing ? (\r\n                <input\r\n                  className=\"input w-full\"\r\n                  type=\"text\"\r\n                  value={favPlayer}\r\n                  onChange={e => setFavPlayer(e.target.value)}\r\n                  placeholder=\"e.g. Michael van Gerwen\"\r\n                />\r\n              ) : (\r\n                <div className=\"px-3 py-2 bg-slate-800/50 rounded-lg text-slate-300 min-h-[2.5rem] flex items-center\">\r\n                  {favPlayer || 'Not set'}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm font-medium\">Favourite Football Team:</label>\r\n              {isEditing ? (\r\n                <input\r\n                  className=\"input w-full\"\r\n                  type=\"text\"\r\n                  value={favTeam}\r\n                  onChange={e => setFavTeam(e.target.value)}\r\n                  placeholder=\"e.g. Manchester United\"\r\n                />\r\n              ) : (\r\n                <div className=\"px-3 py-2 bg-slate-800/50 rounded-lg text-slate-300 min-h-[2.5rem] flex items-center\">\r\n                  {favTeam || 'Not set'}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm font-medium\">Favourite Darts:</label>\r\n              {isEditing ? (\r\n                <input\r\n                  className=\"input w-full\"\r\n                  type=\"text\"\r\n                  value={favDarts}\r\n                  onChange={e => setFavDarts(e.target.value)}\r\n                  placeholder=\"e.g. Unicorn Phase 5, 24g\"\r\n                />\r\n              ) : (\r\n                <div className=\"px-3 py-2 bg-slate-800/50 rounded-lg text-slate-300 min-h-[2.5rem] flex items-center\">\r\n                  {favDarts || 'Not set'}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm font-medium\">Short Bio / Quote:</label>\r\n              {isEditing ? (\r\n                <textarea\r\n                  className=\"input w-full\"\r\n                  value={bio}\r\n                  onChange={e => setBio(e.target.value)}\r\n                  placeholder=\"Write something about yourself...\"\r\n                  rows={3}\r\n                />\r\n              ) : (\r\n                <div className=\"px-3 py-2 bg-slate-800/50 rounded-lg text-slate-300 min-h-[4rem] flex items-start\">\r\n                  {bio || 'No bio set'}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Game Preferences */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-green-500/40 bg-green-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2\">\r\n            <Gamepad2 className=\"w-5 h-5 text-green-400\" /> Game Preferences\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Favourite Double:</label>\r\n              <select\r\n                className=\"input w-full\"\r\n                value={favoriteDouble}\r\n                onChange={e => setFavoriteDouble(e.target.value)}\r\n              >\r\n                <option value=\"any\">Any Double</option>\r\n                <option value=\"D20\">Double 20</option>\r\n                <option value=\"D18\">Double 18</option>\r\n                <option value=\"D16\">Double 16</option>\r\n                <option value=\"D14\">Double 14</option>\r\n                <option value=\"D12\">Double 12</option>\r\n                <option value=\"D10\">Double 10</option>\r\n                <option value=\"D8\">Double 8</option>\r\n                <option value=\"D6\">Double 6</option>\r\n                <option value=\"D4\">Double 4</option>\r\n                <option value=\"D2\">Double 2</option>\r\n                <option value=\"D1\">Double 1</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Average Display Mode:</label>\r\n              <select\r\n                className=\"input w-full\"\r\n                value={avgMode}\r\n                onChange={e => setAvgMode(e.target.value as 'all-time' | '24h')}\r\n              >\r\n                <option value=\"all-time\">All Time Average</option>\r\n                <option value=\"24h\">24 Hour Average</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"autoStartOffline\"\r\n                checked={autoStartOffline}\r\n                onChange={e => setAutoStartOffline(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"autoStartOffline\" className=\"text-sm\">Auto-start offline games</label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"rememberLastOffline\"\r\n                checked={rememberLastOffline}\r\n                onChange={e => setRememberLastOffline(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"rememberLastOffline\" className=\"text-sm\">Remember last offline game settings</label>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Offline Game Layout:</label>\r\n              <select\r\n                className=\"input w-full\"\r\n                value={offlineLayout || 'classic'}\r\n                onChange={e => setOfflineLayout(e.target.value as 'classic' | 'modern')}\r\n              >\r\n                <option value=\"classic\">Classic Layout</option>\r\n                <option value=\"modern\">Modern Layout</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Audio & Voice Settings */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-purple-500/40 bg-purple-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2\">\r\n            <Volume2 className=\"w-5 h-5 text-purple-400\" /> Audio & Voice\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"callerEnabled\"\r\n                checked={callerEnabled}\r\n                onChange={e => setCallerEnabled(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"callerEnabled\" className=\"text-sm font-medium\">Enable Voice Caller</label>\r\n            </div>\r\n\r\n            {callerEnabled && (\r\n              <>\r\n                <div>\r\n                  <label className=\"block mb-2 text-sm font-medium\">Voice:</label>\r\n                  <select\r\n                    className=\"input w-full\"\r\n                    value={callerVoice}\r\n                    onChange={e => setCallerVoice(e.target.value)}\r\n                  >\r\n                    {availableVoices.map(voice => (\r\n                      <option key={voice.name} value={voice.name}>\r\n                        {voice.name} ({voice.lang})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block mb-2 text-sm font-medium\">Volume: {Math.round(callerVolume * 100)}%</label>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"1\"\r\n                    step=\"0.1\"\r\n                    value={callerVolume}\r\n                    onChange={e => setCallerVolume(parseFloat(e.target.value))}\r\n                    className=\"w-full\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"speakCheckoutOnly\"\r\n                    checked={speakCheckoutOnly}\r\n                    onChange={e => setSpeakCheckoutOnly(e.target.checked)}\r\n                    className=\"w-4 h-4\"\r\n                  />\r\n                  <label htmlFor=\"speakCheckoutOnly\" className=\"text-sm\">Only announce checkouts</label>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Camera & Vision Settings */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-blue-500/40 bg-blue-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2\">\r\n            <Camera className=\"w-5 h-5 text-blue-400\" /> Camera & Vision\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Camera Scale: {cameraScale.toFixed(2)}x</label>\r\n              <input\r\n                type=\"range\"\r\n                min=\"0.5\"\r\n                max=\"1.25\"\r\n                step=\"0.05\"\r\n                value={cameraScale}\r\n                onChange={e => setCameraScale(parseFloat(e.target.value))}\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Camera Aspect Ratio:</label>\r\n              <select\r\n                className=\"input w-full\"\r\n                value={cameraAspect || 'wide'}\r\n                onChange={e => setCameraAspect(e.target.value as 'wide' | 'square')}\r\n              >\r\n                <option value=\"wide\">Wide (16:9)</option>\r\n                <option value=\"square\">Square (1:1)</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"calibrationGuide\"\r\n                checked={calibrationGuide}\r\n                onChange={e => setCalibrationGuide(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"calibrationGuide\" className=\"text-sm\">Show calibration guide</label>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-2 text-sm font-medium\">Autoscore Provider:</label>\r\n              <select\r\n                className=\"input w-full\"\r\n                value={autoscoreProvider || 'built-in'}\r\n                onChange={e => setAutoscoreProvider(e.target.value as 'built-in' | 'external-ws')}\r\n              >\r\n                <option value=\"built-in\">Built-in Vision</option>\r\n                <option value=\"external-ws\">External WebSocket</option>\r\n              </select>\r\n            </div>\r\n\r\n            {autoscoreProvider === 'external-ws' && (\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-medium\">External WebSocket URL:</label>\r\n                <input\r\n                  className=\"input w-full\"\r\n                  type=\"url\"\r\n                  value={autoscoreWsUrl || ''}\r\n                  onChange={e => setAutoscoreWsUrl(e.target.value)}\r\n                  placeholder=\"ws://localhost:8080\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* UI & Accessibility */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-orange-500/40 bg-orange-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2\">\r\n            <Eye className=\"w-5 h-5 text-orange-400\" /> UI & Accessibility\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"reducedMotion\"\r\n                checked={reducedMotion}\r\n                onChange={e => setReducedMotion(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"reducedMotion\" className=\"text-sm\">Reduce motion/animations</label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"compactHeader\"\r\n                checked={compactHeader}\r\n                onChange={e => setCompactHeader(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"compactHeader\" className=\"text-sm\">Compact header layout</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Online & Social */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-pink-500/40 bg-pink-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2\">\r\n            <Mic className=\"w-5 h-5 text-pink-400\" /> Online & Social\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"allowSpectate\"\r\n                checked={allowSpectate}\r\n                onChange={e => setAllowSpectate(e.target.checked)}\r\n                className=\"w-4 h-4\"\r\n              />\r\n              <label htmlFor=\"allowSpectate\" className=\"text-sm\">Allow others to spectate my games</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Achievements & Badges Section */}\r\n      <div className=\"card\">\r\n        <div className=\"p-3 rounded-xl border border-yellow-500/40 bg-yellow-500/10\">\r\n          <div className=\"font-semibold mb-4 flex items-center gap-2 text-yellow-700\">\r\n            <Settings className=\"w-5 h-5\" /> Achievements & Badges\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {achievements.map(a => (\r\n              <div key={a.key} className={`flex flex-col items-center p-3 rounded-xl border ${a.unlocked ? 'border-emerald-400 bg-emerald-500/10' : 'border-slate-400 bg-slate-700/10'}`}>\r\n                <div className=\"text-3xl mb-2\">{a.icon}</div>\r\n                <div className={`font-bold mb-1 text-center ${a.unlocked ? 'text-emerald-400' : 'text-slate-400'}`}>{a.label}</div>\r\n                <div className=\"text-xs text-slate-300 text-center mb-2\">{a.desc}</div>\r\n                {!a.unlocked && <div className=\"text-xs text-amber-400 font-medium\"> Locked</div>}\r\n                {a.unlocked && <div className=\"text-xs text-emerald-400 font-medium\"> Unlocked!</div>}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { Eye, EyeOff, Trophy, Users, BarChart3, ShieldCheck, MessageCircle } from 'lucide-react';\r\n\r\n// Demo-only admin credentials. Allow build-time override via Vite env vars so\r\n// deployments (e.g., Netlify) can set their own values without editing code.\r\n// SECURITY NOTE: These live in the client bundle and are NOT secure; for demo only.\r\nconst ADMIN_EMAIL = ((import.meta as any).env?.VITE_ADMIN_EMAIL as string) || 'daviesfamily108@gmail.com';\r\nconst ADMIN_USERNAME = ((import.meta as any).env?.VITE_ADMIN_USERNAME as string) || 'DartsWithG';\r\nconst ADMIN_PASSWORD = ((import.meta as any).env?.VITE_ADMIN_PASSWORD as string) || 'Cymru-2015';\r\n\r\nfunction validatePassword(password: string) {\r\n  return password.length >= 10 && /\\d/.test(password) && /[^A-Za-z0-9]/.test(password);\r\n}\r\n\r\nexport default function Auth({ onAuth }: { onAuth: (user: any) => void }) {\r\n  const [mode, setMode] = useState<'signin' | 'signup' | 'reset'>('signin');\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [reminder, setReminder] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  // Use VITE_API_URL for API requests, fallback to relative path for local dev\r\n  const API_URL = (import.meta as any).env?.VITE_API_URL || '';\r\n\r\n  async function handleSignIn(e: any) {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!username || !password) {\r\n      setError('Username and password required.');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/auth/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok && data?.user && data?.token) {\r\n        localStorage.setItem('authToken', data.token);\r\n        onAuth(data.user);\r\n      } else {\r\n        setError(data?.error || 'Invalid username or password.');\r\n      }\r\n    } catch {\r\n      setError('Network error.');\r\n    }\r\n  }\r\n\r\n  async function handleSignUp(e: any) {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!email || !username || !password) {\r\n      setError('Email, username, and password required.');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/auth/signup`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, username, password })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok && data?.user && data?.token) {\r\n        localStorage.setItem('authToken', data.token);\r\n        onAuth(data.user);\r\n      } else {\r\n        setError(data?.error || 'Signup failed.');\r\n      }\r\n    } catch {\r\n      setError('Network error.');\r\n    }\r\n  }\r\n\r\n  async function handleReset(e: any) {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!email || !email.includes('@')) { setError('Enter your email address.'); return }\r\n    try {\r\n      const r = await fetch(`${API_URL}/api/auth/send-reset`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email }) })\r\n      const j = await r.json()\r\n      if (!j?.ok) throw new Error(j?.error || 'Failed to send reset email')\r\n      setError('Password reset link sent to your email.');\r\n    } catch (err: any) {\r\n      setError(err?.message || 'Failed to send reset email');\r\n    }\r\n  }\r\n\r\n  async function handleSendUsername(e: any) {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!email || !email.includes('@')) { setError('Enter your email address.'); return }\r\n    try {\r\n      const r = await fetch(`${API_URL}/api/auth/send-username`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email }) })\r\n      const j = await r.json()\r\n      if (!j?.ok) throw new Error(j?.error || 'Failed to send username email')\r\n      setError('Your username has been emailed to you.');\r\n    } catch (err: any) {\r\n      setError(err?.message || 'Failed to send username email');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center relative overflow-hidden\">\r\n      {/* Animated background accents */}\r\n      <div className=\"background-animated\" />\r\n      <div className=\"relative z-10 w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6 p-4\">\r\n        {/* Auth Card */}\r\n        <form className=\"card w-full space-y-4\" onSubmit={mode === 'signin' ? handleSignIn : mode === 'signup' ? handleSignUp : handleReset}>\r\n          <div className=\"flex flex-col items-center justify-center gap-2 mb-2 text-center\">\r\n            <h1 className=\"logo text-center\">NINE-DART-NATION </h1>\r\n            <span className=\"badge\">Welcome</span>\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold\">{mode === 'signin' ? 'Sign In' : mode === 'signup' ? 'Create Account' : 'Reset Password'}</h2>\r\n          {(mode === 'signup' || mode === 'reset') && (\r\n            <input className=\"input w-full\" type=\"email\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} required />\r\n          )}\r\n          {mode !== 'reset' && (\r\n            <input className=\"input w-full\" type=\"text\" placeholder=\"Username\" value={username} onChange={e => setUsername(e.target.value)} required />\r\n          )}\r\n          {mode !== 'reset' && (\r\n            <div className=\"relative\">\r\n              <input\r\n                className=\"input w-full pr-10\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                autoComplete=\"current-password\"\r\n                required\r\n                onFocus={() => setShowPassword(false)}\r\n                onBlur={() => setShowPassword(false)}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 text-slate-300 hover:text-white\"\r\n                tabIndex={-1}\r\n                onMouseDown={e => { e.preventDefault(); setShowPassword(true); }}\r\n                onMouseUp={e => { e.preventDefault(); setShowPassword(false); }}\r\n                onMouseLeave={() => setShowPassword(false)}\r\n                onTouchStart={e => { e.preventDefault(); setShowPassword(true); }}\r\n                onTouchEnd={e => { e.preventDefault(); setShowPassword(false); }}\r\n                aria-label=\"Toggle password visibility\"\r\n              >\r\n                {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n              </button>\r\n            </div>\r\n          )}\r\n          {mode === 'signup' && (\r\n            <input className=\"input w-full\" type=\"text\" placeholder=\"Password Reminder (optional)\" value={reminder} onChange={e => setReminder(e.target.value)} />\r\n          )}\r\n          {error && <div className=\"text-red-400 font-semibold text-sm\">{error}</div>}\r\n          <button className=\"btn w-full\" type=\"submit\">{mode === 'signin' ? 'Sign In' : mode === 'signup' ? 'Sign Up' : 'Send Reset Link'}</button>\r\n          {mode === 'reset' && (\r\n            <button className=\"btn w-full mt-2 bg-white/10 hover:bg-white/20\" type=\"button\" onClick={handleSendUsername}>Email me my username</button>\r\n          )}\r\n          <div className=\"flex justify-between text-sm mt-2\">\r\n            <button type=\"button\" className=\"underline\" onClick={() => setMode(mode === 'signin' ? 'signup' : 'signin')}>{mode === 'signin' ? 'Need an account? Sign Up' : 'Already have an account? Sign In'}</button>\r\n            <button type=\"button\" className=\"underline\" onClick={() => setMode('reset')}>Forgot password?</button>\r\n          </div>\r\n          <div className=\"text-xs text-slate-200/80\">\r\n            Tip: Use the admin demo credentials to explore admin features.\r\n          </div>\r\n        </form>\r\n\r\n        {/* Hints / Teaser Panel */}\r\n        <aside className=\"card w-full\">\r\n          <h3 className=\"text-xl font-bold mb-3\">Whats inside</h3>\r\n          <ul className=\"space-y-3\">\r\n            <li className=\"flex items-start gap-3\"><Users className=\"w-5 h-5 text-indigo-300 mt-1\" />\r\n              <div>\r\n                <div className=\"font-semibold\">Online & Friends</div>\r\n                <div className=\"text-sm text-slate-200/90\">Challenge friends, chat, and join leagues.</div>\r\n              </div>\r\n            </li>\r\n            <li className=\"flex items-start gap-3\"><BarChart3 className=\"w-5 h-5 text-indigo-300 mt-1\" />\r\n              <div>\r\n                <div className=\"font-semibold\">Deep Stats</div>\r\n                <div className=\"text-sm text-slate-200/90\">Track 3-dart averages, best legs, and more.</div>\r\n              </div>\r\n            </li>\r\n            <li className=\"flex items-start gap-3\"><Trophy className=\"w-5 h-5 text-indigo-300 mt-1\" />\r\n              <div>\r\n                <div className=\"font-semibold\">Game Modes</div>\r\n                <div className=\"text-sm text-slate-200/90\">Start with 3 free online games upon signup. After that, PREMIUM is required to play all games.</div>\r\n              </div>\r\n            </li>\r\n            <li className=\"flex items-start gap-3\"><ShieldCheck className=\"w-5 h-5 text-indigo-300 mt-1\" />\r\n              <div>\r\n                <div className=\"font-semibold\">Premium Perks</div>\r\n                <div className=\"text-sm text-slate-200/90\">Polished UI, upcoming features, and early access.</div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <a\r\n            href={(import.meta as any).env?.VITE_DISCORD_INVITE_URL || 'https://discord.gg/8GtbZ6RU'}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"btn mt-4 flex items-center justify-center gap-2\"\r\n          >\r\n            <MessageCircle className=\"w-5 h-5\" /> Join BullseyeDartsLeague\r\n          </a>\r\n        </aside>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { createContext, useContext, useEffect, useState } from 'react';\r\n\r\nconst ThemeContext = createContext({\r\n  theme: 'default',\r\n  setTheme: (t: string) => {},\r\n});\r\n\r\nconst THEME_KEY = 'ndn_theme'\r\n\r\nexport function ThemeProvider({ children }: { children: any }) {\r\n  const [theme, setTheme] = useState('default');\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const saved = localStorage.getItem(THEME_KEY)\r\n      if (saved) setTheme(saved)\r\n    } catch {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    try { localStorage.setItem(THEME_KEY, theme) } catch {}\r\n  }, [theme])\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, setTheme }}>\r\n      <div className={`theme-${theme}`}>{children}</div>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  return useContext(ThemeContext);\r\n}\r\n","import React, { createContext, useCallback, useContext, useEffect, useMemo, useRef, useState, type ReactNode } from 'react'\r\n\r\ntype WSMessage = any\r\n\r\ntype WSStatus = 'connecting' | 'connected' | 'disconnected'\r\ntype WSContextType = {\r\n  connected: boolean\r\n  status: WSStatus\r\n  send: (msg: WSMessage) => void\r\n  addListener: (fn: (data: WSMessage) => void) => () => void\r\n}\r\n\r\nconst WSContext = createContext<WSContextType | null>(null)\r\n\r\nexport function WSProvider({ children }: { children: ReactNode }) {\r\n  const [connected, setConnected] = useState(false)\r\n  const [status, setStatus] = useState<WSStatus>('connecting')\r\n  const wsRef = useRef<WebSocket | null>(null)\r\n  const listenersRef = useRef(new Set<(data: WSMessage) => void>())\r\n  const shouldReconnectRef = useRef(true)\r\n  const attemptsRef = useRef(0)\r\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const heartbeatRef = useRef<ReturnType<typeof setInterval> | null>(null)\r\n\r\n  const endpointsRef = useRef<string[] | null>(null)\r\n  const endpointIdxRef = useRef(0)\r\n  const debug = false\r\n\r\n  const ensureEndpoints = () => {\r\n    if (endpointsRef.current) return endpointsRef.current\r\n    const envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n    if (envUrl && envUrl.length > 0) {\r\n      const normalized = envUrl.endsWith('/ws') ? envUrl : envUrl.replace(/\\/$/, '') + '/ws'\r\n      endpointsRef.current = [normalized]\r\n      return endpointsRef.current\r\n    }\r\n    const proto = (window.location.protocol === 'https:' ? 'wss' : 'ws')\r\n    const host = window.location.hostname\r\n    const sameOrigin = `${proto}://${window.location.host}` // includes port if present\r\n    // Candidate endpoints: prefer same-origin first (works when server serves SPA),\r\n    // then common local ports for dev fallbacks.\r\n    const bases = [\r\n      sameOrigin + '/ws',\r\n      `${proto}://${host}/ws`,\r\n      `${proto}://${host}:8787/ws`,\r\n      `${proto}://${host}:3000/ws`,\r\n    ]\r\n    // Deduplicate\r\n    endpointsRef.current = Array.from(new Set(bases))\r\n    return endpointsRef.current\r\n  }\r\n\r\n  const rotateEndpoint = () => {\r\n    const eps = ensureEndpoints()\r\n    endpointIdxRef.current = (endpointIdxRef.current + 1) % eps.length\r\n    return eps[endpointIdxRef.current]\r\n  }\r\n\r\n  const currentEndpoint = () => {\r\n    const eps = ensureEndpoints()\r\n    return eps[endpointIdxRef.current] || eps[0]\r\n  }\r\n\r\n  const connect = useCallback(() => {\r\n    if (wsRef.current && (wsRef.current.readyState === WebSocket.OPEN || wsRef.current.readyState === WebSocket.CONNECTING)) return\r\n    setStatus('connecting')\r\n    const base = currentEndpoint()\r\n    const url = `${base}`\r\n    if (debug) console.log('[WS] connecting to', url)\r\n    const ws = new WebSocket(url)\r\n    wsRef.current = ws\r\n    ws.onopen = () => {\r\n      setConnected(true)\r\n      setStatus('connected')\r\n      attemptsRef.current = 0\r\n      // start heartbeat\r\n      if (heartbeatRef.current) clearInterval(heartbeatRef.current)\r\n      heartbeatRef.current = setInterval(() => {\r\n        try { wsRef.current?.readyState === WebSocket.OPEN && wsRef.current?.send(JSON.stringify({ type: 'ping', t: Date.now() })) } catch {}\r\n      }, 20000)\r\n      if (debug) console.log('[WS] connected')\r\n    }\r\n    ws.onmessage = (ev) => {\r\n      try {\r\n        const data = JSON.parse(ev.data)\r\n        listenersRef.current.forEach(fn => { try { fn(data) } catch {} })\r\n      } catch {}\r\n    }\r\n    ws.onerror = () => {\r\n      if (debug) console.log('[WS] socket error on', currentEndpoint())\r\n    }\r\n    ws.onclose = () => {\r\n      setConnected(false)\r\n      setStatus('disconnected')\r\n      if (heartbeatRef.current) { clearInterval(heartbeatRef.current); heartbeatRef.current = null }\r\n      if (!shouldReconnectRef.current) return\r\n      const attempt = (attemptsRef.current || 0) + 1\r\n      attemptsRef.current = attempt\r\n      // rotate endpoint every 2 failed attempts for broader coverage\r\n      if (attempt % 2 === 0) rotateEndpoint()\r\n      if (debug) console.log('[WS] closed. attempt', attempt, 'next endpoint', currentEndpoint())\r\n      const base = 1000 * Math.pow(2, attempt - 1)\r\n      const jitter = Math.floor(Math.random() * 1000)\r\n      let delay = Math.min(30000, base + jitter)\r\n      // First retry should be immediate for instant reconnect UX\r\n      if (attempt === 1) delay = 0\r\n      if (timerRef.current) clearTimeout(timerRef.current)\r\n      if (delay === 0) {\r\n        connect()\r\n      } else {\r\n        timerRef.current = setTimeout(connect, delay)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    shouldReconnectRef.current = true\r\n    connect()\r\n    const beforeUnload = () => {\r\n      shouldReconnectRef.current = false\r\n      try { wsRef.current?.close() } catch {}\r\n    }\r\n    window.addEventListener('beforeunload', beforeUnload)\r\n    const onVis = () => {\r\n      if (document.visibilityState === 'visible') {\r\n        // nudge reconnect if needed\r\n        if (!connected) connect()\r\n      }\r\n    }\r\n    document.addEventListener('visibilitychange', onVis)\r\n    window.addEventListener('online', connect)\r\n    return () => {\r\n      shouldReconnectRef.current = false\r\n      if (timerRef.current) clearTimeout(timerRef.current)\r\n      if (heartbeatRef.current) clearInterval(heartbeatRef.current)\r\n      try { wsRef.current?.close() } catch {}\r\n      document.removeEventListener('visibilitychange', onVis)\r\n      window.removeEventListener('online', connect)\r\n      window.removeEventListener('beforeunload', beforeUnload)\r\n    }\r\n  }, [connect])\r\n\r\n  const send = useCallback((msg: WSMessage) => {\r\n    try {\r\n      if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(typeof msg === 'string' ? msg : JSON.stringify(msg))\r\n      }\r\n    } catch {}\r\n  }, [])\r\n\r\n  const addListener = useCallback((fn: (data: WSMessage) => void) => {\r\n    listenersRef.current.add(fn)\r\n    return () => { listenersRef.current.delete(fn) }\r\n  }, [])\r\n\r\n  const value = useMemo(() => ({ connected, status, send, addListener }), [connected, status, send, addListener])\r\n  return <WSContext.Provider value={value}>{children}</WSContext.Provider>\r\n}\r\n\r\nexport function useWS() {\r\n  const ctx = useContext(WSContext)\r\n  if (!ctx) throw new Error('useWS must be used within WSProvider')\r\n  return ctx\r\n}\r\n","import React from 'react'\r\n\r\ntype Props = {\r\n  status: 'connecting' | 'connected' | 'disconnected'\r\n  title?: string\r\n  size?: number // pixels, defaults to 12\r\n}\r\n\r\nexport default function StatusDot({ status, title, size = 12 }: Props) {\r\n  const s = size\r\n  if (status === 'connecting') {\r\n    return (\r\n      <span\r\n        role=\"img\"\r\n        aria-label=\"Connecting\"\r\n        title={title || 'Connecting'}\r\n        className=\"inline-flex items-center justify-center\"\r\n        style={{ width: s, height: s }}\r\n      >\r\n        <svg\r\n          width={s}\r\n          height={s}\r\n          viewBox=\"0 0 24 24\"\r\n          className=\"animate-spin\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#A7F3D0\" strokeWidth=\"3\" fill=\"none\" opacity=\"0.35\" />\r\n          <path d=\"M22 12a10 10 0 0 0-10-10\" stroke=\"#34D399\" strokeWidth=\"3\" strokeLinecap=\"round\" fill=\"none\" />\r\n        </svg>\r\n      </span>\r\n    )\r\n  }\r\n  if (status === 'connected') {\r\n    return (\r\n      <span\r\n        role=\"img\"\r\n        aria-label=\"Connected\"\r\n        title={title || 'Connected'}\r\n        className=\"inline-flex items-center justify-center\"\r\n        style={{ width: s, height: s }}\r\n      >\r\n        <svg width={s} height={s} viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#34D399\" />\r\n        </svg>\r\n      </span>\r\n    )\r\n  }\r\n  return (\r\n    <span\r\n      role=\"img\"\r\n      aria-label=\"Disconnected\"\r\n      title={title || 'Not connected'}\r\n      className=\"inline-flex items-center justify-center\"\r\n      style={{ width: s, height: s }}\r\n    >\r\n      <svg width={s} height={s} viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#F87171\" opacity=\"0.15\" />\r\n        <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"#F87171\" strokeWidth=\"2\" fill=\"none\" />\r\n        <rect x=\"6\" y=\"11\" width=\"12\" height=\"2\" rx=\"1\" fill=\"#F87171\" />\r\n      </svg>\r\n    </span>\r\n  )\r\n}\r\n","import { create } from 'zustand'\r\n\r\ntype BlockState = {\r\n  blocked: Record<string, number> // email/username -> ts\r\n  isBlocked: (id: string) => boolean\r\n  block: (id: string) => void\r\n  unblock: (id: string) => void\r\n  all: () => string[]\r\n}\r\n\r\nconst LS = 'ndn:blocked:v1'\r\n\r\nfunction load(): Record<string, number> {\r\n  try { const raw = localStorage.getItem(LS); return raw ? JSON.parse(raw) : {} } catch { return {} }\r\n}\r\nfunction save(map: Record<string, number>) {\r\n  try { localStorage.setItem(LS, JSON.stringify(map)) } catch {}\r\n}\r\n\r\nexport const useBlocklist = create<BlockState>((set, get) => ({\r\n  blocked: load(),\r\n  isBlocked: (id) => !!get().blocked[(id||'').toLowerCase()],\r\n  block: (id) => set((s) => { const map = { ...s.blocked }; map[(id||'').toLowerCase()] = Date.now(); save(map); return { blocked: map } }),\r\n  unblock: (id) => set((s) => { const map = { ...s.blocked }; delete map[(id||'').toLowerCase()]; save(map); return { blocked: map } }),\r\n  all: () => Object.keys(get().blocked),\r\n}))\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { useMatch } from '../store/match'\r\nimport CameraView from './CameraView'\r\nimport CameraTile from './CameraTile'\r\nimport { suggestCheckouts, sayScore } from '../utils/checkout'\r\nimport { addSample, getAllTimeAvg } from '../store/profileStats'\r\nimport { getFreeRemaining, incOnlineUsage } from '../utils/quota'\r\nimport { useUserSettings } from '../store/userSettings'\r\nimport { useCalibration } from '../store/calibration'\r\nimport { freeGames, premiumGames, allGames, type GameKey } from '../utils/games'\r\nimport { getUserCurrency, formatPriceInCurrency } from '../utils/config'\r\nimport ResizableModal from './ui/ResizableModal'\r\nimport { useToast } from '../store/toast'\r\n// import { TabKey } from './Sidebar'\r\nimport { useWS } from './WSProvider'\r\nimport { useMessages } from '../store/messages'\r\nimport { censorProfanity, containsProfanity } from '../utils/profanity'\r\nimport { useBlocklist } from '../store/blocklist'\r\nimport TabPills from './ui/TabPills'\r\nimport { DOUBLE_PRACTICE_ORDER, isDoubleHit, parseManualDart, ringSectorToDart } from '../game/types'\r\nimport { ATC_ORDER } from '../game/aroundTheClock'\r\nimport { createCricketState, applyCricketDart, CRICKET_NUMBERS, hasClosedAll as cricketClosedAll, cricketWinner } from '../game/cricket'\r\nimport { createShanghaiState, getRoundTarget as shanghaiTarget, applyShanghaiDart, endShanghaiTurn } from '../game/shanghai'\r\nimport { createDefaultHalveIt, getCurrentHalveTarget, applyHalveItDart, endHalveItTurn } from '../game/halveIt'\r\nimport { createHighLow, applyHighLowDart, endHighLowTurn } from '../game/highLow'\r\nimport { assignKillerNumbers, createKillerState, applyKillerDart, killerWinner } from '../game/killer'\r\n// Phase 2 premium games (Online support)\r\nimport { createAmCricketState, applyAmCricketDart, AM_CRICKET_NUMBERS } from '../game/americanCricket'\r\nimport { createBaseball, applyBaseballDart } from '../game/baseball'\r\nimport { createGolf, applyGolfDart, GOLF_TARGETS } from '../game/golf'\r\nimport { createTicTacToe, tryClaimCell, TTT_TARGETS } from '../game/ticTacToe'\r\n\r\nexport default function OnlinePlay({ user }: { user?: any }) {\r\n  const wsGlobal = (() => { try { return useWS() } catch { return null } })()\r\n  const blocklist = useBlocklist()\r\n  const [roomId, setRoomId] = useState('room-1')\r\n  const [connected, setConnected] = useState(false)\r\n  const [chat, setChat] = useState<{from:string;message:string; fromId?: string}[]>([])\r\n  const [showQuick, setShowQuick] = useState(false)\r\n  const [showMessages, setShowMessages] = useState(false)\r\n  // Track last locally-sent chat to avoid duplicating when the server echoes it back\r\n  const lastSentChatRef = useRef<{ text: string; ts: number } | null>(null)\r\n  const [selfId, setSelfId] = useState<string | null>(null)\r\n  const wsRef = useRef<WebSocket | null>(null)\r\n  // Reconnect handling\r\n  const reconnectAttemptsRef = useRef(0)\r\n  const reconnectTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const shouldReconnectRef = useRef(true)\r\n  const lastToastRef = useRef(0)\r\n  const firstConnectDoneRef = useRef(false)\r\n  const match = useMatch()\r\n  const msgs = useMessages()\r\n  const { favoriteDouble, callerEnabled, callerVoice, callerVolume, speakCheckoutOnly, allowSpectate, cameraScale, setCameraScale } = useUserSettings()\r\n  // Turn-by-turn modal\r\n  const [showMatchModal, setShowMatchModal] = useState(false)\r\n  const [participants, setParticipants] = useState<string[]>([])\r\n  const [turnIdx, setTurnIdx] = useState(0)\r\n  const [visitScore, setVisitScore] = useState(0)\r\n  // Double Practice (online) minimal state synchronized via WS state payload\r\n  const [dpIndex, setDpIndex] = useState(0)\r\n  const [dpHits, setDpHits] = useState(0)\r\n  const [dpManual, setDpManual] = useState('')\r\n  // Around the Clock (online) minimal state\r\n  const [atcIndex, setAtcIndex] = useState(0)\r\n  const [atcHits, setAtcHits] = useState(0)\r\n  const [atcManual, setAtcManual] = useState('')\r\n  // Per-player states for premium games\r\n  const [cricketById, setCricketById] = useState<Record<string, ReturnType<typeof createCricketState>>>({})\r\n  const [shanghaiById, setShanghaiById] = useState<Record<string, ReturnType<typeof createShanghaiState>>>({})\r\n  const [halveById, setHalveById] = useState<Record<string, ReturnType<typeof createDefaultHalveIt>>>({})\r\n  const [highlowById, setHighlowById] = useState<Record<string, ReturnType<typeof createHighLow>>>({})\r\n  const [killerById, setKillerById] = useState<Record<string, ReturnType<typeof createKillerState>>>({})\r\n  const [amCricketById, setAmCricketById] = useState<Record<string, ReturnType<typeof createAmCricketState>>>({})\r\n  const [baseballById, setBaseballById] = useState<Record<string, ReturnType<typeof createBaseball>>>({})\r\n  const [golfById, setGolfById] = useState<Record<string, ReturnType<typeof createGolf>>>({})\r\n  const [ttt, setTTT] = useState<ReturnType<typeof createTicTacToe>>(() => createTicTacToe())\r\n  // Track darts this turn for non-X01 games to auto-advance after 3\r\n  const [turnDarts, setTurnDarts] = useState(0)\r\n  // View mode: compact player-by-player (mobile) vs full overview (desktop)\r\n  const [compactView, setCompactView] = useState<boolean>(() => {\r\n    try { const ua = navigator.userAgent || ''; return /Android|iPhone|iPad|iPod|Mobile/i.test(ua) } catch { return false }\r\n  })\r\n  // Ephemeral celebration overlay (e.g., 180), tied to the current player's turn\r\n  const [celebration, setCelebration] = useState<null | { kind: '180' | 'leg'; by: string; turnIdx: number; ts: number }>(null)\r\n  const lastCelebrationRef = useRef<{ kind: '180'|'leg'; by: string; ts: number } | null>(null)\r\n  const audioCtxRef = useRef<AudioContext | null>(null)\r\n  function ensureAudio() {\r\n    try {\r\n      if (!audioCtxRef.current) {\r\n        const Ctor: any = (window as any).AudioContext || (window as any).webkitAudioContext\r\n        if (Ctor) audioCtxRef.current = new Ctor()\r\n      }\r\n      audioCtxRef.current?.resume?.().catch(()=>{})\r\n    } catch {}\r\n  }\r\n  function beep(freq: number, durMs: number, whenS = 0, gain = 0.05) {\r\n    const ctx = audioCtxRef.current\r\n    if (!ctx) return\r\n    const o = ctx.createOscillator()\r\n    const g = ctx.createGain()\r\n    o.type = 'square'\r\n    o.frequency.value = freq\r\n    g.gain.value = gain\r\n    o.connect(g)\r\n    g.connect(ctx.destination)\r\n    const now = ctx.currentTime + whenS\r\n    o.start(now)\r\n    o.stop(now + durMs / 1000)\r\n  }\r\n  function playSting(kind: '180'|'leg') {\r\n    ensureAudio()\r\n    const ctx = audioCtxRef.current\r\n    if (!ctx) return\r\n    if (kind === '180') {\r\n      beep(880, 110, 0, 0.06); beep(1175, 110, 0.06, 0.06); beep(1568, 140, 0.12, 0.06)\r\n    } else {\r\n      beep(659, 140, 0, 0.07); beep(784, 140, 0.08, 0.07); beep(987, 200, 0.16, 0.07)\r\n    }\r\n  }\r\n  function triggerCelebration(kind: '180'|'leg', who: string) {\r\n    const now = Date.now()\r\n    const last = lastCelebrationRef.current\r\n    if (last && last.kind === kind && last.by === who && (now - last.ts) < 500) return\r\n    lastCelebrationRef.current = { kind, by: who, ts: now }\r\n    setCelebration({ kind, by: who, turnIdx: match.currentPlayerIdx, ts: now })\r\n    playSting(kind)\r\n  }\r\n  // Lobby & create-match state\r\n  const [showCreate, setShowCreate] = useState(false)\r\n  const [lobby, setLobby] = useState<any[]>([])\r\n  const [mode, setMode] = useState<'bestof'|'firstto'>('bestof')\r\n  const [modeValue, setModeValue] = useState<number>(5)\r\n  const [startScore, setStartScore] = useState<number>(501)\r\n  const [pendingInvite, setPendingInvite] = useState<any | null>(null)\r\n  const [errorMsg, setErrorMsg] = useState<string>('')\r\n  const [lastJoinIntent, setLastJoinIntent] = useState<any | null>(null)\r\n  const [offerNewRoom, setOfferNewRoom] = useState<null | { game: string; mode: 'bestof'|'firstto'; value: number; startingScore?: number }>(null)\r\n  const toast = useToast()\r\n  // Game selection\r\n  const [game, setGame] = useState<GameKey>('X01')\r\n  const [currentGame, setCurrentGame] = useState<GameKey>('X01')\r\n  const [requireCalibration, setRequireCalibration] = useState<boolean>(false)\r\n  const freeLeft = user?.username && !user?.fullAccess ? getFreeRemaining(user.username) : Infinity\r\n  const locked = !user?.fullAccess && (freeLeft <= 0)\r\n  // World Lobby filters\r\n  const [filterMode, setFilterMode] = useState<'all'|'bestof'|'firstto'>('all')\r\n  const [filterStart, setFilterStart] = useState<'all'|301|501|701>('all')\r\n  const [filterGame, setFilterGame] = useState<'all'|GameKey>('all')\r\n  const [nearAvg, setNearAvg] = useState(false)\r\n  const [avgTolerance, setAvgTolerance] = useState<number>(10)\r\n  const { H: calibH } = useCalibration()\r\n  const myAvg = user?.username ? getAllTimeAvg(user.username) : 0\r\n  const unread = useMessages(s => s.unread)\r\n  const filteredLobby = (lobby || []).filter((m:any) => {\r\n    if (filterMode !== 'all' && m.mode !== filterMode) return false\r\n    if (filterStart !== 'all' && Number(m.startingScore) !== Number(filterStart)) return false\r\n    if (filterGame !== 'all' && m.game !== filterGame) return false\r\n    if (nearAvg) {\r\n      if (!myAvg || !m.creatorAvg) return false\r\n      const diff = Math.abs(Number(m.creatorAvg) - Number(myAvg))\r\n      if (diff > avgTolerance) return false\r\n    }\r\n    return true\r\n  })\r\n\r\n  // Removed tournaments banner from Online; tournaments live in Tournaments tab only\r\n\r\n  // Demo: prefill Create Match modal from URL (ndn:online-demo)\r\n  useEffect(() => {\r\n    const handler = (e: any) => {\r\n      const d = e?.detail || {}\r\n      if (d.game) setGame(d.game)\r\n      if (d.mode === 'bestof' || d.mode === 'firstto') setMode(d.mode)\r\n      if (typeof d.value === 'number' && isFinite(d.value)) setModeValue(Math.max(1, Math.floor(d.value)))\r\n      if (typeof d.start === 'number' && isFinite(d.start)) setStartScore(Math.max(1, Math.floor(d.start)))\r\n      setShowCreate(true)\r\n    }\r\n    window.addEventListener('ndn:online-demo', handler as any)\r\n    return () => window.removeEventListener('ndn:online-demo', handler as any)\r\n  }, [])\r\n\r\n  // Load inbox on mount for the current user\r\n  useEffect(() => {\r\n    const email = String(user?.email || '').toLowerCase()\r\n    if (!email) return\r\n    fetch(`/api/friends/messages?email=${encodeURIComponent(email)}`).then(r=>r.json()).then(d=>{\r\n      if (d?.ok && Array.isArray(d.messages)) msgs.load(d.messages)\r\n    }).catch(()=>{})\r\n  }, [user?.email])\r\n\r\n  // Demo: open a populated Online Match view with fake data (local-only)\r\n  useEffect(() => {\r\n    const handler = (e: any) => {\r\n      try {\r\n        const d = e?.detail || {}\r\n        const start = Number(d.start || 501)\r\n        // Create a quick local match with two players\r\n        match.newMatch([user?.username || 'You', 'Opponent'], start, roomId)\r\n        // Seed a few visits to populate UI\r\n        match.addVisit(60, 3) // You\r\n        match.nextPlayer()\r\n        match.addVisit(85, 3) // Opponent\r\n        match.nextPlayer()\r\n        match.addVisit(100, 3) // You\r\n        setCurrentGame('X01')\r\n        setShowMatchModal(true)\r\n      } catch {}\r\n    }\r\n    window.addEventListener('ndn:online-match-demo', handler as any)\r\n    return () => window.removeEventListener('ndn:online-match-demo', handler as any)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // Auto-connect on mount and enable auto-reconnect\r\n    shouldReconnectRef.current = true\r\n    connect()\r\n    return () => {\r\n      shouldReconnectRef.current = false\r\n      if (reconnectTimerRef.current) { clearTimeout(reconnectTimerRef.current) }\r\n      try { wsRef.current?.close() } catch {}\r\n    }\r\n  }, [])\r\n\r\n  // Track in-game flag in messages store\r\n  useEffect(() => {\r\n    msgs.setInGame(match.inProgress)\r\n  }, [match.inProgress])\r\n\r\n  // Clear celebration as soon as turn advances to the next player\r\n  useEffect(() => {\r\n    if (celebration && match.currentPlayerIdx !== celebration.turnIdx) {\r\n      setCelebration(null)\r\n    }\r\n  }, [match.currentPlayerIdx, celebration?.turnIdx])\r\n\r\n  // If the user changes the spectate preference, push updated presence to the server\r\n  useEffect(() => {\r\n    try {\r\n      if (wsGlobal && wsGlobal.connected) {\r\n        wsGlobal.send({ type: 'presence', username: user?.username || 'guest', email: (user?.email||'').toLowerCase(), allowSpectate })\r\n      } else if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(JSON.stringify({ type: 'presence', username: user?.username || 'guest', email: (user?.email||'').toLowerCase(), allowSpectate }))\r\n      }\r\n    } catch {}\r\n  }, [allowSpectate, wsGlobal?.connected])\r\n\r\n  // Spectator flow: listen to spectate events from Friends and join room as readonly\r\n  useEffect(() => {\r\n    const onSpectate = (e: any) => {\r\n      const rid = e?.detail?.roomId\r\n      if (!rid) return\r\n      setRoomId(rid)\r\n      // send spectate message\r\n      if (wsGlobal) wsGlobal.send({ type: 'spectate', roomId: rid })\r\n      else wsRef.current?.send(JSON.stringify({ type: 'spectate', roomId: rid }))\r\n      setShowMatchModal(true)\r\n      setShowCreate(false)\r\n    }\r\n    window.addEventListener('ndn:spectate-room', onSpectate as any)\r\n    return () => window.removeEventListener('ndn:spectate-room', onSpectate as any)\r\n  }, [wsGlobal])\r\n\r\n  function connect() {\r\n    if (wsGlobal) {\r\n      // If global provider exists, rely on it for connection and just send initial commands\r\n      if (wsGlobal.connected) {\r\n        wsGlobal.send({ type: 'join', roomId })\r\n  wsGlobal.send({ type: 'presence', username: user?.username || 'guest', email: (user?.email||'').toLowerCase(), allowSpectate })\r\n        wsGlobal.send({ type: 'list-matches' })\r\n        setConnected(true)\r\n      }\r\n      return\r\n    }\r\n    // Avoid duplicate sockets\r\n    try { if (wsRef.current && (wsRef.current.readyState === WebSocket.OPEN || wsRef.current.readyState === WebSocket.CONNECTING)) return } catch {}\r\n  const envUrl = (import.meta as any).env?.VITE_WS_URL as string | undefined\r\n  const proto = (window.location.protocol === 'https:' ? 'wss' : 'ws')\r\n  const host = window.location.hostname\r\n  const fallback = `${proto}://${host}${window.location.port ? '' : ':8787'}`\r\n  const url = envUrl && typeof envUrl === 'string' && envUrl.length > 0 ? envUrl : fallback\r\n  const ws = new WebSocket(url)\r\n    wsRef.current = ws\r\n    ws.onopen = () => {\r\n      setConnected(true)\r\n      // Reset backoff\r\n      reconnectAttemptsRef.current = 0\r\n      if (!firstConnectDoneRef.current) {\r\n        toast('Connected to lobby', { type: 'success' })\r\n        firstConnectDoneRef.current = true\r\n      } else {\r\n        toast('Reconnected to lobby', { type: 'success' })\r\n      }\r\n    ws.send(JSON.stringify({ type: 'join', roomId }))\r\n    // send presence\r\n  ws.send(JSON.stringify({ type: 'presence', username: user?.username || 'guest', email: (user?.email||'').toLowerCase(), allowSpectate }))\r\n      // fetch current lobby\r\n      ws.send(JSON.stringify({ type: 'list-matches' }))\r\n    }\r\n    ws.onmessage = (ev) => {\r\n      const data = JSON.parse(ev.data)\r\n      if (data.type === 'state') {\r\n        match.importState(data.payload)\r\n        // Pull Double Practice progress if present\r\n        const di = Number((data.payload as any)._dpIndex)\r\n        const dh = Number((data.payload as any)._dpHits)\r\n        if (Number.isFinite(di)) setDpIndex(Math.max(0, di))\r\n        if (Number.isFinite(dh)) setDpHits(Math.max(0, dh))\r\n        // Pull Around the Clock progress if present\r\n        const ai = Number((data.payload as any)._atcIndex)\r\n        const ah = Number((data.payload as any)._atcHits)\r\n        if (Number.isFinite(ai)) setAtcIndex(Math.max(0, ai))\r\n        if (Number.isFinite(ah)) setAtcHits(Math.max(0, ah))\r\n        // Premium per-player states\r\n        try {\r\n          const _cr = (data.payload as any)._cricketById\r\n          if (_cr && typeof _cr === 'object') setCricketById(_cr)\r\n        } catch {}\r\n        try {\r\n          const _sh = (data.payload as any)._shanghaiById\r\n          if (_sh && typeof _sh === 'object') setShanghaiById(_sh)\r\n        } catch {}\r\n        try {\r\n          const _hv = (data.payload as any)._halveById\r\n          if (_hv && typeof _hv === 'object') setHalveById(_hv)\r\n        } catch {}\r\n        try {\r\n          const _hl = (data.payload as any)._highlowById\r\n          if (_hl && typeof _hl === 'object') setHighlowById(_hl)\r\n        } catch {}\r\n        try {\r\n          const _kr = (data.payload as any)._killerById\r\n          if (_kr && typeof _kr === 'object') setKillerById(_kr)\r\n        } catch {}\r\n        try { const _am = (data.payload as any)._amCricketById; if (_am && typeof _am === 'object') setAmCricketById(_am) } catch {}\r\n        try { const _bb = (data.payload as any)._baseballById; if (_bb && typeof _bb === 'object') setBaseballById(_bb) } catch {}\r\n        try { const _gf = (data.payload as any)._golfById; if (_gf && typeof _gf === 'object') setGolfById(_gf) } catch {}\r\n        try { const _tt = (data.payload as any)._tttState; if (_tt && typeof _tt === 'object') setTTT(_tt) } catch {}\r\n        try {\r\n          const _td = Number((data.payload as any)._turnDarts)\r\n          if (Number.isFinite(_td)) setTurnDarts(Math.max(0, _td))\r\n        } catch {}\r\n      } else if (data.type === 'joined') {\r\n        // joined room; keep our assigned id to label messages\r\n        if (data.id) setSelfId(data.id)\r\n      } else if (data.type === 'presence' || data.type === 'peer-joined') {\r\n        // Maintain a simple list of participant ids. In a real app we would map id->username.\r\n        setParticipants(prev => {\r\n          const set = new Set(prev)\r\n          if (data.id) set.add(data.id)\r\n          return Array.from(set)\r\n        })\r\n      } else if (data.type === 'chat') {\r\n        const isSelf = !!(data.from && selfId && data.from === selfId)\r\n        const label = isSelf ? (user?.username || 'me') : (data.from || 'peer')\r\n        const idKey = String(data.from || '')\r\n        // Skip messages from blocked senders (only applies to non-self)\r\n        if (!isSelf && idKey && blocklist.isBlocked(idKey)) return\r\n        // De-dupe if this is our own recently-sent quick message already appended locally\r\n        if (isSelf && lastSentChatRef.current && String(data.message||'') === lastSentChatRef.current.text) {\r\n          // Clear marker and do not append again\r\n          lastSentChatRef.current = null\r\n          return\r\n        }\r\n        setChat(prev => [...prev, { from: label, message: data.message, fromId: idKey || undefined }])\r\n      } else if (data.type === 'matches') {\r\n        setLobby(Array.isArray(data.matches) ? data.matches : [])\r\n      } else if (data.type === 'invite') {\r\n        setPendingInvite({ matchId: data.matchId, fromId: data.fromId, fromName: data.fromName, calibrated: !!data.calibrated, boardPreview: data.boardPreview || null, game: data.game, mode: data.mode, value: data.value, startingScore: data.startingScore })\r\n      } else if (data.type === 'match-start') {\r\n        // Both parties received a room id to join\r\n        setRoomId(data.roomId)\r\n        // Auto-join the room\r\n        ws.send(JSON.stringify({ type: 'join', roomId: data.roomId }))\r\n        setShowMatchModal(true)\r\n        setShowCreate(false)\r\n        if (data.match?.game) setCurrentGame(data.match.game)\r\n        // Consume a free game for non-premium users\r\n        if (user?.username && !user?.fullAccess) {\r\n          incOnlineUsage(user.username)\r\n        }\r\n      } else if (data.type === 'declined') {\r\n        toast('Invite declined', { type: 'info' })\r\n      } else if (data.type === 'error') {\r\n        const msg = typeof data.message === 'string' ? data.message : 'Action not allowed'\r\n        setErrorMsg(msg)\r\n        if (data.code === 'SPECTATE_NOT_ALLOWED') {\r\n          try { toast('This player has spectating turned off.', { type: 'error' }) } catch {}\r\n        }\r\n        if (data.code === 'NOT_FOUND' && lastJoinIntent) {\r\n          setOfferNewRoom({\r\n            game: lastJoinIntent.game,\r\n            mode: lastJoinIntent.mode,\r\n            value: lastJoinIntent.value,\r\n            startingScore: lastJoinIntent.startingScore,\r\n          })\r\n        }\r\n        // auto-clear after a bit\r\n        setTimeout(()=>setErrorMsg(''), 3500)\r\n      } else if (data.type === 'friend-invite') {\r\n        const accept = confirm(`${data.fromName || data.fromEmail} invited you to play ${data.game || 'X01'} (${data.mode==='firstto'?'First To':'Best Of'} ${data.value||1}${(data.game==='X01' && data.startingScore)?`  ${data.startingScore}`:''}). Accept?`)\r\n        if (accept) {\r\n          ws.send(JSON.stringify({ type: 'start-friend-match', toEmail: data.fromEmail, game: data.game, mode: data.mode, value: data.value, startingScore: data.startingScore }))\r\n        } else {\r\n          toast('Invite declined', { type: 'info' })\r\n        }\r\n      } else if (data.type === 'friend-message') {\r\n        msgs.add({ id: data.id || `${data.ts}-${data.from}`, from: data.from, message: data.message, ts: data.ts || Date.now() })\r\n        // Show toast only if not currently in a game\r\n        if (!match.inProgress) toast(`${data.from}: ${data.message}`, { type: 'info' })\r\n      } else if (data.type === 'celebration') {\r\n        const who = data.by || 'Player'\r\n        const kind = data.kind === 'leg' ? 'leg' : '180'\r\n        triggerCelebration(kind, who)\r\n      }\r\n    }\r\n    ws.onclose = () => {\r\n      setConnected(false)\r\n      // Auto-reconnect with exponential backoff\r\n      if (!shouldReconnectRef.current) return\r\n      const attempt = (reconnectAttemptsRef.current || 0) + 1\r\n      reconnectAttemptsRef.current = attempt\r\n      const delay = Math.min(30000, 1000 * Math.pow(2, attempt - 1))\r\n      const now = Date.now()\r\n      if (now - lastToastRef.current > 4000) {\r\n        toast(`Disconnected. Reconnecting in ${Math.round(delay/1000)}s...`, { type: 'error' })\r\n        lastToastRef.current = now\r\n      }\r\n      if (reconnectTimerRef.current) clearTimeout(reconnectTimerRef.current)\r\n      reconnectTimerRef.current = setTimeout(() => {\r\n        connect()\r\n      }, delay)\r\n    }\r\n  }\r\n  // Small helper to render the match summary card\r\n  function RenderMatchSummary() {\r\n    const players = match.players || []\r\n    const curIdx = match.currentPlayerIdx || 0\r\n    const cur = players[curIdx]\r\n    const leg = cur?.legs?.[cur?.legs?.length - 1]\r\n    const remaining = leg ? leg.totalScoreRemaining : match.startingScore\r\n    const darts = leg?.dartsThrown || 0\r\n    const scored = leg ? (leg.totalScoreStart - leg.totalScoreRemaining) : 0\r\n    const avg3 = darts > 0 ? ((scored / darts) * 3) : 0\r\n    const lastScore = leg?.visits?.[leg.visits.length-1]?.score ?? 0\r\n    let matchScore = ''\r\n    if (players.length === 2) {\r\n      matchScore = `${players[0]?.legsWon || 0}-${players[1]?.legsWon || 0}`\r\n    } else if (players.length > 2) {\r\n      matchScore = players.map(p => `${p.name}:${p.legsWon||0}`).join('  ')\r\n    }\r\n    const best = match.bestLegThisMatch\r\n    const bestText = best ? `${best.darts} darts${(() => { const p = players.find(x=>x.id===best.playerId); return p?` (${p.name})`:'' })()}` : ''\r\n    return (\r\n      <div className=\"p-3 rounded-2xl bg-slate-900/40 border border-white/10 text-white text-sm\">\r\n        <div className=\"font-semibold mb-2\">Match Summary</div>\r\n        <div className=\"grid grid-cols-2 gap-y-1\">\r\n          <div className=\"opacity-80\">Current score</div>\r\n          <div className=\"font-mono text-right\">{matchScore}</div>\r\n          <div className=\"opacity-80\">Current thrower</div>\r\n          <div className=\"text-right font-semibold\">{cur?.name || ''}</div>\r\n          <div className=\"opacity-80\">Score remaining</div>\r\n          <div className=\"text-right font-mono\">{remaining}</div>\r\n          <div className=\"opacity-80\">3-dart avg</div>\r\n          <div className=\"text-right font-mono\">{avg3.toFixed(1)}</div>\r\n          <div className=\"opacity-80\">Last score</div>\r\n          <div className=\"text-right font-mono\">{lastScore}</div>\r\n          <div className=\"opacity-80\">Best leg</div>\r\n          <div className=\"text-right\">{bestText}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Subscribe to global WS messages if available\r\n  useEffect(() => {\r\n    if (!wsGlobal) return\r\n    setConnected(wsGlobal.connected)\r\n    const unsub = wsGlobal.addListener((data) => {\r\n      try {\r\n        if (data.type === 'state') {\r\n          match.importState(data.payload)\r\n          // Pull synchronized premium states (when using WS provider)\r\n          try {\r\n            const di = Number((data.payload as any)._dpIndex); const dh = Number((data.payload as any)._dpHits)\r\n            if (Number.isFinite(di)) setDpIndex(Math.max(0, di))\r\n            if (Number.isFinite(dh)) setDpHits(Math.max(0, dh))\r\n          } catch {}\r\n          try {\r\n            const ai = Number((data.payload as any)._atcIndex); const ah = Number((data.payload as any)._atcHits)\r\n            if (Number.isFinite(ai)) setAtcIndex(Math.max(0, ai))\r\n            if (Number.isFinite(ah)) setAtcHits(Math.max(0, ah))\r\n          } catch {}\r\n          try { const _cr = (data.payload as any)._cricketById; if (_cr && typeof _cr === 'object') setCricketById(_cr) } catch {}\r\n          try { const _sh = (data.payload as any)._shanghaiById; if (_sh && typeof _sh === 'object') setShanghaiById(_sh) } catch {}\r\n          try { const _hv = (data.payload as any)._halveById; if (_hv && typeof _hv === 'object') setHalveById(_hv) } catch {}\r\n          try { const _hl = (data.payload as any)._highlowById; if (_hl && typeof _hl === 'object') setHighlowById(_hl) } catch {}\r\n          try { const _kr = (data.payload as any)._killerById; if (_kr && typeof _kr === 'object') setKillerById(_kr) } catch {}\r\n          // Phase 2\r\n          try { const _am = (data.payload as any)._amCricketById; if (_am && typeof _am === 'object') setAmCricketById(_am) } catch {}\r\n          try { const _bb = (data.payload as any)._baseballById; if (_bb && typeof _bb === 'object') setBaseballById(_bb) } catch {}\r\n          try { const _gf = (data.payload as any)._golfById; if (_gf && typeof _gf === 'object') setGolfById(_gf) } catch {}\r\n          try { const _tt = (data.payload as any)._tttState; if (_tt && typeof _tt === 'object') setTTT(_tt) } catch {}\r\n          try { const _td = Number((data.payload as any)._turnDarts); if (Number.isFinite(_td)) setTurnDarts(Math.max(0, _td)) } catch {}\r\n        } else if (data.type === 'joined') {\r\n          if (data.id) setSelfId(data.id)\r\n        } else if (data.type === 'presence' || data.type === 'peer-joined') {\r\n          setParticipants(prev => Array.from(new Set([...(prev||[]), data.id].filter(Boolean))))\r\n        } else if (data.type === 'chat') {\r\n          const isSelf = !!(data.from && selfId && data.from === selfId)\r\n          const label = isSelf ? (user?.username || 'me') : (data.from || 'peer')\r\n          const idKey = String(data.from || '')\r\n          if (!isSelf && idKey && blocklist.isBlocked(idKey)) return\r\n          setChat(prev => [...prev, { from: label, message: data.message, fromId: idKey || undefined }])\r\n        } else if (data.type === 'matches') {\r\n          setLobby(Array.isArray(data.matches) ? data.matches : [])\r\n        } else if (data.type === 'invite') {\r\n          setPendingInvite({ matchId: data.matchId, fromId: data.fromId, fromName: data.fromName, calibrated: !!data.calibrated, boardPreview: data.boardPreview || null, game: data.game, mode: data.mode, value: data.value, startingScore: data.startingScore })\r\n        } else if (data.type === 'match-start') {\r\n          setRoomId(data.roomId)\r\n          wsGlobal.send({ type: 'join', roomId: data.roomId })\r\n          setShowMatchModal(true)\r\n          setShowCreate(false)\r\n          if (data.match?.game) setCurrentGame(data.match.game)\r\n          if (user?.username && !user?.fullAccess) {\r\n            incOnlineUsage(user.username)\r\n          }\r\n        } else if (data.type === 'declined') {\r\n          toast('Invite declined', { type: 'info' })\r\n        } else if (data.type === 'error') {\r\n          const msg = typeof data.message === 'string' ? data.message : 'Action not allowed'\r\n          setErrorMsg(msg)\r\n          if (data.code === 'SPECTATE_NOT_ALLOWED') {\r\n            try { toast('This player has spectating turned off.', { type: 'error' }) } catch {}\r\n          }\r\n          if (data.code === 'NOT_FOUND' && lastJoinIntent) {\r\n            setOfferNewRoom({\r\n              game: lastJoinIntent.game,\r\n              mode: lastJoinIntent.mode,\r\n              value: lastJoinIntent.value,\r\n              startingScore: lastJoinIntent.startingScore,\r\n            })\r\n          }\r\n          setTimeout(()=>setErrorMsg(''), 3500)\r\n        } else if (data.type === 'friend-invite') {\r\n          const accept = confirm(`${data.fromName || data.fromEmail} invited you to play ${data.game || 'X01'} (${data.mode==='firstto'?'First To':'Best Of'} ${data.value||1}${(data.game==='X01' && data.startingScore)?`  ${data.startingScore}`:''}). Accept?`)\r\n          if (accept) {\r\n            wsGlobal.send({ type: 'start-friend-match', toEmail: data.fromEmail, game: data.game, mode: data.mode, value: data.value, startingScore: data.startingScore })\r\n          } else {\r\n            toast('Invite declined', { type: 'info' })\r\n          }\r\n        } else if (data.type === 'friend-message') {\r\n          msgs.add({ id: data.id || `${data.ts}-${data.from}`, from: data.from, message: data.message, ts: data.ts || Date.now() })\r\n          if (!match.inProgress) toast(`${data.from}: ${data.message}`, { type: 'info' })\r\n        } else if (data.type === 'celebration') {\r\n          const who = data.by || 'Player'\r\n          const kind = data.kind === 'leg' ? 'leg' : '180'\r\n          triggerCelebration(kind, who)\r\n        }\r\n      } catch {}\r\n    })\r\n    // On connect, join and load lobby\r\n    if (wsGlobal.connected) {\r\n      wsGlobal.send({ type: 'join', roomId })\r\n  wsGlobal.send({ type: 'presence', username: user?.username || 'guest', email: (user?.email||'').toLowerCase(), allowSpectate })\r\n      wsGlobal.send({ type: 'list-matches' })\r\n    }\r\n    return () => { unsub() }\r\n  }, [wsGlobal?.connected])\r\n\r\n  function sendState() {\r\n    if (wsGlobal) {\r\n  wsGlobal.send({ type: 'state', payload: { ...match, _turnIdx: turnIdx, _participants: participants, _dpIndex: dpIndex, _dpHits: dpHits, _atcIndex: atcIndex, _atcHits: atcHits, _cricketById: cricketById, _shanghaiById: shanghaiById, _halveById: halveById, _highlowById: highlowById, _killerById: killerById, _amCricketById: amCricketById, _baseballById: baseballById, _golfById: golfById, _tttState: ttt, _turnDarts: turnDarts } })\r\n      return\r\n    }\r\n    const ws = wsRef.current\r\n    if (!ws || ws.readyState !== WebSocket.OPEN) return\r\n  ws.send(JSON.stringify({ type: 'state', payload: { ...match, _turnIdx: turnIdx, _participants: participants, _dpIndex: dpIndex, _dpHits: dpHits, _atcIndex: atcIndex, _atcHits: atcHits, _cricketById: cricketById, _shanghaiById: shanghaiById, _halveById: halveById, _highlowById: highlowById, _killerById: killerById, _amCricketById: amCricketById, _baseballById: baseballById, _golfById: golfById, _tttState: ttt, _turnDarts: turnDarts } }))\r\n  }\r\n\r\n  function sendQuick(msg: string) {\r\n    const label = user?.username || 'me'\r\n    // Optimistically append locally for snappy UX\r\n    setChat(prev => [...prev, { from: label, message: msg, fromId: selfId || 'self' }])\r\n    lastSentChatRef.current = { text: msg, ts: Date.now() }\r\n    if (wsGlobal) {\r\n      wsGlobal.send({ type: 'chat', message: msg })\r\n      return\r\n    }\r\n    const ws = wsRef.current\r\n    if (!ws || ws.readyState !== WebSocket.OPEN) return\r\n    ws.send(JSON.stringify({ type: 'chat', message: msg }))\r\n  }\r\n\r\n  // Double Practice handlers\r\n  function addDpValue(dart: number) {\r\n    const hit = isDoubleHit(dart, dpIndex)\r\n    if (hit) {\r\n      const newHits = dpHits + 1\r\n      const nextIdx = dpIndex + 1\r\n      setDpHits(newHits)\r\n      setDpIndex(nextIdx)\r\n      // Celebrate completion locally\r\n      try {\r\n        if (newHits >= DOUBLE_PRACTICE_ORDER.length) {\r\n          const who = match.players[match.currentPlayerIdx]?.name || 'Player'\r\n          triggerCelebration('leg', who)\r\n          // Reset for another round\r\n          setDpHits(0)\r\n          setDpIndex(0)\r\n        }\r\n      } catch {}\r\n    }\r\n    // Sync to peers\r\n    sendState()\r\n  }\r\n  function addDpNumeric() {\r\n    const v = Math.max(0, Math.floor(visitScore|0))\r\n    addDpValue(v)\r\n    setVisitScore(0)\r\n  }\r\n  function addDpManual() {\r\n    const val = parseManualDart(dpManual)\r\n    if (val == null) return\r\n    addDpValue(val)\r\n    setDpManual('')\r\n  }\r\n\r\n  // Around the Clock handlers\r\n  function isAtcHit(val: number, ring?: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const target = ATC_ORDER[atcIndex]\r\n    if (target == null) return false\r\n    if (typeof sector === 'number' && sector >= 1 && sector <= 20) {\r\n      if (sector === target && (ring === 'SINGLE' || ring === 'DOUBLE' || ring === 'TRIPLE')) return true\r\n    }\r\n    if (target === 25) {\r\n      return ring === 'BULL' || val === 25\r\n    }\r\n    if (target === 50) {\r\n      return ring === 'INNER_BULL' || val === 50\r\n    }\r\n    return val === target || val === target * 2 || val === target * 3\r\n  }\r\n  function addAtcValue(val: number, ring?: 'MISS'|'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    if (isAtcHit(val, ring, sector)) {\r\n      const newHits = atcHits + 1\r\n      const nextIdx = atcIndex + 1\r\n      setAtcHits(newHits)\r\n      setAtcIndex(nextIdx)\r\n      try {\r\n        if (newHits >= ATC_ORDER.length) {\r\n          const who = match.players[match.currentPlayerIdx]?.name || 'Player'\r\n          triggerCelebration('leg', who)\r\n          setAtcHits(0)\r\n          setAtcIndex(0)\r\n        }\r\n      } catch {}\r\n    }\r\n    sendState()\r\n  }\r\n  function addAtcNumeric() {\r\n    const v = Math.max(0, Math.floor(visitScore|0))\r\n    addAtcValue(v)\r\n    setVisitScore(0)\r\n  }\r\n  function addAtcManual() {\r\n    const val = parseManualDart(atcManual)\r\n    if (val == null) return\r\n    addAtcValue(val)\r\n    setAtcManual('')\r\n  }\r\n\r\n  // Helpers for premium modes\r\n  function currentPlayerId(): string {\r\n    const p = match.players[match.currentPlayerIdx]\r\n    return p?.id ?? String(match.currentPlayerIdx)\r\n  }\r\n  // Ensure state exists for a given player id\r\n  function ensureCricket(pid: string) {\r\n    if (!cricketById[pid]) setCricketById(s => ({ ...s, [pid]: createCricketState() }))\r\n  }\r\n  function ensureShanghai(pid: string) {\r\n    if (!shanghaiById[pid]) setShanghaiById(s => ({ ...s, [pid]: createShanghaiState() }))\r\n  }\r\n  function ensureHalve(pid: string) {\r\n    if (!halveById[pid]) setHalveById(s => ({ ...s, [pid]: createDefaultHalveIt() }))\r\n  }\r\n  function ensureHighLow(pid: string) {\r\n    if (!highlowById[pid]) setHighlowById(s => ({ ...s, [pid]: createHighLow() }))\r\n  }\r\n  function ensureKiller(pid: string) {\r\n    if (!killerById[pid]) {\r\n      // If any existing assignments, pick the highest density or default to pid index\r\n      const used = new Set<number>(Object.values(killerById || {}).map(s => s.number))\r\n      const pool: number[] = []\r\n      for (let i=1;i<=20;i++){ if (!used.has(i)) pool.push(i) }\r\n      const num = pool.length>0 ? pool[Math.floor(Math.random()*pool.length)] : 20\r\n      setKillerById(s => ({ ...s, [pid]: createKillerState(num, 3) }))\r\n    }\r\n  }\r\n  function ensureAmCricket(pid: string) {\r\n    if (!amCricketById[pid]) setAmCricketById(s => ({ ...s, [pid]: createAmCricketState() }))\r\n  }\r\n  function ensureBaseball(pid: string) {\r\n    if (!baseballById[pid]) setBaseballById(s => ({ ...s, [pid]: createBaseball() }))\r\n  }\r\n  function ensureGolf(pid: string) {\r\n    if (!golfById[pid]) setGolfById(s => ({ ...s, [pid]: createGolf() }))\r\n  }\r\n  // Resets darts count on player change for non-X01 games\r\n  useEffect(() => { setTurnDarts(0) }, [match.currentPlayerIdx, currentGame])\r\n\r\n  // Compute whether all opponents have closed a cricket number\r\n  function allOpponentsClosed(num: 15|16|17|18|19|20|25, selfId: string): boolean {\r\n    const opps = match.players.filter(p => p.id !== selfId)\r\n    if (opps.length === 0) return false\r\n    return opps.every(p => (cricketById[p.id]?.marks?.[num] || 0) >= 3)\r\n  }\r\n\r\n  function applyCricketAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureCricket(pid)\r\n    setCricketById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createCricketState()) }\r\n      const pts = applyCricketDart(st, value, ring, sector, (n)=>allOpponentsClosed(n, pid))\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) {\r\n      // end turn\r\n      setTurnDarts(0)\r\n      match.nextPlayer(); sendState()\r\n    } else { sendState() }\r\n  }\r\n\r\n  function applyShanghaiAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureShanghai(pid)\r\n    setShanghaiById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createShanghaiState()) }\r\n      applyShanghaiDart(st, value, ring, sector)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) {\r\n      setShanghaiById(prev => {\r\n        const copy = { ...prev }\r\n        const st = { ...(copy[pid] || createShanghaiState()) }\r\n        endShanghaiTurn(st)\r\n        copy[pid] = st\r\n        return copy\r\n      })\r\n      setTurnDarts(0)\r\n      match.nextPlayer(); sendState()\r\n    } else { sendState() }\r\n  }\r\n\r\n  function applyHalveAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureHalve(pid)\r\n    setHalveById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createDefaultHalveIt()) }\r\n      applyHalveItDart(st, value, ring, sector)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) {\r\n      setHalveById(prev => {\r\n        const copy = { ...prev }\r\n        const st = { ...(copy[pid] || createDefaultHalveIt()) }\r\n        endHalveItTurn(st)\r\n        copy[pid] = st\r\n        return copy\r\n      })\r\n      setTurnDarts(0)\r\n      match.nextPlayer(); sendState()\r\n    } else { sendState() }\r\n  }\r\n\r\n  function applyHighLowAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureHighLow(pid)\r\n    setHighlowById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createHighLow()) }\r\n      applyHighLowDart(st, value, ring, sector)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) {\r\n      setHighlowById(prev => {\r\n        const copy = { ...prev }\r\n        const st = { ...(copy[pid] || createHighLow()) }\r\n        endHighLowTurn(st)\r\n        copy[pid] = st\r\n        return copy\r\n      })\r\n      setTurnDarts(0)\r\n      match.nextPlayer(); sendState()\r\n    } else { sendState() }\r\n  }\r\n\r\n  function applyKillerAuto(ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    // Ensure every player has an assignment before applying\r\n    match.players.forEach(p => ensureKiller(p.id))\r\n    setKillerById(prev => {\r\n      const copy: Record<string, ReturnType<typeof createKillerState>> = {}\r\n      for (const [id, st] of Object.entries(prev)) copy[id] = { ...st }\r\n      const res = applyKillerDart(pid, copy, ring, sector)\r\n      // Trigger simple winner check\r\n      const win = killerWinner(copy)\r\n      if (win) {\r\n        try { triggerCelebration('leg', match.players.find(p=>p.id===win)?.name || 'Player') } catch {}\r\n      }\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) { setTurnDarts(0); match.nextPlayer(); sendState() } else { sendState() }\r\n  }\r\n\r\n  function applyAmCricketAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureAmCricket(pid)\r\n    setAmCricketById(prev => {\r\n      const copy = { ...prev }\r\n      const base = (copy[pid] || createAmCricketState())\r\n      const st: ReturnType<typeof createAmCricketState> = { ...(base as any) }\r\n      const oppClosed = (n: 12|13|14|15|16|17|18|19|20|25) => match.players.filter(p=>p.id!==pid).every(p => (((amCricketById[p.id]?.marks as any)?.[n]||0) >= 3))\r\n      applyAmCricketDart(st, value, ring, sector, oppClosed)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) { setTurnDarts(0); match.nextPlayer(); sendState() } else { sendState() }\r\n  }\r\n\r\n  function applyBaseballAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureBaseball(pid)\r\n    setBaseballById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createBaseball()) }\r\n      applyBaseballDart(st, value, ring as any, sector)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) { setTurnDarts(0); match.nextPlayer(); sendState() } else { sendState() }\r\n  }\r\n\r\n  function applyGolfAuto(value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE', sector?: number | null) {\r\n    const pid = currentPlayerId()\r\n    ensureGolf(pid)\r\n    setGolfById(prev => {\r\n      const copy = { ...prev }\r\n      const st = { ...(copy[pid] || createGolf()) }\r\n      applyGolfDart(st, value, ring as any, sector)\r\n      copy[pid] = st\r\n      return copy\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) { setTurnDarts(0); match.nextPlayer(); sendState() } else { sendState() }\r\n  }\r\n\r\n  function applyTttAuto(cell: number, value: number, ring?: 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL', sector?: number | null) {\r\n    setTTT(prev => {\r\n      const cp = { ...prev, board: [...prev.board] as any }\r\n      tryClaimCell(cp as any, (cell as any), value, ring as any, sector)\r\n      return cp as any\r\n    })\r\n    const nd = turnDarts + 1\r\n    setTurnDarts(nd)\r\n    if (nd >= 3) { setTurnDarts(0); match.nextPlayer(); sendState() } else { sendState() }\r\n  }\r\n\r\n  // Open/close Manual Correction dialog in CameraView\r\n  function openManual() { try { window.dispatchEvent(new Event('ndn:open-manual' as any)) } catch {} }\r\n  function closeManual() { try { window.dispatchEvent(new Event('ndn:close-manual' as any)) } catch {} }\r\n\r\n  // Helper to submit a manual visit with shared logic\r\n  function submitVisitManual(v: number) {\r\n    const score = Math.max(0, v | 0)\r\n    match.addVisit(score, 3)\r\n    setVisitScore(0)\r\n    const p = match.players[match.currentPlayerIdx]\r\n    const leg = p.legs[p.legs.length - 1]\r\n    // Instant celebration locally\r\n    try {\r\n      if (score === 180) triggerCelebration('180', p?.name || 'Player')\r\n      if (leg && leg.totalScoreRemaining === 0) triggerCelebration('leg', p?.name || 'Player')\r\n    } catch {}\r\n    if (leg && leg.totalScoreRemaining === 0) { match.endLeg(score) } else { match.nextPlayer() }\r\n    if (callerEnabled) {\r\n      const rem = leg ? leg.totalScoreRemaining : match.startingScore\r\n      sayScore(user?.username || 'Player', score, Math.max(0, rem), callerVoice, { volume: callerVolume, checkoutOnly: speakCheckoutOnly })\r\n    }\r\n    if (user?.username && p?.name === user.username) { addSample(user.username, 3, score) }\r\n    sendState()\r\n  }\r\n\r\n  function reportMessage(offenderId: string | null, text: string) {\r\n    const payload: any = { type: 'report', offenderId, reason: 'Inappropriate language', message: text }\r\n    try { if (wsGlobal) wsGlobal.send(payload); else wsRef.current?.send(JSON.stringify(payload)) } catch {}\r\n    try { toast('Report submitted', { type: 'info' }) } catch {}\r\n  }\r\n\r\n  function isMobileLike() {\r\n    if (typeof navigator === 'undefined') return false\r\n    const ua = navigator.userAgent || ''\r\n    return /Android|iPhone|iPad|iPod|Mobile/i.test(ua)\r\n  }\r\n\r\n  // Try to take a quick camera snapshot to show to the match creator (non-blocking)\r\n  async function getBoardPreview(): Promise<string | null> {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false })\r\n      const track = stream.getVideoTracks?.()[0]\r\n      // Create a hidden video element to draw a frame\r\n      const video = document.createElement('video')\r\n      video.srcObject = stream\r\n      await video.play().catch(()=>{})\r\n      // Wait a moment for first frame\r\n      await new Promise(r => setTimeout(r, 120))\r\n      const w = Math.min(320, video.videoWidth || 320)\r\n      const h = Math.max(1, Math.floor((video.videoHeight || 180) * (w / Math.max(1, video.videoWidth || 320))))\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = w; canvas.height = h\r\n      const ctx = canvas.getContext('2d')!\r\n      ctx.drawImage(video, 0, 0, w, h)\r\n      const url = canvas.toDataURL('image/jpeg', 0.7)\r\n      // Cleanup\r\n      try { if (track) track.stop() } catch {}\r\n      try { (stream as any).getTracks?.().forEach((t:any)=>t.stop()) } catch {}\r\n      return url\r\n    } catch {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card flex flex-col min-h-[85vh] relative overflow-hidden\">\r\n      <h2 className=\"text-xl font-semibold mb-1\">Online Play</h2>\r\n      {unread > 0 && !match.inProgress && (\r\n        <div className=\"mb-3 text-sm px-3 py-2 rounded bg-amber-600/30 border border-amber-500/40\">\r\n          You have {unread} unread message{unread>1?'s':''}. Check the Friends tab.\r\n        </div>\r\n      )}\r\n      <div className=\"relative\">\r\n        <div className=\"rounded-2xl bg-white/5 backdrop-blur border border-white/10 p-2 flex items-center gap-2 overflow-x-auto no-scrollbar\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-xs opacity-70 shrink-0\">Room</label>\r\n            <input className=\"input w-28\" value={roomId} onChange={e => setRoomId(e.target.value)} placeholder=\"room-1\" />\r\n          </div>\r\n          {connected ? (\r\n            <span className=\"text-[11px] px-2 py-1 rounded-full bg-emerald-600/20 text-emerald-200 border border-emerald-400/40 shrink-0\">Connected</span>\r\n          ) : (\r\n            <button className=\"btn bg-rose-600 hover:bg-rose-700 shrink-0\" onClick={connect}>Connect</button>\r\n          )}\r\n          <button className=\"btn shrink-0\" onClick={sendState} disabled={!connected}>Sync</button>\r\n          <button\r\n            className=\"text-[11px] px-3 py-1 rounded-full bg-indigo-500/25 text-indigo-100 border border-indigo-400/40 hover:bg-indigo-500/40 shrink-0\"\r\n            title=\"Open a simulated online match demo\"\r\n            onClick={() => { try { window.dispatchEvent(new CustomEvent('ndn:online-match-demo', { detail: { game: 'X01', start: 501 } })) } catch {} }}\r\n          >DEMO</button>\r\n          {connected && (\r\n            <button className=\"btn shrink-0\" onClick={() => setShowMatchModal(true)} disabled={locked} title={locked ? 'Weekly free games used' : ''}>Open Match</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* Create Match+ box (top-right area) */}\r\n      <div\r\n        className={`mt-3 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40 flex items-center justify-end ${(!connected || locked) ? 'opacity-60 cursor-not-allowed' : 'cursor-pointer'}`}\r\n        role=\"button\"\r\n        title={!connected ? 'Connect to the lobby first' : (locked ? 'Weekly free games used' : 'Create a new match')}\r\n        onClick={() => {\r\n          if (!connected || locked) return\r\n          setShowCreate(true)\r\n          if (wsGlobal) wsGlobal.send({ type: 'list-matches' })\r\n          else wsRef.current?.send(JSON.stringify({ type: 'list-matches' }))\r\n        }}\r\n      >\r\n        <button className=\"btn\" disabled={!connected || locked}>Create Match +</button>\r\n      </div>\r\n      <p className=\"text-sm text-slate-600 mt-3\">Open this app on another device and join the same Room ID to sync scores.</p>\r\n      {!user?.fullAccess && (\r\n        <div className=\"text-xs text-slate-400 mt-1\">Weekly free online games remaining: {freeLeft === Infinity ? '' : freeLeft}</div>\r\n      )}\r\n      {(!user?.fullAccess && freeLeft !== Infinity && freeLeft <= 0) && (\r\n        <div className=\"mt-2 p-2 rounded-lg bg-rose-700/30 border border-rose-600/40 text-rose-200 text-sm\">You've used your 3 free online games this week. PREMIUM required to continue.</div>\r\n      )}\r\n      {errorMsg && (\r\n        <div className=\"mt-2 p-2 rounded-lg bg-amber-700/30 border border-amber-600/40 text-amber-200 text-sm\">{errorMsg}</div>\r\n      )}\r\n      {offerNewRoom && (\r\n        <div className=\"mt-2 p-2 rounded-lg bg-indigo-700/30 border border-indigo-600/40 text-indigo-100 text-sm flex items-center justify-between gap-2\">\r\n          <div>That room is full or no longer available. Create a new clean room with the same settings?</div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{\r\n              const { game, mode, value, startingScore } = offerNewRoom\r\n              const creatorAvg = user?.username ? getAllTimeAvg(user.username) : 0\r\n              if (wsGlobal) {\r\n                wsGlobal.send({ type: 'create-match', game, mode, value, startingScore: startingScore || 501, creatorAvg })\r\n                wsGlobal.send({ type: 'list-matches' })\r\n              } else {\r\n                wsRef.current?.send(JSON.stringify({ type: 'create-match', game, mode, value, startingScore: startingScore || 501, creatorAvg }))\r\n                wsRef.current?.send(JSON.stringify({ type: 'list-matches' }))\r\n              }\r\n              setOfferNewRoom(null)\r\n            }}>Create New Match</button>\r\n            <button className=\"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm\" onClick={()=>setOfferNewRoom(null)}>Dismiss</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Global toaster is mounted in App */}\r\n\r\n  {/* World Lobby with filters */}\r\n      {connected && (\r\n        <div className=\"mt-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10 flex-1 overflow-auto\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"font-semibold\">World Lobby</div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"text-xs opacity-80\">Matches: {filteredLobby.length}</div>\r\n              <button className=\"btn px-3 py-1 text-sm\" onClick={()=> (wsGlobal ? wsGlobal.send({ type: 'list-matches' }) : wsRef.current?.send(JSON.stringify({ type: 'list-matches' })))}>Refresh</button>\r\n              <button\r\n                className=\"btn px-3 py-1 text-sm\"\r\n                title={!connected ? 'Connect to the lobby first' : (locked ? 'Weekly free games used' : 'Create a new match')}\r\n                disabled={!connected || locked}\r\n                onClick={() => { if (!connected || locked) return; setShowCreate(true); (wsGlobal ? wsGlobal.send({ type: 'list-matches' }) : wsRef.current?.send(JSON.stringify({ type: 'list-matches' }))) }}\r\n              >Create Match +</button>\r\n            </div>\r\n          </div>\r\n          {/* Filters */}\r\n          <div className=\"space-y-3 mb-3\">\r\n            <div>\r\n              <label className=\"block text-xs opacity-70 mb-1\">Mode</label>\r\n              <TabPills\r\n                tabs={[{ key: 'all', label: 'All' }, { key: 'bestof', label: 'Best of' }, { key: 'firstto', label: 'First to' }]}\r\n                active={filterMode}\r\n                onChange={(k)=> setFilterMode(k as any)}\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n              <div>\r\n                <label className=\"block text-xs opacity-70 mb-1\">Game</label>\r\n                <select className=\"input w-full\" value={filterGame as any} onChange={e=>setFilterGame(e.target.value as any)}>\r\n                  <option value=\"all\">All</option>\r\n                  {allGames.map(g => (\r\n                    <option key={g} value={g}>{g}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs opacity-70 mb-1\">Starting Score</label>\r\n                <select className=\"input w-full\" value={filterStart as any} onChange={e=>{\r\n                  const v = e.target.value\r\n                  if (v==='all') setFilterStart('all'); else setFilterStart(Number(v) as any)\r\n                }} disabled={filterGame !== 'all' && filterGame !== 'X01'}>\r\n                  <option value=\"all\">All</option>\r\n                  <option value=\"301\">301</option>\r\n                  <option value=\"501\">501</option>\r\n                  <option value=\"701\">701</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs opacity-70 mb-1\">Opponent near my avg</label>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input id=\"nearavg\" type=\"checkbox\" className=\"accent-purple-500\" checked={nearAvg} onChange={e=>setNearAvg(e.target.checked)} disabled={!myAvg} />\r\n                  <input className=\"input w-24\" type=\"number\" min={5} max={40} step={1} value={avgTolerance} onChange={e=>setAvgTolerance(parseInt(e.target.value||'10'))} disabled={!nearAvg} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center justify-between gap-2\">\r\n              <div className=\"flex-1 max-w-sm\">\r\n                <label className={`block text-xs opacity-70 mb-1 ${!nearAvg ? 'opacity-40' : ''}`}>Avg tolerance ()</label>\r\n                <input className=\"w-full\" type=\"range\" min={1} max={50} value={avgTolerance} onChange={e=>setAvgTolerance(parseInt(e.target.value||'10'))} disabled={!nearAvg} />\r\n                <div className=\"text-xs opacity-70 mt-1\"> {avgTolerance}</div>\r\n              </div>\r\n              <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ setFilterMode('all'); setFilterGame('all'); setFilterStart('all'); setNearAvg(false); setAvgTolerance(10) }}>Reset</button>\r\n            </div>\r\n          </div>\r\n          {filteredLobby.length === 0 ? (\r\n            <div className=\"text-sm text-slate-300\">No games waiting. Create one!</div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {filteredLobby.map((m:any)=> (\r\n                <div key={m.id} className=\"p-2 rounded-lg bg-black/20 flex items-center justify-between relative\">\r\n                  {selfId && m.creatorId === selfId && (\r\n                    <button\r\n                      className=\"absolute top-1 right-1 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow\"\r\n                      title=\"Close this match\"\r\n                      onClick={()=>{\r\n                        if (wsGlobal) wsGlobal.send({ type: 'cancel-match', matchId: m.id })\r\n                        else wsRef.current?.send(JSON.stringify({ type: 'cancel-match', matchId: m.id }))\r\n                      }}\r\n                      aria-label=\"Close match\"\r\n                    ></button>\r\n                  )}\r\n                  <div className=\"text-sm\">\r\n                    <div><span className=\"font-semibold\">{m.creatorName}</span>  {m.game || 'X01'}  {m.mode==='bestof' ? `Best Of ${m.value}` : `First To ${m.value}`} {m.game==='X01' ? ` X01 ${m.startingScore}` : ''}</div>\r\n                    {m.requireCalibration && (\r\n                      <div className=\"text-[11px] inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300 border border-emerald-600/30 mt-1\">Calibration required</div>\r\n                    )}\r\n                    {m.creatorAvg ? (\r\n                      <div className=\"text-xs opacity-70\">Creator avg: {Number(m.creatorAvg).toFixed(1)}</div>\r\n                    ) : null}\r\n                    <div className=\"text-xs opacity-70\">ID: {m.id}</div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button className=\"btn px-3 py-1 text-sm bg-rose-600 hover:bg-rose-700\" disabled={locked || (!user?.fullAccess && (premiumGames as readonly string[]).includes(m.game)) || (!!m.requireCalibration && !calibH)} title={\r\n                      !user?.fullAccess && (premiumGames as readonly string[]).includes(m.game)\r\n                        ? 'PREMIUM game'\r\n                        : (locked ? 'Weekly free games used' : (!!m.requireCalibration && !calibH ? 'Calibration required' : ''))\r\n                    } onClick={async ()=>{\r\n                      setLastJoinIntent({ game: m.game, mode: m.mode, value: m.value, startingScore: m.startingScore })\r\n                      const calibrated = !!calibH\r\n                      const boardPreview = await getBoardPreview()\r\n                      if (wsGlobal) wsGlobal.send({ type: 'join-match', matchId: m.id, calibrated, boardPreview })\r\n                      else wsRef.current?.send(JSON.stringify({ type: 'join-match', matchId: m.id, calibrated, boardPreview }))\r\n                    }}>Join Now!</button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Frosted lock overlay when non-premium user is locked */}\r\n      {(!user?.fullAccess && freeLeft !== Infinity && freeLeft <= 0) && (\r\n        <div className=\"absolute inset-0 z-40 flex items-center justify-center\">\r\n          <div className=\"absolute inset-0 backdrop-blur-sm bg-slate-900/40\" />\r\n          <div className=\"relative z-10 p-4 rounded-xl bg-black/60 border border-slate-700 text-center\">\r\n            <div className=\"text-3xl mb-2\"></div>\r\n            <div className=\"font-semibold\">Online play locked</div>\r\n            <div className=\"text-sm text-slate-200/80\">Youve used your 3 free online games this week. Upgrade to PREMIUM to play all modes.</div>\r\n            <a href=\"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn mt-3 bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold\">\r\n              Upgrade to PREMIUM  {formatPriceInCurrency(getUserCurrency(), 5)}\r\n            </a>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showMatchModal && (\r\n        <div className=\"fixed inset-0 z-50\">\r\n          <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" />\r\n          <div className=\"absolute inset-0 flex flex-col\">\r\n            <div className=\"p-2 md:p-3 flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl md:text-2xl font-bold\">Online Match</h3>\r\n                {/* Room id hidden in-game to reduce clutter */}\r\n              </div>\r\n              <button className=\"btn px-3 py-1\" onClick={() => setShowMatchModal(false)}>Close</button>\r\n            </div>\r\n            <div className=\"relative flex-1 overflow-hidden p-2 md:p-3\">\r\n              <div className=\"card w-full h-full overflow-hidden relative p-2.5 md:p-3\">\r\n            {/* Ephemeral celebration overlay */}\r\n            {celebration && (\r\n              <div className=\"absolute inset-0 pointer-events-none flex items-start justify-center pt-8 z-20\">\r\n                <div className={`px-4 py-2 rounded-full text-lg font-bold shadow ${celebration.kind==='leg' ? 'bg-indigo-500/20 border border-indigo-400/40 text-indigo-100' : 'bg-emerald-500/20 border border-emerald-400/40 text-emerald-100'}`}>\r\n                  {celebration.kind==='leg' ? ' LEG WON  ' : ' ONE HUNDRED AND EIGHTY!  '}{celebration.by}\r\n                </div>\r\n                {/* Lightweight confetti for leg wins */}\r\n                {celebration.kind === 'leg' && (\r\n                  <>\r\n                    <style>{`@keyframes ndn-confetti-fall{0%{transform:translateY(-10%) rotate(0deg);opacity:1}100%{transform:translateY(120%) rotate(360deg);opacity:0}}`}</style>\r\n                    <div className=\"absolute inset-0 pointer-events-none\">\r\n                      {[...Array(24)].map((_,i)=>{\r\n                        const left = Math.random()*100\r\n                        const delay = Math.random()*0.2\r\n                        const dur = 1.2 + Math.random()*0.8\r\n                        const size = 6 + Math.random()*6\r\n                        const hue = Math.floor(Math.random()*360)\r\n                        return (\r\n                          <span key={i} style={{ position:'absolute', top:0, left: left+'%', width: size, height: size, background:`hsl(${hue} 90% 60%)`, borderRadius: 2, animation: `ndn-confetti-fall ${dur}s ease-out ${delay}s forwards` }} />\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n            <div className=\"mb-1.5 text-xs md:text-sm flex items-center justify-between gap-2\">\r\n              <span>Participants: {participants.length || 1}</span>\r\n              <button\r\n                className=\"text-[11px] px-2 py-0.5 rounded-full bg-slate-700/50 hover:bg-slate-700 border border-slate-600\"\r\n                onClick={() => setCompactView(v => !v)}\r\n                title={compactView ? 'Switch to full multi-player view' : 'Switch to compact player-by-player view'}\r\n              >{compactView ? 'Full view' : 'Compact view'}</button>\r\n            </div>\r\n            {/* Summary area */}\r\n            {compactView ? (\r\n              <div className=\"mb-3\">\r\n                {(() => {\r\n                  const idx = match.currentPlayerIdx\r\n                  const p = match.players[idx]\r\n                  if (!p) return null\r\n                  const leg = p.legs[p.legs.length-1]\r\n                  const rem = leg ? leg.totalScoreRemaining : match.startingScore\r\n                  const isMe = (user?.username && p.name === user.username)\r\n                  const lastVisitScore = leg && leg.visits.length ? leg.visits[leg.visits.length-1].score : 0\r\n                  const dartsThrown = leg ? leg.dartsThrown : 0\r\n                  const avg = dartsThrown > 0 ? (((leg?.totalScoreStart ?? match.startingScore) - rem) / dartsThrown) * 3 : 0\r\n                  if (currentGame === 'X01') {\r\n                    return (\r\n                      <div className={`p-4 rounded-xl bg-brand-50 text-black ${idx===match.currentPlayerIdx?'ring-2 ring-brand-400':''}`}>\r\n                        <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                          <span className=\"font-semibold\">{p.name}</span>\r\n                          <span className={`px-2 py-0.5 rounded-full ${idx===match.currentPlayerIdx?'bg-emerald-500/20 text-emerald-300':'bg-slate-500/20 text-slate-300'} text-xs font-bold`}>\r\n                            {idx===match.currentPlayerIdx ? 'THROWING' : 'WAITING TO THROW'}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"text-4xl font-extrabold\">{rem}</div>\r\n                        <div className=\"text-sm mt-1\">Last score: <span className=\"font-semibold\">{lastVisitScore}</span></div>\r\n                        <div className=\"text-sm\">3-Dart Avg: <span className=\"font-semibold\">{avg.toFixed(1)}</span></div>\r\n                        {isMe && idx===match.currentPlayerIdx && rem <= 170 && rem > 0 && (\r\n                          <div className=\"mt-2 p-2 rounded-lg bg-indigo-50 border border-indigo-200 text-indigo-900 text-sm\">\r\n                            Checkout suggestions (fav {favoriteDouble}): {suggestCheckouts(rem, favoriteDouble).join('    ') || ''}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )\r\n                  }\r\n                  // Non-X01 (e.g., Double Practice, Around the Clock): show target and hits instead of X01 remaining\r\n                  return (\r\n                    <div className={`p-4 rounded-xl bg-brand-50 text-black ${idx===match.currentPlayerIdx?'ring-2 ring-brand-400':''}`}>\r\n                      <div className=\"text-xs text-slate-600 flex items-center justify-between\">\r\n                        <span className=\"font-semibold\">{p.name}</span>\r\n                        <span className={`px-2 py-0.5 rounded-full ${idx===match.currentPlayerIdx?'bg-emerald-500/20 text-emerald-300':'bg-slate-500/20 text-slate-300'} text-xs font-bold`}>\r\n                          {idx===match.currentPlayerIdx ? 'THROWING' : 'WAITING TO THROW'}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"text-sm opacity-80\">{currentGame}</div>\r\n                      {currentGame === 'Double Practice' && (\r\n                        <>\r\n                          <div className=\"mt-1 text-xs flex items-center justify-between\">\r\n                            <span>Current target</span>\r\n                            <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{DOUBLE_PRACTICE_ORDER[dpIndex]?.label || ''}</span>\r\n                          </div>\r\n                          <div className=\"text-3xl font-extrabold\">{dpHits} / {DOUBLE_PRACTICE_ORDER.length}</div>\r\n                        </>\r\n                      )}\r\n                      {currentGame === 'Around the Clock' && (\r\n                        <>\r\n                          <div className=\"mt-1 text-xs flex items-center justify-between\">\r\n                            <span>Current target</span>\r\n                            <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{ATC_ORDER[atcIndex] === 25 ? '25 (Outer Bull)' : ATC_ORDER[atcIndex] === 50 ? '50 (Inner Bull)' : (ATC_ORDER[atcIndex] || '')}</span>\r\n                          </div>\r\n                          <div className=\"text-3xl font-extrabold\">{atcHits} / {ATC_ORDER.length}</div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                })()}\r\n                {match.players.length > 1 && (\r\n                  <div className=\"mt-2 text-xs text-slate-400\">Next up: {match.players[(match.currentPlayerIdx+1) % match.players.length]?.name}</div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {/* Full overview: slim strip with each player's remaining */}\r\n                <div className=\"mb-3 flex flex-wrap items-center gap-2\">\r\n                  {match.players.map((p, idx) => {\r\n                    const leg = p.legs[p.legs.length-1]\r\n                    const rem = leg ? leg.totalScoreRemaining : match.startingScore\r\n                    return (\r\n                      <div key={`strip-${p.id}`} className={`px-2 py-1 rounded bg-black/20 border border-slate-700/40 text-xs ${idx===match.currentPlayerIdx ? 'ring-1 ring-brand-400' : ''}`}>\r\n                        <span className=\"font-semibold\">{p.name}</span>\r\n                        {currentGame === 'X01' ? (\r\n                          <>\r\n                            <span className=\"opacity-70\">  </span>\r\n                            <span className=\"font-mono\">{rem}</span>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <span className=\"opacity-70\">  </span>\r\n                            <span className=\"font-mono\">\r\n                              {currentGame === 'Double Practice' ? `${dpHits}/${DOUBLE_PRACTICE_ORDER.length}`\r\n                                : currentGame === 'Around the Clock' ? `${atcHits}/${ATC_ORDER.length}`\r\n                                : currentGame === 'Cricket' ? `${(cricketById[p.id]?.points||0)} pts`\r\n                                : currentGame === 'Shanghai' ? `${(shanghaiById[p.id]?.score||0)} pts  R${(shanghaiById[p.id]?.round||1)}`\r\n                                : currentGame === 'Halve It' ? `${(halveById[p.id]?.score||0)} pts  S${(halveById[p.id]?.stage||0)+1}`\r\n                                : currentGame === 'High-Low' ? `${(highlowById[p.id]?.score||0)} pts  ${(highlowById[p.id]?.target||'HIGH')}`\r\n                                : currentGame === 'Killer' ? (() => { const st = killerById[p.id]; return st ? `#${st.number}  ${st.lives} ${st.isKiller?' K':''}` : '' })()\r\n                                : currentGame === 'American Cricket' ? `${(amCricketById[p.id]?.points||0)} pts`\r\n                                : currentGame === 'Baseball' ? (() => { const st = baseballById[p.id]; return st ? `R${st.score}  I${st.inning}` : '' })()\r\n                                : currentGame === 'Golf' ? (() => { const st = golfById[p.id]; return st ? `S${st.strokes}  H${st.hole}` : '' })()\r\n                                : currentGame === 'Tic Tac Toe' ? (() => { const x = (ttt.board||[]).filter((c:any)=>c==='X').length; const o = (ttt.board||[]).filter((c:any)=>c==='O').length; return `X${x}-O${o}` })()\r\n                                : currentGame}\r\n                            </span>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </>\r\n            )}\r\n            {compactView ? (\r\n              <div className=\"space-y-2\">\r\n                {/* Top toolbar */}\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:open-autoscore' as any)) }catch{} }}>Autoscore</button>\r\n                  <button className=\"btn px-3 py-1 text-sm\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:open-scoring' as any)) }catch{} }}>Scoring</button>\r\n                  <button className=\"btn px-3 py-1 text-sm\" onClick={openManual}>Manual Correction</button>\r\n                  <div className=\"ml-auto flex items-center gap-1 text-[11px]\">\r\n                    <span className=\"opacity-70\">Cam size</span>\r\n                    <button className=\"btn px-2 py-0.5\" onClick={()=>setCameraScale(Math.max(0.5, Math.round((cameraScale-0.05)*100)/100))}></button>\r\n                    <span className=\"w-8 text-center\">{Math.round(cameraScale*100)}%</span>\r\n                    <button className=\"btn px-2 py-0.5\" onClick={()=>setCameraScale(Math.min(1.25, Math.round((cameraScale+0.05)*100)/100))}>+</button>\r\n                  </div>\r\n                </div>\r\n                {/* Summary (left) + Camera (right) */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 items-start\">\r\n                  <div className=\"order-1\"><RenderMatchSummary /></div>\r\n                  <div className=\"order-2\">\r\n                    {user?.username && match.players[match.currentPlayerIdx]?.name === user.username ? (\r\n                      <div className=\"min-w-[260px] relative z-10\"><CameraTile label=\"Your Board\" autoStart={false} /></div>\r\n                    ) : (\r\n                      <div className=\"text-xs opacity-60\">Opponent's camera will appear here when supported</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"font-semibold\">Current: {match.players[match.currentPlayerIdx]?.name || ''}</div>\r\n                {currentGame === 'X01' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username ? (\r\n                  <>\r\n                    {/* Camera autoscore module; only render for current thrower */}\r\n                    <CameraView hideInlinePanels showToolbar={false} onVisitCommitted={(score, darts, finished) => {\r\n                      if (callerEnabled) {\r\n                        const p = match.players[match.currentPlayerIdx]\r\n                        const leg = p?.legs[p.legs.length-1]\r\n                        const remaining = leg ? leg.totalScoreRemaining : match.startingScore\r\n                        sayScore(user?.username || 'Player', score, Math.max(0, remaining), callerVoice, { volume: callerVolume, checkoutOnly: speakCheckoutOnly })\r\n                      }\r\n                      const current = match.players[match.currentPlayerIdx]\r\n                      if (user?.username && current?.name === user.username) {\r\n                        addSample(user.username, darts, score)\r\n                      }\r\n                      // Instant local celebration\r\n                      try { if (score === 180) triggerCelebration('180', current?.name || 'Player'); if (finished) triggerCelebration('leg', current?.name || 'Player') } catch {}\r\n                      if (!finished) { match.nextPlayer() }\r\n                      sendState()\r\n                    }} />\r\n                    <div className=\"flex items-center gap-1.5 mb-2\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn px-2 py-0.5 text-xs\" onClick={() => submitVisitManual(visitScore)}>Submit Visit</button>\r\n                      <button className=\"btn px-2 py-0.5 text-xs bg-slate-700 hover:bg-slate-800\" onClick={() => { match.undoVisit(); sendState(); }}>Undo</button>\r\n                    </div>\r\n                      {/* Quick entry buttons */}\r\n                      <div className=\"flex flex-wrap items-center gap-1.5 mt-1.5 text-xs\">\r\n                        <span className=\"opacity-70\">Quick:</span>\r\n                        {[180,140,100,60].map(v => (\r\n                          <button key={v} className=\"btn px-2 py-0.5 text-xs\" onClick={()=>submitVisitManual(v)}>{v}</button>\r\n                        ))}\r\n                      </div>\r\n                    <div className=\"mt-2 flex items-center gap-1.5 mb-2\">\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowQuick(true)}>Quick Chat</button>\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowMessages(true)}>Messages</button>\r\n                    </div>\r\n                  </>\r\n                ) : (currentGame === 'Double Practice' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">Double Practice  Hit doubles D1D20DBULL</div>\r\n                    <div className=\"mb-1 text-sm flex items-center justify-between\">\r\n                      <span>Current target</span>\r\n                      <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{DOUBLE_PRACTICE_ORDER[dpIndex]?.label || ''}</span>\r\n                    </div>\r\n                    <div className=\"text-2xl font-extrabold mb-2\">{dpHits} / {DOUBLE_PRACTICE_ORDER.length}</div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView\r\n                        showToolbar={false}\r\n                        immediateAutoCommit\r\n                        onAutoDart={(value, ring) => {\r\n                          if (ring === 'DOUBLE' || ring === 'INNER_BULL') {\r\n                            addDpValue(value)\r\n                          }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter') addDpNumeric() }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={addDpNumeric}>Add Dart</button>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5 mt-1.5\">\r\n                      <input className=\"input w-40 text-sm\" placeholder=\"Manual (D16, 50, 25, T20)\" value={dpManual} onChange={e=>setDpManual(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addDpManual() }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={addDpManual}>Add</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Around the Clock' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">Around the Clock  Hit 120 then 25 (outer) and 50 (inner)</div>\r\n                    <div className=\"mb-1 text-sm flex items-center justify-between\">\r\n                      <span>Current target</span>\r\n                      <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{ATC_ORDER[atcIndex] === 25 ? '25 (Outer Bull)' : ATC_ORDER[atcIndex] === 50 ? '50 (Inner Bull)' : (ATC_ORDER[atcIndex] || '')}</span>\r\n                    </div>\r\n                    <div className=\"text-2xl font-extrabold mb-2\">{atcHits} / {ATC_ORDER.length}</div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView\r\n                        scoringMode=\"custom\"\r\n                        showToolbar={false}\r\n                        immediateAutoCommit\r\n                        onAutoDart={(value, ring, info) => {\r\n                          addAtcValue(value, ring, info?.sector ?? null)\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter') addAtcNumeric() }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={addAtcNumeric}>Add Dart</button>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5 mt-1.5\">\r\n                      <input className=\"input w-40 text-sm\" placeholder=\"Manual (T20, D5, 25, 50)\" value={atcManual} onChange={e=>setAtcManual(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addAtcManual() }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={addAtcManual}>Add</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Cricket' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">Cricket  Close 15-20 and Bull; overflow scores points</div>\r\n                    {(() => {\r\n                      const pid = currentPlayerId(); ensureCricket(pid); const st = cricketById[pid] || createCricketState()\r\n                      return (\r\n                        <div className=\"mb-2 grid grid-cols-7 gap-1 text-center text-[11px]\">\r\n                          {CRICKET_NUMBERS.map(n => (\r\n                            <div key={n} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50\">\r\n                              <div className=\"opacity-70\">{n===25?'Bull':n}</div>\r\n                              <div className=\"font-semibold\">{Math.min(3, st.marks?.[n]||0)} / 3</div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )\r\n                    })()}\r\n                    <div className=\"text-sm mb-2\">Points: <span className=\"font-semibold\">{(cricketById[currentPlayerId()]?.points||0)}</span></div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => {\r\n                        {\r\n                          const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL')\r\n                          applyCricketAuto(value, r, info?.sector ?? null)\r\n                        }\r\n                      }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter'){ applyCricketAuto(Math.max(0, visitScore|0)); setVisitScore(0) } }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ applyCricketAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Shanghai' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    {(() => { const pid = currentPlayerId(); ensureShanghai(pid); const st = shanghaiById[pid] || createShanghaiState(); return (\r\n                      <>\r\n                        <div className=\"text-xs mb-1.5\">Shanghai  Hit only the round's number; Single/Double/Triple score</div>\r\n                        <div className=\"mb-1 text-sm flex items-center justify-between\"><span>Round</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{st.round}</span></div>\r\n                        <div className=\"text-2xl font-extrabold mb-2\">Score: {st.score}</div>\r\n                      </>\r\n                    ) })()}\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyShanghaiAuto(value, r, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter'){ applyShanghaiAuto(Math.max(0, visitScore|0)); setVisitScore(0) } }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ applyShanghaiAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Halve It' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    {(() => { const pid = currentPlayerId(); ensureHalve(pid); const st = halveById[pid] || createDefaultHalveIt(); const t = getCurrentHalveTarget(st); return (\r\n                      <>\r\n                        <div className=\"text-xs mb-1.5\">Halve It  Hit the target each round or your score halves</div>\r\n                        <div className=\"mb-1 text-sm flex items-center justify-between\">\r\n                          <span>Stage</span>\r\n                          <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{st.stage+1}/{st.targets.length}</span>\r\n                        </div>\r\n                        <div className=\"text-sm\">Target: <span className=\"font-semibold\">{(() => { const tt = t; if (!tt) return ''; if (tt.kind==='ANY_NUMBER') return 'Any'; if (tt.kind==='BULL') return 'Bull'; if (tt.kind==='DOUBLE' || tt.kind==='TRIPLE' || tt.kind==='NUMBER') return `${tt.kind} ${(tt as any).num}`; return '' })()}</span></div>\r\n                        <div className=\"text-2xl font-extrabold mb-2\">Score: {st.score}</div>\r\n                      </>\r\n                    ) })()}\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyHalveAuto(value, r, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter'){ applyHalveAuto(Math.max(0, visitScore|0)); setVisitScore(0) } }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ applyHalveAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'High-Low' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    {(() => { const pid = currentPlayerId(); ensureHighLow(pid); const st = highlowById[pid] || createHighLow(); return (\r\n                      <>\r\n                        <div className=\"text-xs mb-1.5\">High-Low  Alternate aiming for high then low segments</div>\r\n                        <div className=\"mb-1 text-sm flex items-center justify-between\"><span>Round</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{st.round}</span></div>\r\n                        <div className=\"text-sm\">Target: <span className=\"font-semibold\">{st.target}</span></div>\r\n                        <div className=\"text-2xl font-extrabold mb-2\">Score: {st.score}</div>\r\n                      </>\r\n                    ) })()}\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyHighLowAuto(value, r, info?.sector ?? null) }} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter'){ applyHighLowAuto(Math.max(0, visitScore|0)); setVisitScore(0) } }} />\r\n                      <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ applyHighLowAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'American Cricket' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">American Cricket  Close 12-20 and Bull; overflow scores</div>\r\n                    {(() => { const pid = currentPlayerId(); ensureAmCricket(pid); const st = amCricketById[pid] || createAmCricketState(); return (\r\n                      <div className=\"mb-2 grid grid-cols-5 gap-1 text-center text-[11px]\">\r\n                        {AM_CRICKET_NUMBERS.map(n => (\r\n                          <div key={n} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50\">\r\n                            <div className=\"opacity-70\">{n===25?'Bull':n}</div>\r\n                            <div className=\"font-semibold\">{Math.min(3, st.marks?.[n]||0)} / 3</div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) })()}\r\n                    <div className=\"text-sm mb-2\">Points: <span className=\"font-semibold\">{(amCricketById[currentPlayerId()]?.points||0)}</span></div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:(ring as any); applyAmCricketAuto(value, r, info?.sector ?? null) }} />\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Baseball' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    {(() => { const pid = currentPlayerId(); ensureBaseball(pid); const st = baseballById[pid] || createBaseball(); return (\r\n                      <div className=\"text-xs mb-1.5\">Baseball  Inning {st.inning}  Runs {st.score}</div>\r\n                    ) })()}\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:(ring as any); applyBaseballAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Golf' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    {(() => { const pid = currentPlayerId(); ensureGolf(pid); const st = golfById[pid] || createGolf(); return (\r\n                      <div className=\"text-xs mb-1.5\">Golf  Hole {st.hole} (target {GOLF_TARGETS[st.hole]})  Strokes {st.strokes}</div>\r\n                    ) })()}\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring==='MISS'?undefined:(ring as any); applyGolfAuto(value, r as any, info?.sector ?? null) }} />\r\n                    </div>\r\n                  </div>\r\n                ) : (currentGame === 'Tic Tac Toe' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">Tic Tac Toe  Tap a cell to claim by hitting its target</div>\r\n                    <div className=\"grid grid-cols-3 gap-1 mb-2\">\r\n                      {Array.from({length:9},(_,i)=>i as 0|1|2|3|4|5|6|7|8).map(cell => (\r\n                        <button key={cell} className={`h-12 rounded-xl border ${ttt.board[cell]?'bg-emerald-500/20 border-emerald-400/30':'bg-slate-800/50 border-slate-700/50'}`} onClick={()=>{\r\n                          if (ttt.finished || ttt.board[cell]) return\r\n                          // ask user for which dart value to use for this claim (simple manual prompt)\r\n                          const tgt = TTT_TARGETS[cell]\r\n                          const manual = prompt(`Enter dart for cell ${cell} (target ${tgt.type==='BULL'?'Bull':tgt.num}) e.g. 20/40/60 or 25/50`)\r\n                          const v = Number(manual||0)\r\n                          const ring = (v%3===0)?'TRIPLE': (v%2===0?'DOUBLE':'SINGLE')\r\n                          const sector = tgt.type==='BULL'?null:(tgt.num||null)\r\n                          applyTttAuto(cell, v, ring as any, sector as any)\r\n                        }}>{ttt.board[cell] || ''}</button>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                      <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => {\r\n                        // passive; primary interaction via tapping a cell above\r\n                      }} />\r\n                    </div>\r\n                  </div>\r\n                ) : (user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                  <div className=\"p-3 rounded-xl bg-black/20\">\r\n                    <div className=\"text-xs mb-1.5\">{currentGame} (online)  manual turn entry</div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <input className=\"input w-24 text-sm\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                      <button className=\"btn\" onClick={() => {\r\n                        const v = Math.max(0, visitScore|0)\r\n                        match.addVisit(v, 3)\r\n                        setVisitScore(0)\r\n                        match.nextPlayer()\r\n                        sendState()\r\n                      }}>Submit</button>\r\n                      <button className=\"btn px-2 py-0.5 text-xs bg-slate-700 hover:bg-slate-800\" onClick={() => { match.undoVisit(); sendState(); }}>Undo</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"p-4 rounded-xl bg-slate-800/30 border border-slate-700/40 text-center text-slate-300 font-semibold\">WAITING TO THROW</div>\r\n                )}\r\n                <div className=\"mt-2 flex items-center gap-1.5\">\r\n                  <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowQuick(true)}>Quick Chat</button>\r\n                  <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowMessages(true)}>Messages</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\r\n                {/* Left column: summary */}\r\n                <div className=\"space-y-1.5\">\r\n                  <RenderMatchSummary />\r\n                </div>\r\n                {/* Main area: toolbar + camera + controls */}\r\n                <div className=\"md:col-span-2 space-y-1.5\">\r\n                  {/* Toolbar row (separate) */}\r\n                  <div className=\"flex items-center gap-1.5 mt-2\">\r\n                    <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:open-autoscore' as any)) }catch{} }}>Autoscore</button>\r\n                    <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ try{ window.dispatchEvent(new Event('ndn:open-scoring' as any)) }catch{} }}>Scoring</button>\r\n                    <button className=\"btn px-2 py-0.5 text-xs\" onClick={openManual}>Manual Correction</button>\r\n                    <div className=\"ml-auto flex items-center gap-1 text-[10px]\">\r\n                      <span className=\"opacity-70\">Cam</span>\r\n                      <button className=\"btn px-1 py-0.5\" onClick={()=>setCameraScale(Math.max(0.5, Math.round((cameraScale-0.05)*100)/100))}></button>\r\n                      <span className=\"w-7 text-center\">{Math.round(cameraScale*100)}%</span>\r\n                      <button className=\"btn px-1 py-0.5\" onClick={()=>setCameraScale(Math.min(1.25, Math.round((cameraScale+0.05)*100)/100))}>+</button>\r\n                    </div>\r\n                  </div>\r\n                  {/* Camera row (under toolbar, left side) */}\r\n                  <div className=\"mt-2\">\r\n                    {user?.username && match.players[match.currentPlayerIdx]?.name === user.username ? (\r\n                      <div className=\"w-full max-w-full\"><CameraTile label=\"Your Board\" autoStart={false} /></div>\r\n                    ) : (\r\n                      <div className=\"text-xs opacity-60\">Opponent's camera will appear here when supported</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"font-semibold text-sm md:text-base\">Current: {match.players[match.currentPlayerIdx]?.name || ''}</div>\r\n                  {currentGame === 'X01' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username ? (\r\n                    <>\r\n                      <CameraView hideInlinePanels showToolbar={false} onVisitCommitted={(score, darts, finished) => {\r\n                        if (callerEnabled) {\r\n                          const p = match.players[match.currentPlayerIdx]\r\n                          const leg = p?.legs[p.legs.length-1]\r\n                          const remaining = leg ? leg.totalScoreRemaining : match.startingScore\r\n                          sayScore(user?.username || 'Player', score, Math.max(0, remaining), callerVoice, { volume: callerVolume, checkoutOnly: speakCheckoutOnly })\r\n                        }\r\n                        const current = match.players[match.currentPlayerIdx]\r\n                        if (user?.username && current?.name === user.username) {\r\n                          addSample(user.username, darts, score)\r\n                        }\r\n                        // Instant local celebration\r\n                        try { if (score === 180) triggerCelebration('180', current?.name || 'Player'); if (finished) triggerCelebration('leg', current?.name || 'Player') } catch {}\r\n                        if (!finished) { match.nextPlayer() }\r\n                        sendState()\r\n                      }} />\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => submitVisitManual(visitScore)}>Submit Visit (Manual)</button>\r\n                        <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={() => { match.undoVisit(); sendState(); }}>Undo</button>\r\n                      </div>\r\n                      {/* Quick entry buttons */}\r\n                      <div className=\"flex flex-wrap items-center gap-2 mt-2 text-sm\">\r\n                        <span className=\"opacity-70\">Quick:</span>\r\n                        {[180,140,100,60].map(v => (\r\n                          <button key={v} className=\"btn px-3 py-1 text-sm\" onClick={()=>submitVisitManual(v)}>{v}</button>\r\n                        ))}\r\n                      </div>\r\n                      {/* Checkout suggestions (full view) */}\r\n                      {(() => {\r\n                        const p = match.players[match.currentPlayerIdx]\r\n                        const leg = p?.legs?.[p.legs?.length-1]\r\n                        const rem = leg ? leg.totalScoreRemaining : match.startingScore\r\n                        return (rem > 0 && rem <= 170) ? (\r\n                          <div className=\"mt-2 p-2 rounded-lg bg-indigo-50 border border-indigo-200 text-indigo-900 text-sm\">\r\n                            Checkout suggestions (fav {favoriteDouble}): {suggestCheckouts(rem, favoriteDouble).join('    ') || ''}\r\n                          </div>\r\n                        ) : null\r\n                      })()}\r\n                    </>\r\n                  ) : (currentGame === 'Double Practice' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      <div className=\"text-sm mb-2\">Double Practice  Hit doubles D1D20DBULL</div>\r\n                      <div className=\"mb-1 text-sm flex items-center justify-between\">\r\n                        <span>Current target</span>\r\n                        <span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{DOUBLE_PRACTICE_ORDER[dpIndex]?.label || ''}</span>\r\n                      </div>\r\n                      <div className=\"text-2xl font-extrabold mb-2\">{dpHits} / {DOUBLE_PRACTICE_ORDER.length}</div>\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                        <CameraView\r\n                          scoringMode=\"custom\"\r\n                          showToolbar={false}\r\n                          immediateAutoCommit\r\n                          onAutoDart={(value, ring) => {\r\n                            if (ring === 'DOUBLE' || ring === 'INNER_BULL') {\r\n                              addDpValue(value)\r\n                            }\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} onKeyDown={e=>{ if(e.key==='Enter') addDpNumeric() }} />\r\n                        <button className=\"btn\" onClick={addDpNumeric}>Add Dart</button>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 mt-1.5\">\r\n                        <input className=\"input w-44\" placeholder=\"Manual (D16, 50, 25, T20)\" value={dpManual} onChange={e=>setDpManual(e.target.value)} onKeyDown={e=>{ if(e.key==='Enter') addDpManual() }} />\r\n                        <button className=\"btn\" onClick={addDpManual}>Add</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (currentGame === 'Cricket' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      <div className=\"text-sm mb-2\">Cricket  Close 15-20 and Bull; overflow scores points</div>\r\n                      {(() => { const pid = currentPlayerId(); ensureCricket(pid); const st = cricketById[pid] || createCricketState(); return (\r\n                        <div className=\"mb-2 grid grid-cols-7 gap-1 text-center text-[11px]\">\r\n                          {CRICKET_NUMBERS.map(n => (\r\n                            <div key={n} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50\">\r\n                              <div className=\"opacity-70\">{n===25?'Bull':n}</div>\r\n                              <div className=\"font-semibold\">{Math.min(3, st.marks?.[n]||0)} / 3</div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      ) })()}\r\n                      <div className=\"text-sm mb-2\">Points: <span className=\"font-semibold\">{(cricketById[currentPlayerId()]?.points||0)}</span></div>\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                        <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyCricketAuto(value, r, info?.sector ?? null) }} />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => { applyCricketAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (currentGame === 'Shanghai' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      {(() => { const pid = currentPlayerId(); ensureShanghai(pid); const st = shanghaiById[pid] || createShanghaiState(); return (\r\n                        <>\r\n                          <div className=\"text-sm mb-2\">Shanghai  Round {st.round}  Score {st.score}</div>\r\n                        </>\r\n                      ) })()}\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                        <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyShanghaiAuto(value, r, info?.sector ?? null) }} />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => { applyShanghaiAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (currentGame === 'Halve It' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      {(() => { const pid = currentPlayerId(); ensureHalve(pid); const st = halveById[pid] || createDefaultHalveIt(); const t = getCurrentHalveTarget(st); return (\r\n                        <>\r\n                          <div className=\"text-sm mb-2\">Halve It  Stage {st.stage+1}/{st.targets.length}  Score {st.score}</div>\r\n                          <div className=\"text-sm\">Target: <span className=\"font-semibold\">{(() => { const tt = t; if (!tt) return ''; if (tt.kind==='ANY_NUMBER') return 'Any'; if (tt.kind==='BULL') return 'Bull'; if (tt.kind==='DOUBLE' || tt.kind==='TRIPLE' || tt.kind==='NUMBER') return `${tt.kind} ${(tt as any).num}`; return '' })()}</span></div>\r\n                        </>\r\n                      ) })()}\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                        <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyHalveAuto(value, r, info?.sector ?? null) }} />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => { applyHalveAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (currentGame === 'High-Low' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      {(() => { const pid = currentPlayerId(); ensureHighLow(pid); const st = highlowById[pid] || createHighLow(); return (\r\n                        <>\r\n                          <div className=\"text-sm mb-2\">High-Low  Round {st.round}  Target {st.target}  Score {st.score}</div>\r\n                        </>\r\n                      ) })()}\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 mb-2\">\r\n                        <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyHighLowAuto(value, r, info?.sector ?? null) }} />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => { applyHighLowAuto(Math.max(0, visitScore|0)); setVisitScore(0) }}>Add Dart</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (currentGame === 'Killer' && user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      {(() => { const pid = currentPlayerId(); match.players.forEach(p=>ensureKiller(p.id)); const st = killerById[pid]; return (\r\n                        <>\r\n                          <div className=\"text-xs mb-1.5\">Killer  Hit your own double to become Killer; then remove others lives by hitting their doubles/triples.</div>\r\n                          <div className=\"mb-1 text-sm flex items-center justify-between\"><span>Your number</span><span className=\"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 text-xs font-semibold\">{st?.number || ''}</span></div>\r\n                          <div className=\"text-sm\">Lives: <span className=\"font-semibold\">{st?.lives ?? ''}</span> {st?.isKiller ? <span className=\"ml-2 text-emerald-300\">KILLER</span> : null}</div>\r\n                          <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-1 text-[11px]\">\r\n                            {match.players.map(pp => {\r\n                              const s = killerById[pp.id]\r\n                              return (\r\n                                <div key={pp.id} className=\"p-1 rounded bg-slate-800/50 border border-slate-700/50 flex items-center justify-between\">\r\n                                  <span className=\"opacity-80 truncate\">{pp.name}</span>\r\n                                  <span className=\"font-mono\">{s ? `#${s.number}  ${s.lives}${s.isKiller?'  K':''}` : ''}</span>\r\n                                </div>\r\n                              )\r\n                            })}\r\n                          </div>\r\n                        </>\r\n                      ) })()}\r\n                      <div className=\"rounded-2xl overflow-hidden bg-black/60 border border-white/10 my-2\">\r\n                        <CameraView scoringMode=\"custom\" showToolbar={false} immediateAutoCommit onAutoDart={(value, ring, info) => { const r = ring === 'MISS' ? undefined : (ring as 'SINGLE'|'DOUBLE'|'TRIPLE'|'BULL'|'INNER_BULL'); applyKillerAuto(r, info?.sector ?? null) }} />\r\n                      </div>\r\n                      <div className=\"text-xs opacity-70\">Tip: Only doubles/triples on the opponents numbers remove lives. To become Killer, hit your own double.</div>\r\n                    </div>\r\n                  ) : (user?.username && match.players[match.currentPlayerIdx]?.name === user.username) ? (\r\n                    <div className=\"p-3 rounded-xl bg-black/20\">\r\n                      <div className=\"text-sm mb-2\">{currentGame} (online)  manual turn entry</div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input className=\"input w-28\" type=\"number\" min={0} value={visitScore} onChange={e => setVisitScore(parseInt(e.target.value||'0'))} />\r\n                        <button className=\"btn\" onClick={() => {\r\n                          const v = Math.max(0, visitScore|0)\r\n                          match.addVisit(v, 3)\r\n                          setVisitScore(0)\r\n                          match.nextPlayer()\r\n                          sendState()\r\n                        }}>Submit</button>\r\n                        <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={() => { match.undoVisit(); sendState(); }}>Undo</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"p-4 rounded-xl bg-slate-800/30 border border-slate-700/40 text-center text-slate-300 font-semibold\">WAITING TO THROW</div>\r\n                  )}\r\n                </div>\r\n                <div className=\"md:col-span-1\">\r\n                  <div className=\"flex flex-wrap items-center gap-1.5\">\r\n                    <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowQuick(true)}>Quick Chat</button>\r\n                    <button className=\"btn px-2 py-0.5 text-xs\" onClick={()=>setShowMessages(true)}>Messages</button>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n              )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Match modal */}\r\n      {showCreate && (\r\n        <div className=\"fixed inset-0 bg-black/70 z-50\">\r\n          <div className=\"w-full h-full flex items-stretch justify-stretch p-0\">\r\n            <ResizableModal storageKey=\"ndn:modal:create-match\" className=\"w-full h-full rounded-none !border-0 !shadow-none relative\" fullScreen>\r\n              <div className=\"flex items-center justify-between mb-3 sticky top-0 bg-slate-900/80 backdrop-blur border-b border-slate-700 z-10 px-2 py-2\">\r\n                <h3 className=\"text-xl font-bold\">Create Match</h3>\r\n                <button className=\"btn px-2 py-1\" onClick={()=>setShowCreate(false)}>Close</button>\r\n              </div>\r\n              <div className=\"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4 overflow-auto px-2\" style={{ maxHeight: 'calc(100vh - 120px)' }}>\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm text-slate-300 mb-1\">Game</label>\r\n                <select className=\"input w-full\" value={game} onChange={e=>setGame(e.target.value as any)}>\r\n                  {allGames.map(g => (\r\n                    <option key={g} value={g} disabled={!user?.fullAccess && (premiumGames as readonly string[]).includes(g)}>\r\n                      {g} {!user?.fullAccess && (premiumGames as readonly string[]).includes(g) ? '(PREMIUM)' : ''}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm text-slate-300 mb-1\">Mode</label>\r\n                <select className=\"input w-full\" value={mode} onChange={e=>setMode(e.target.value as any)}>\r\n                  <option value=\"bestof\">Best Of</option>\r\n                  <option value=\"firstto\">First To</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm text-slate-300 mb-1\">Value</label>\r\n                <input className=\"input w-full\" type=\"number\" min={1} value={modeValue} onChange={e=>setModeValue(parseInt(e.target.value||'1'))} />\r\n                <div className=\"text-xs opacity-70 mt-1\">Example: Best Of 5  first to 3</div>\r\n              </div>\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm text-slate-300 mb-1\">Starting Score</label>\r\n                {game === 'X01' ? (\r\n                  <select className=\"input w-full\" value={startScore} onChange={e=>setStartScore(parseInt(e.target.value||'501'))}>\r\n                    {[301, 501, 701].map(s => <option key={s} value={s}>{s}</option>)}\r\n                  </select>\r\n                ) : (\r\n                  <div className=\"text-xs opacity-70 mt-1\">Starting score applies to X01 only</div>\r\n                )}\r\n              </div>\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm text-slate-300 mb-1\">Require Calibration</label>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input id=\"calibreq\" type=\"checkbox\" className=\"accent-purple-500\" checked={requireCalibration} onChange={e=>setRequireCalibration(e.target.checked)} />\r\n                  <label htmlFor=\"calibreq\" className=\"text-sm opacity-80\">Players must be calibrated</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-span-1\">\r\n                <div className=\"p-3 rounded-lg bg-black/20 border border-slate-700/40\">\r\n                  <div className=\"text-xs text-slate-300 uppercase tracking-wide mb-1\">Summary</div>\r\n                  <div className=\"text-sm font-semibold\">{game}  {mode==='bestof' ? `Best Of ${modeValue}` : `First To ${modeValue}`} {game==='X01' ? ` ${startScore}` : ''}</div>\r\n                  {!user?.fullAccess && (premiumGames as readonly string[]).includes(game) && (\r\n                    <div className=\"text-xs text-rose-300 mt-1\">PREMIUM required</div>\r\n                  )}\r\n                </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"sticky bottom-0 bg-slate-900/80 backdrop-blur border-t border-slate-700 z-10 px-2 py-2\">\r\n                <button className=\"btn w-full\" disabled={!user?.fullAccess && (premiumGames as readonly string[]).includes(game)} title={!user?.fullAccess && (premiumGames as readonly string[]).includes(game) ? 'PREMIUM game' : ''} onClick={()=>{\r\n                  const creatorAvg = user?.username ? getAllTimeAvg(user.username) : 0\r\n                  if (wsGlobal) {\r\n                    wsGlobal.send({ type: 'create-match', game, mode, value: modeValue, startingScore: startScore, creatorAvg, requireCalibration })\r\n                    setShowCreate(false)\r\n                    wsGlobal.send({ type: 'list-matches' })\r\n                  } else {\r\n                    wsRef.current?.send(JSON.stringify({ type: 'create-match', game, mode, value: modeValue, startingScore: startScore, creatorAvg, requireCalibration }))\r\n                    setShowCreate(false)\r\n                    wsRef.current?.send(JSON.stringify({ type: 'list-matches' }))\r\n                  }\r\n                }}>START GAME!</button>\r\n              </div>\r\n            </ResizableModal>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Invitation modal for creator */}\r\n      {pendingInvite && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <ResizableModal storageKey=\"ndn:modal:invite\" className=\"w-full relative\" defaultWidth={620} defaultHeight={420} minWidth={520} minHeight={320} maxWidth={1000} maxHeight={800}>\r\n            <h3 className=\"text-xl font-bold mb-1\">Incoming Match Request</h3>\r\n            <div className=\"text-sm mb-2\">\r\n              <span className=\"font-semibold\">{pendingInvite.fromName}</span> wants to join your match.\r\n              <span className={`ml-2 text-xs px-2 py-0.5 rounded ${pendingInvite.calibrated ? 'bg-emerald-500/20 text-emerald-300 border border-emerald-600/30' : 'bg-amber-500/20 text-amber-200 border border-amber-600/30'}`}>\r\n                {pendingInvite.calibrated ? 'Calibrated' : 'Not calibrated'}\r\n              </span>\r\n            </div>\r\n            {(pendingInvite.game || pendingInvite.mode) && (\r\n              <div className=\"text-xs opacity-80 mb-3\">\r\n                {pendingInvite.game || 'X01'}  {pendingInvite.mode==='firstto' ? `First To ${pendingInvite.value}` : `Best Of ${pendingInvite.value}`} {pendingInvite.game==='X01' && pendingInvite.startingScore ? ` ${pendingInvite.startingScore}` : ''}\r\n              </div>\r\n            )}\r\n            {pendingInvite.boardPreview ? (\r\n              <div className=\"mb-3\">\r\n                <img src={pendingInvite.boardPreview} alt=\"Board preview\" className=\"rounded-lg w-full max-h-64 object-contain bg-black/40 border border-slate-700\" />\r\n              </div>\r\n            ) : (\r\n              <div className=\"mb-3 text-xs opacity-60\">No camera preview provided.</div>\r\n            )}\r\n            <div className=\"flex gap-2\">\r\n              <button className=\"btn bg-emerald-600 hover:bg-emerald-700\" onClick={()=>{\r\n                if (wsGlobal) wsGlobal.send({ type: 'invite-response', matchId: pendingInvite.matchId, accept: true, toId: pendingInvite.fromId })\r\n                else wsRef.current?.send(JSON.stringify({ type: 'invite-response', matchId: pendingInvite.matchId, accept: true, toId: pendingInvite.fromId }))\r\n                setPendingInvite(null)\r\n              }}>Accept</button>\r\n              <button className=\"btn bg-rose-600 hover:bg-rose-700\" onClick={()=>{\r\n                if (wsGlobal) wsGlobal.send({ type: 'invite-response', matchId: pendingInvite.matchId, accept: false, toId: pendingInvite.fromId })\r\n                else wsRef.current?.send(JSON.stringify({ type: 'invite-response', matchId: pendingInvite.matchId, accept: false, toId: pendingInvite.fromId }))\r\n                setPendingInvite(null)\r\n              }}>Decline</button>\r\n            </div>\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Chat popup */}\r\n      {showQuick && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center\">\r\n          <ResizableModal\r\n            storageKey=\"ndn:modal:quick-chat\"\r\n            className=\"w-full relative\"\r\n            defaultWidth={520}\r\n            defaultHeight={280}\r\n            minWidth={360}\r\n            minHeight={220}\r\n            maxWidth={900}\r\n            maxHeight={700}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">Quick Chat</h3>\r\n              <button className=\"btn px-2 py-1 text-sm\" onClick={()=>setShowQuick(false)}>Close</button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-1.5\">\r\n              {['Good luck!','Good game!','Nice darts!','Well played!','Ready?'].map((m) => (\r\n                <button key={m} className=\"btn px-2 py-0.5 text-xs\" onClick={()=>{ sendQuick(m); setShowQuick(false) }} disabled={!connected}>{m}</button>\r\n              ))}\r\n            </div>\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n\r\n      {/* Messages popup */}\r\n      {showMessages && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center\">\r\n          <ResizableModal\r\n            storageKey=\"ndn:modal:messages\"\r\n            className=\"w-full relative\"\r\n            defaultWidth={560}\r\n            defaultHeight={360}\r\n            minWidth={380}\r\n            minHeight={260}\r\n            maxWidth={1000}\r\n            maxHeight={800}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">Messages</h3>\r\n              <button className=\"btn px-2 py-1 text-sm\" onClick={()=>setShowMessages(false)}>Close</button>\r\n            </div>\r\n            <ChatList\r\n              items={chat\r\n                .slice(-30)\r\n                .filter((m) => !blocklist.isBlocked(String(m.fromId || '')))\r\n                .map((m, i) => ({ key: String(i), from: m.from, id: String(m.fromId || m.from), text: m.message }))}\r\n              onDelete={(idx) => setChat(prev => prev.filter((_, i) => i !== idx))}\r\n              onReport={(idx) => {\r\n                const pool = chat.slice(-30).filter((m) => !blocklist.isBlocked(String(m.fromId || '')))\r\n                const item = pool[idx]\r\n                if (!item) return\r\n                reportMessage(null, item.message)\r\n              }}\r\n              onBlock={(idx) => {\r\n                const pool = chat.slice(-30).filter((m) => !blocklist.isBlocked(String(m.fromId || '')))\r\n                const item = pool[idx]\r\n                if (!item) return\r\n                try { blocklist.block(String(item.fromId || item.from)) } catch {}\r\n                setChat(prev => prev.filter(m => String(m.fromId || m.from) !== String(item.fromId || item.from)))\r\n                try { toast(`${item.from} blocked`, { type: 'info' }) } catch {}\r\n              }}\r\n            />\r\n          </ResizableModal>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Small, self-contained chat list with moderation affordances\r\nfunction ChatList({ items, onDelete, onReport, onBlock }: { items: { key: string; from: string; id?: string; text: string }[]; onDelete: (index: number) => void; onReport: (index: number) => void; onBlock?: (index: number) => void }) {\r\n  const mobile = (() => { try { const ua = navigator.userAgent || ''; return /Android|iPhone|iPad|iPod|Mobile/i.test(ua) } catch { return false } })()\r\n  const [touch, setTouch] = useState<{ x: number; y: number; i: number; t: number } | null>(null)\r\n  const [swiped, setSwiped] = useState<number | null>(null)\r\n  return (\r\n    <div className=\"h-24 overflow-auto text-sm divide-y divide-slate-700/40\">\r\n      {items.length === 0 ? (\r\n        <div className=\"opacity-60 py-1\">No messages yet.</div>\r\n      ) : items.map((m, i) => {\r\n        const text = censorProfanity(m.text)\r\n        const flagged = containsProfanity(m.text)\r\n        return (\r\n          <div\r\n            key={m.key}\r\n            className=\"relative group px-1 py-1 flex items-start gap-2\"\r\n            onTouchStart={mobile ? (e) => { const t = e.touches[0]; setTouch({ x: t.clientX, y: t.clientY, i, t: Date.now() }) } : undefined}\r\n            onTouchMove={mobile ? (e) => { if (!touch || touch.i !== i) return; const t = e.touches[0]; const dx = t.clientX - touch.x; if (dx < -40) setSwiped(i) } : undefined}\r\n            onTouchEnd={mobile ? () => { const held = touch ? (Date.now() - touch.t) : 0; if (swiped === i || held > 600) { onDelete(i); setSwiped(null) } setTouch(null) } : undefined}\r\n          >\r\n            <span className=\"text-slate-400 shrink-0\">[{m.from}]</span>\r\n            <span className=\"text-white break-words whitespace-pre-wrap flex-1\">{text}</span>\r\n            {/* Desktop delete (red X) and Report/Block */}\r\n            {!mobile && (\r\n              <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1 ml-2\">\r\n                <button\r\n                  className=\"w-5 h-5 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center\"\r\n                  title=\"Delete message\"\r\n                  aria-label=\"Delete message\"\r\n                  onClick={() => onDelete(i)}\r\n                ></button>\r\n                {onBlock && (\r\n                  <button\r\n                    className=\"px-1.5 py-0.5 rounded bg-slate-700 hover:bg-slate-800 text-slate-100 text-[11px]\"\r\n                    onClick={() => onBlock(i)}\r\n                    title=\"Block sender\"\r\n                  >Block</button>\r\n                )}\r\n                <button\r\n                  className=\"px-1.5 py-0.5 rounded bg-amber-600/40 hover:bg-amber-600/60 text-amber-100 text-[11px]\"\r\n                  onClick={() => onReport(i)}\r\n                  title=\"Report message\"\r\n                >Report</button>\r\n              </div>\r\n            )}\r\n            {/* Flag badge if profanity detected */}\r\n            {flagged && <span className=\"ml-2 text-[10px] px-1 rounded bg-rose-600/30 text-rose-200 border border-rose-600/40\">Filtered</span>}\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n","import { useMatch } from '../store/match'\r\nimport { formatAvg } from '../utils/stats'\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport BarChart from './BarChart'\r\nimport { getGameModeStats, getMonthlyAvg3, getMonthlyFirstNineAvg, getAllTimeAvg, getAllTimeFirstNineAvg, getAllTime } from '../store/profileStats'\r\nimport { allGames } from '../utils/games'\r\nimport TabPills from './ui/TabPills'\r\n\r\nexport default function StatsPanel({ user }: { user?: any }) {\r\n  const { players, inProgress, startingScore, newMatch } = useMatch()\r\n  const [family, setFamily] = useState<'x01' | 'other'>('x01')\r\n  const [playersText, setPlayersText] = useState('Player 1, Player 2')\r\n  const [start, setStart] = useState(501)\r\n  // Opponent compare: select a friend to render on the second card\r\n  const [friends, setFriends] = useState<Array<{ email: string; username?: string }>>([])\r\n  const [opponent, setOpponent] = useState<string>('')\r\n  const [showPicker, setShowPicker] = useState<boolean>(false)\r\n  const [q, setQ] = useState<string>('')\r\n  const [results, setResults] = useState<Array<{ email: string; username?: string }>>([])\r\n  const [searching, setSearching] = useState<boolean>(false)\r\n  const me = String(user?.email || '').toLowerCase()\r\n  useEffect(() => {\r\n    let cancelled = false\r\n    async function load() {\r\n      try {\r\n        if (!me) return\r\n        const res = await fetch(`/api/friends/list?email=${encodeURIComponent(me)}`)\r\n        const j = await res.json().catch(()=>({friends:[]}))\r\n        if (!cancelled) setFriends((j.friends||[]) as Array<{email:string;username?:string}>)\r\n      } catch {}\r\n    }\r\n    load()\r\n    // Refresh occasionally in case friends change while open\r\n    const id = setInterval(load, 20000)\r\n    return () => { cancelled = true; clearInterval(id) }\r\n  }, [me])\r\n\r\n  // Rehydrate previously selected opponent from localStorage (per-user key)\r\n  useEffect(() => {\r\n    try {\r\n      const key = me ? `ndn:stats:opponent:${me}` : 'ndn:stats:opponent'\r\n      const saved = localStorage.getItem(key)\r\n      if (saved) setOpponent(saved)\r\n    } catch {}\r\n  }, [me])\r\n\r\n  // Persist opponent selection\r\n  useEffect(() => {\r\n    try {\r\n      const key = me ? `ndn:stats:opponent:${me}` : 'ndn:stats:opponent'\r\n      if (opponent) localStorage.setItem(key, opponent); else localStorage.removeItem(key)\r\n    } catch {}\r\n  }, [opponent, me])\r\n\r\n  async function runSearch(term: string) {\r\n    setQ(term)\r\n    if (!term.trim()) { setResults([]); return }\r\n    setSearching(true)\r\n    try {\r\n      const res = await fetch(`/api/friends/search?q=${encodeURIComponent(term)}`)\r\n      const j = await res.json().catch(()=>({results:[]}))\r\n      setResults((j.results||[]) as Array<{email:string;username?:string}>)\r\n    } finally { setSearching(false) }\r\n  }\r\n\r\n  // Build a score-frequency distribution for the selected family.\r\n  // For now, we only have X01 in the match store; \"other\" is a placeholder that would read other game stats when added.\r\n  const dist = useMemo(() => {\r\n    const freq = new Map<number, number>()\r\n    if (family === 'x01') {\r\n      for (const p of players) {\r\n        for (const leg of p.legs) {\r\n          for (const v of leg.visits) {\r\n            const s = Math.max(0, Math.min(180, v.score))\r\n            freq.set(s, (freq.get(s) ?? 0) + 1)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // Convert to sorted array (by score asc) and limit to reasonable width\r\n    const arr = Array.from(freq.entries()).sort((a, b) => a[0] - b[0])\r\n    // If very sparse, still show common x01 bands\r\n    if (arr.length === 0 && family === 'x01') {\r\n      [0, 26, 41, 60, 81, 100, 120, 140, 160, 180].forEach(k => freq.set(k, 0))\r\n      return Array.from(freq.entries()).sort((a, b) => a[0] - b[0]).map(([label, value]) => ({ label, value }))\r\n    }\r\n    return arr.map(([label, value]) => ({ label, value }))\r\n  }, [players, family])\r\n\r\n  // Build Other Modes dataset: one bar per mode with value = played, label = mode name, and show played/won in label\r\n  const otherData = useMemo(() => {\r\n    const gm = getGameModeStats(allGames as unknown as string[])\r\n    return (allGames as unknown as string[]).map(mode => {\r\n      const e = gm[mode] || { played: 0, won: 0 }\r\n      // Bar label stays short; detailed caption rendered below values via custom footer\r\n      return { label: mode, value: e.played, extra: e.won }\r\n    })\r\n  }, [family])\r\n\r\n  // Trigger re-render when any game-mode stat updates elsewhere\r\n  useEffect(() => {\r\n    const onUpdate = () => setFamily(f => f) // noop to refresh memo\r\n    window.addEventListener('ndn:stats-updated', onUpdate as any)\r\n    return () => window.removeEventListener('ndn:stats-updated', onUpdate as any)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"mb-4\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h2 className=\"text-xl font-semibold\">Match Stats</h2>\r\n          <span className=\"text-xs opacity-70\">View</span>\r\n        </div>\r\n        <TabPills\r\n          tabs={[{ key: 'x01', label: 'X01' }, { key: 'other', label: 'Other Modes' }]}\r\n          active={family}\r\n          onChange={(k)=> setFamily((k as 'x01'|'other'))}\r\n        />\r\n      </div>\r\n      {players.length === 0 && (\r\n        <div className=\"mb-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"font-semibold mb-2\">No match data yet</div>\r\n          <div className=\"text-sm opacity-80 mb-2\">Start a quick X01 match to generate stats. Stats like Best/Worst 3-dart are finalized when you end the game.</div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 items-end\">\r\n            <div>\r\n              <label className=\"block text-xs text-slate-300 mb-1\">Players (comma separated)</label>\r\n              <input className=\"input w-full\" value={playersText} onChange={e => setPlayersText(e.target.value)} />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-slate-300 mb-1\">Starting Score</label>\r\n              <input className=\"input w-full\" type=\"number\" value={start} onChange={e => setStart(parseInt(e.target.value||'501'))} />\r\n            </div>\r\n            <div>\r\n              <button className=\"btn w-full\" onClick={()=>{\r\n                const names = playersText.split(',').map(s=>s.trim()).filter(Boolean)\r\n                if (!names.length) return alert('Enter at least one player')\r\n                newMatch(names, start)\r\n              }}>Start Match</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {inProgress && (\r\n        <div className=\"mb-3 p-2 rounded-lg text-sm border border-amber-500/40 bg-amber-500/10 text-amber-200\">Note: Detailed leg stats are finalized at the end of the game.</div>\r\n      )}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n        {players.map((p, idx) => (\r\n          <div key={p.id} className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <div className=\"font-semibold\">{idx===1 && !opponent ? (p.name || 'Opponent') : (idx===1 && opponent ? opponent : p.name)}</div>\r\n              {idx === 1 && (\r\n                <div className=\"flex flex-wrap gap-2 items-center\">\r\n                  <button\r\n                    className=\"text-[11px] px-3 py-1 rounded-full bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                    onClick={()=> setShowPicker(s => !s)}\r\n                    title=\"Search user to compare\"\r\n                  >Select Friend</button>\r\n                  {friends.slice(0, 6).map(f => {\r\n                    const lbl = f.username || f.email\r\n                    const active = opponent === lbl\r\n                    return (\r\n                      <button\r\n                        key={f.email}\r\n                        className={`text-[11px] px-3 py-1 rounded-full border ${active ? 'bg-indigo-500/30 border-indigo-400/50' : 'bg-white/5 border-white/10 hover:bg-white/10'}`}\r\n                        onClick={()=> setOpponent(lbl)}\r\n                        title={`Compare vs ${lbl}`}\r\n                      >{lbl}</button>\r\n                    )\r\n                  })}\r\n                  {friends.length === 0 && (\r\n                    <button className=\"text-[11px] px-3 py-1 rounded-full bg-white/5 border border-white/10\" disabled>Find friends to compare</button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n            {idx === 1 && showPicker && (\r\n              <div className=\"mb-2 p-2 rounded-lg bg-black/20 border border-white/10\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <input\r\n                    className=\"input flex-1 py-1\"\r\n                    placeholder=\"Search by name or email\"\r\n                    value={q}\r\n                    onChange={e=> runSearch(e.target.value)}\r\n                  />\r\n                  <button className=\"btn px-3 py-1 text-sm\" onClick={()=> runSearch(q)} disabled={searching}>Search</button>\r\n                </div>\r\n                <ul className=\"max-h-40 overflow-auto space-y-1\">\r\n                  {results.map(r => {\r\n                    const lbl = r.username || r.email\r\n                    return (\r\n                      <li key={r.email}>\r\n                        <button\r\n                          className=\"w-full text-left px-2 py-1 rounded bg-white/5 hover:bg-white/10 border border-white/10 text-sm\"\r\n                          onClick={()=> { setOpponent(lbl); setShowPicker(false) }}\r\n                        >{lbl}</button>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                  {!results.length && (\r\n                    <li className=\"text-xs opacity-70\">{q.trim() ? 'No results' : 'Type to search'}</li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            {/* If second card and an opponent is selected, show their all-time stats; otherwise show the match/player stats */}\r\n            {idx === 1 && opponent ? (\r\n              <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(getAllTime(opponent).best3 || 0)}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Worst 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(getAllTime(opponent).worst3 || 0)}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 9-Dart (fewest darts)</div>\r\n                  <div className=\"font-semibold\">{(() => { const a = getAllTime(opponent); return a.bestLegDarts ? `${a.bestLegDarts} darts` : '' })()}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best Checkout</div>\r\n                  <div className=\"font-semibold\">{getAllTime(opponent).bestCheckout || ''}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">Averages (All-time vs Monthly)</div>\r\n                  <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                    <span>3-dart: {formatAvg(getAllTimeAvg(opponent))}  {formatAvg(getMonthlyAvg3(opponent))}</span>\r\n                    <span>First 9: {formatAvg(getAllTimeFirstNineAvg(opponent))}  {formatAvg(getMonthlyFirstNineAvg(opponent))}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">All-time snapshot</div>\r\n                  {(() => { const all = getAllTime(opponent); return (\r\n                    <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                      <span>Best 3-dart: {formatAvg(all.best3||0)}</span>\r\n                      <span>Worst 3-dart: {formatAvg(all.worst3||0)}</span>\r\n                      <span>Best leg: {all.bestLegDarts || 0} darts</span>\r\n                      <span>Best checkout: {all.bestCheckout || 0}</span>\r\n                    </div>\r\n                  )})()}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(p.bestThreeDartAvg)}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Worst 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(p.worstThreeDartAvg)}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 9-Dart (fewest darts)</div>\r\n                  <div className=\"font-semibold\">{p.bestNineDart ? `${p.bestNineDart.darts} darts` : ''}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best Checkout</div>\r\n                  <div className=\"font-semibold\">{p.bestCheckout ?? ''}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">Averages (All-time vs Monthly)</div>\r\n                  <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                    <span>3-dart: {formatAvg(getAllTimeAvg(p.name))}  {formatAvg(getMonthlyAvg3(p.name))}</span>\r\n                    <span>First 9: {formatAvg(getAllTimeFirstNineAvg(p.name))}  {formatAvg(getMonthlyFirstNineAvg(p.name))}</span>\r\n                  </div>\r\n                </div>\r\n                {/* All-time snapshot */}\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">All-time snapshot</div>\r\n                  {(() => { const all = getAllTime(p.name); return (\r\n                    <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                      <span>Best 3-dart: {formatAvg(all.best3||0)}</span>\r\n                      <span>Worst 3-dart: {formatAvg(all.worst3||0)}</span>\r\n                      <span>Best leg: {all.bestLegDarts || 0} darts</span>\r\n                      <span>Best checkout: {all.bestCheckout || 0}</span>\r\n                    </div>\r\n                  )})()}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n        {/* Opponent compare card: if there are fewer than 2 players, show a selector to compare with a friend */}\r\n        {players.length <= 1 && (\r\n          <div className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <div className=\"font-semibold\">Opponent</div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {friends.slice(0, 6).map(f => {\r\n                  const lbl = f.username || f.email\r\n                  const active = opponent === (f.username || f.email)\r\n                  return (\r\n                    <button\r\n                      key={f.email}\r\n                      className={`text-[11px] px-3 py-1 rounded-full border ${active ? 'bg-indigo-500/30 border-indigo-400/50' : 'bg-white/5 border-white/10 hover:bg-white/10'}`}\r\n                      onClick={()=> setOpponent(lbl)}\r\n                      title={`Compare vs ${lbl}`}\r\n                    >{lbl}</button>\r\n                  )\r\n                })}\r\n                {friends.length === 0 && (\r\n                  <span className=\"text-xs opacity-70\">Add friends to compare stats.</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {opponent ? (\r\n              <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">Comparing to</div>\r\n                  <div className=\"font-semibold\">{opponent}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(getAllTimeAvg(opponent))}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Worst 3-Dart</div>\r\n                  <div className=\"font-semibold\">{formatAvg(getAllTime(opponent).worst3 || 0)}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best 9-Dart (fewest darts)</div>\r\n                  <div className=\"font-semibold\">{(() => { const a = getAllTime(opponent); return a.bestLegDarts ? `${a.bestLegDarts} darts` : '' })()}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10\">\r\n                  <div className=\"text-slate-300\">Best Checkout</div>\r\n                  <div className=\"font-semibold\">{getAllTime(opponent).bestCheckout || ''}</div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">Averages (All-time vs Monthly)</div>\r\n                  <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                    <span>3-dart: {formatAvg(getAllTimeAvg(opponent))}  {formatAvg(getMonthlyAvg3(opponent))}</span>\r\n                    <span>First 9: {formatAvg(getAllTimeFirstNineAvg(opponent))}  {formatAvg(getMonthlyFirstNineAvg(opponent))}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-2 rounded-lg bg-white/5 border border-white/10 col-span-2\">\r\n                  <div className=\"text-slate-300\">All-time snapshot</div>\r\n                  {(() => { const all = getAllTime(opponent); return (\r\n                    <div className=\"font-semibold flex flex-wrap gap-3 text-[13px]\">\r\n                      <span>Best 3-dart: {formatAvg(all.best3||0)}</span>\r\n                      <span>Worst 3-dart: {formatAvg(all.worst3||0)}</span>\r\n                      <span>Best leg: {all.bestLegDarts || 0} darts</span>\r\n                      <span>Best checkout: {all.bestCheckout || 0}</span>\r\n                    </div>\r\n                  )})()}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-sm opacity-70\">Select a friend above to compare.</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Score distribution for selection */}\r\n      <div className=\"mt-6\">\r\n        <div className=\"mb-2 text-sm opacity-80\">Score Distribution ({family.toUpperCase()}): Visits by scored points</div>\r\n        <div className=\"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3\">\r\n          <BarChart data={dist} showValues={false} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Other Modes: Played/Won per game as a bar chart */}\r\n      <div className=\"mt-6\">\r\n        <div className=\"mb-2 text-sm opacity-80\">Other Modes: games played (bar height) with wins shown beneath each label</div>\r\n        <div className=\"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3\">\r\n          {/* Reuse BarChart for bar height = played; render captions underneath */}\r\n          <BarChart data={otherData.map(d => ({ label: d.label, value: d.value }))} showValues={false} />\r\n          <div className=\"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 text-[11px] opacity-80\">\r\n            {otherData.map((d, i) => (\r\n              <div key={i} className=\"flex items-center justify-between px-2 py-1 rounded-md bg-white/5 border border-white/10\">\r\n                <span className=\"truncate mr-2\">{d.label}</span>\r\n                <span className=\"whitespace-nowrap\">Played {d.value}  Won {d.extra}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useMemo, useState } from 'react'\r\nimport ResizableModal from './ui/ResizableModal'\r\nimport { useToast } from '../store/toast'\r\nimport { useWS } from './WSProvider'\r\n\r\ntype Tournament = {\r\n  id: string\r\n  title: string\r\n  game: string\r\n  mode: 'bestof'|'firstto'\r\n  value: number\r\n  description: string\r\n  startAt: number\r\n  checkinMinutes: number\r\n  capacity: number\r\n  participants: { email: string, username: string }[]\r\n  official?: boolean\r\n  prize?: boolean\r\n  prizeType?: 'premium'|'cash'|'none'\r\n  prizeAmount?: number\r\n  currency?: string\r\n  payoutStatus?: 'none'|'pending'|'paid'\r\n  status: 'scheduled'|'running'|'completed'\r\n  winnerEmail?: string|null\r\n  startingScore?: number\r\n  creatorEmail?: string\r\n  creatorName?: string\r\n}\r\n\r\nexport default function Tournaments({ user }: { user: any }) {\r\n  const toast = useToast()\r\n  const wsGlobal = (() => { try { return useWS() } catch { return null } })()\r\n  const [list, setList] = useState<Tournament[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [cooldownUntil, setCooldownUntil] = useState<number | null>(null)\r\n  const [showCreate, setShowCreate] = useState(false)\r\n  const [leaveAsk, setLeaveAsk] = useState<{ open: boolean; t: Tournament | null }>({ open: false, t: null })\r\n  const [form, setForm] = useState({\r\n    title: 'Community X01 Tournament',\r\n    game: 'X01',\r\n    mode: 'bestof' as 'bestof'|'firstto',\r\n    value: 3,\r\n    description: '',\r\n    startAt: new Date(Date.now() + 2*60*60*1000).toISOString().slice(0,16), // local yyyy-mm-ddThh:mm\r\n    checkinMinutes: 15,\r\n    capacity: 8,\r\n    startingScore: 501,\r\n  })\r\n  const isTouch = (() => {\r\n    try { return ('ontouchstart' in window) || (navigator.maxTouchPoints||0) > 0 } catch { return false }\r\n  })()\r\n\r\n  async function refresh() {\r\n    try {\r\n      const res = await fetch('/api/tournaments')\r\n      const data = await res.json()\r\n      setList(Array.isArray(data.tournaments) ? data.tournaments : [])\r\n    } catch {}\r\n  }\r\n  useEffect(() => { refresh() }, [])\r\n\r\n  // Listen for WS push updates from global provider if available\r\n  useEffect(() => {\r\n    if (!wsGlobal) return\r\n    const unsub = wsGlobal.addListener((msg) => {\r\n      try {\r\n        if (msg.type === 'tournaments') setList(msg.tournaments || [])\r\n        // tournament-reminder handled optionally here if desired\r\n      } catch {}\r\n    })\r\n    return () => { unsub() }\r\n  }, [wsGlobal?.connected])\r\n\r\n  const email = String(user?.email || '').toLowerCase()\r\n  // Fetch subscription to detect if user is a recent tournament winner (cooldown)\r\n  useEffect(() => {\r\n    let abort = false\r\n    async function check() {\r\n      if (!email) { setCooldownUntil(null); return }\r\n      try {\r\n        const res = await fetch(`/api/subscription?email=${encodeURIComponent(email)}`)\r\n        const data = await res.json()\r\n        if (!abort) {\r\n          if (data?.source === 'tournament' && typeof data.expiresAt === 'number' && data.expiresAt > Date.now()) {\r\n            setCooldownUntil(data.expiresAt)\r\n          } else {\r\n            setCooldownUntil(null)\r\n          }\r\n        }\r\n      } catch {\r\n        if (!abort) setCooldownUntil(null)\r\n      }\r\n    }\r\n    check()\r\n    return () => { abort = true }\r\n  }, [email])\r\n  function hasJoined(t: Tournament) {\r\n    return !!t.participants?.some(p => p.email === email)\r\n  }\r\n\r\n  // Helper to delete a tournament with proper error handling and owner fallback\r\n  async function deleteTournament(t: Tournament) {\r\n    if (!email) return\r\n    if (!confirm('Delete this tournament?')) return\r\n    setLoading(true)\r\n    try {\r\n      // First try creator/owner shared endpoint\r\n      let res = await fetch('/api/tournaments/delete', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ tournamentId: t.id, requesterEmail: email })\r\n      })\r\n\r\n      // If forbidden but user is the owner, try the admin endpoint as a fallback\r\n      if (!res.ok && res.status === 403 && String(email) === 'daviesfamily108@gmail.com') {\r\n        res = await fetch('/api/admin/tournaments/delete', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ tournamentId: t.id, requesterEmail: email })\r\n        })\r\n      }\r\n\r\n      if (!res.ok) {\r\n        let msg = 'Delete failed'\r\n        try {\r\n          const data = await res.json()\r\n          if (data?.error) msg = `Delete failed: ${String(data.error)}`\r\n        } catch {}\r\n        toast(msg, { type: 'error' })\r\n        return\r\n      }\r\n\r\n      toast('Tournament deleted', { type: 'success' })\r\n      await refresh()\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  async function join(t: Tournament) {\r\n    if (!email) return\r\n    setLoading(true)\r\n    try {\r\n      const res = await fetch('/api/tournaments/join', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ tournamentId: t.id, email, username: user?.username }) })\r\n      if (!res.ok) {\r\n        let data: any = {}\r\n        try { data = await res.json() } catch {}\r\n        if (data?.error === 'WINNER_COOLDOWN' && typeof data.until === 'number') {\r\n          setErrorMsg(`You're a recent NDN tournament winner. You can re-enter after ${fmt(data.until)}.`)\r\n          setTimeout(()=>setErrorMsg(''), 6000)\r\n          toast('Join blocked: winner cooldown active', { type: 'error' })\r\n        } else if (data?.error) {\r\n          setErrorMsg(String(data.error))\r\n          setTimeout(()=>setErrorMsg(''), 3500)\r\n          toast(`Join failed: ${String(data.error)}`, { type: 'error' })\r\n        }\r\n        return\r\n      }\r\n      toast('Joined tournament', { type: 'success' })\r\n      await refresh()\r\n    } finally { setLoading(false) }\r\n  }\r\n\r\n  async function leave(t: Tournament) {\r\n    if (!email) return\r\n    setLoading(true)\r\n    try {\r\n      const res = await fetch('/api/tournaments/leave', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ tournamentId: t.id, email }) })\r\n      if (!res.ok) {\r\n        let data: any = {}\r\n        try { data = await res.json() } catch {}\r\n        if (data?.error) {\r\n          toast(`Leave failed: ${String(data.error)}`, { type: 'error' })\r\n        } else if (res.status === 404) {\r\n          toast('Leave failed (endpoint not found). Restart the server to enable /api/tournaments/leave.', { type: 'error' })\r\n        } else {\r\n          toast('Leave failed. Please try again.', { type: 'error' })\r\n        }\r\n        return\r\n      }\r\n      toast('Left tournament', { type: 'success' })\r\n      // Optimistic local update\r\n      setList(prev => prev.map(it => it.id === t.id ? { ...it, participants: (it.participants||[]).filter(p => p.email !== email) } : it))\r\n      await refresh()\r\n    } finally { setLoading(false) }\r\n  }\r\n\r\n  async function createTournament() {\r\n    setLoading(true)\r\n    try {\r\n      const start = new Date(form.startAt).getTime()\r\n      await fetch('/api/tournaments/create', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({\r\n        title: form.title,\r\n        game: form.game,\r\n        mode: form.mode,\r\n        value: Number(form.value),\r\n        description: form.description,\r\n        startAt: start,\r\n        checkinMinutes: Number(form.checkinMinutes),\r\n        capacity: Number(form.capacity),\r\n        startingScore: form.game==='X01' ? Number(form.startingScore||501) : undefined,\r\n        creatorEmail: user?.email,\r\n        creatorName: user?.username,\r\n      }) })\r\n      setShowCreate(false)\r\n      toast('Tournament created', { type: 'success' })\r\n      await refresh()\r\n    } finally { setLoading(false) }\r\n  }\r\n\r\n  // Close the create modal on Escape\r\n  useEffect(() => {\r\n    if (!showCreate) return\r\n    const onKey = (e: KeyboardEvent) => { if (e.key === 'Escape') setShowCreate(false) }\r\n    document.addEventListener('keydown', onKey)\r\n    return () => document.removeEventListener('keydown', onKey)\r\n  }, [showCreate])\r\n\r\n  const official = useMemo(() => list.filter(t => t.official), [list])\r\n  const community = useMemo(() => list.filter(t => !t.official), [list])\r\n  const nextOfficial = useMemo(() => {\r\n    const upcoming = official\r\n      .filter(t => t.status === 'scheduled')\r\n      .sort((a,b) => a.startAt - b.startAt)\r\n    return upcoming[0] || null\r\n  }, [official])\r\n\r\n  function fmt(ts: number) {\r\n    const d = new Date(ts)\r\n    return d.toLocaleString()\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h2 className=\"text-2xl font-bold\">Tournaments</h2>\r\n      </div>\r\n      {/* Create Tournament+ box (top-right area) */}\r\n      <div className=\"mb-3 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40 flex items-center justify-end\">\r\n        <button className=\"btn\" onClick={()=>setShowCreate(true)}>Create Tournament +</button>\r\n      </div>\r\n      <div className=\"mb-2 text-sm font-semibold text-slate-300\">World Lobby</div>\r\n      {/* Persistent banner for next official weekly tournament */}\r\n      {nextOfficial && (\r\n        <div className=\"mb-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-2\">\r\n            <div>\r\n              <div className=\"text-sm uppercase tracking-wide text-indigo-300 font-semibold\">Weekly Official Tournament</div>\r\n              <div className=\"font-bold\">{nextOfficial.title}</div>\r\n                  <div className=\"text-sm opacity-80\">{nextOfficial.game}{nextOfficial.game==='X01' && nextOfficial.startingScore?`/${nextOfficial.startingScore}`:''}  {nextOfficial.mode==='firstto'?'First to':'Best of'} {nextOfficial.value}  Starts {fmt(nextOfficial.startAt)}  Cap {nextOfficial.capacity}  Joined {nextOfficial.participants.length}</div>\r\n              {nextOfficial.prize && (\r\n                <div className=\"text-xs mt-1\">\r\n                  Prize: {nextOfficial.prizeType === 'cash' && nextOfficial.prizeAmount ? `${nextOfficial.currency||'USD'} ${nextOfficial.prizeAmount}` : '1 month PREMIUM'}\r\n                </div>\r\n              )}\r\n              {nextOfficial.status !== 'scheduled' && <div className=\"text-xs\">Status: {nextOfficial.status}</div>}\r\n              {cooldownUntil && cooldownUntil > Date.now() && (\r\n                <div className=\"text-xs text-rose-300\">Recent winners can re-enter after {fmt(cooldownUntil)}.</div>\r\n              )}\r\n            </div>\r\n            <div className=\"shrink-0\">\r\n              <button\r\n                className={`btn ${hasJoined(nextOfficial) ? 'bg-emerald-600 hover:bg-emerald-600' : ''}`}\r\n                title={hasJoined(nextOfficial)\r\n                  ? 'Double-click to leave this tournament'\r\n                  : (nextOfficial.official && cooldownUntil && cooldownUntil > Date.now() ? `Recent winners can re-enter after ${fmt(cooldownUntil)}` : '')}\r\n                disabled={loading || nextOfficial.status!=='scheduled' || (!hasJoined(nextOfficial) && (nextOfficial.participants.length>=nextOfficial.capacity || (!!cooldownUntil && cooldownUntil > Date.now())))}\r\n                onClick={()=> {\r\n                  if (!hasJoined(nextOfficial)) { join(nextOfficial) }\r\n                  else if (isTouch) { setLeaveAsk({ open: true, t: nextOfficial }) }\r\n                }}\r\n                onDoubleClick={()=> { if (!isTouch && hasJoined(nextOfficial)) setLeaveAsk({ open: true, t: nextOfficial }) }}\r\n                aria-label={hasJoined(nextOfficial) ? 'Already Joined' : 'Join Now'}\r\n              >{hasJoined(nextOfficial) ? 'Already Joined!' : 'Join Now'}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {errorMsg && (\r\n        <div className=\"mb-3 p-2 rounded-lg bg-amber-700/30 border border-amber-600/40 text-amber-200 text-sm\">{errorMsg}</div>\r\n      )}\r\n      <div className=\"space-y-4\">\r\n        <section>\r\n          <div className=\"font-semibold mb-1\">Official</div>\r\n          <div className=\"text-xs opacity-70 mb-2\">\r\n            {cooldownUntil && cooldownUntil > Date.now() ? (\r\n              <>Youre a recent NDN tournament winner  to keep it fair, you can re-enter after {fmt(cooldownUntil)}.</>\r\n            ) : (\r\n              <>Note: Weekly winners can re-enter once their prize month of PREMIUM ends.</>\r\n            )}\r\n          </div>\r\n          <ul className=\"space-y-2\">\r\n            {official.map(t => (\r\n              <li key={t.id} className=\"p-3 rounded bg-black/10 flex items-center justify-between relative\">\r\n                {/* Close button when you are the creator (owner-created official) and it hasn't started */}\r\n                {(t.status==='scheduled' && email && t.creatorEmail && String(t.creatorEmail).toLowerCase()===email) && (\r\n                  <button\r\n                    className=\"absolute top-2 right-2 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow\"\r\n                    title=\"Delete this tournament\"\r\n                    onClick={()=>deleteTournament(t)}\r\n                    aria-label=\"Delete tournament\"\r\n                  ></button>\r\n                )}\r\n                <div className=\"space-y-0.5\">\r\n                  <div className=\"font-semibold\">{t.title} {t.prize && (\r\n                    <span className=\"inline-flex items-center gap-1 ml-2 align-middle\">\r\n                      <span className=\"text-xs px-2 py-0.5 rounded bg-amber-500 text-black\">Prize</span>\r\n                      <span\r\n                        className=\"inline-flex items-center justify-center w-4 h-4 rounded-full bg-slate-600 text-white text-[10px] leading-none cursor-help\"\r\n                        title={t.prizeType==='cash' ? 'Official cash prize tournament  payout handled by admin.' : 'Weekly winners get 1 month of PREMIUM and can re-enter once their prize month ends.'}\r\n                        aria-label=\"Prize info\"\r\n                      >i</span>\r\n                    </span>\r\n                  )}</div>\r\n                  <div className=\"text-sm opacity-80\">{t.game}{t.game==='X01' && t.startingScore?`/${t.startingScore}`:''}  {t.mode==='firstto'?'First to':'Best of'} {t.value}  {fmt(t.startAt)}  Cap {t.capacity}  Joined {t.participants.length}</div>\r\n                  {t.prize && (\r\n                    <div className=\"text-xs\">\r\n                      Prize: {t.prizeType === 'cash' && t.prizeAmount ? `${t.currency||'USD'} ${t.prizeAmount}` : '1 month PREMIUM'}\r\n                      {t.status==='completed' && t.prizeType==='cash' && t.payoutStatus && (\r\n                        <span className={`ml-2 px-2 py-0.5 rounded ${t.payoutStatus==='paid'?'bg-emerald-600':'bg-amber-600'}`}>{t.payoutStatus==='paid'?'Paid':'Pending'}</span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {t.status !== 'scheduled' && <div className=\"text-xs\">Status: {t.status}</div>}\r\n                  {hasJoined(t) && <div className=\"text-xs text-emerald-400 font-semibold\">Already Joined</div>}\r\n                  {t.official && cooldownUntil && cooldownUntil > Date.now() && (\r\n                    <div className=\"text-xs text-rose-300\">Cooldown active until {fmt(cooldownUntil)}.</div>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <button\r\n                    className={`btn ${hasJoined(t) ? 'bg-emerald-600 hover:bg-emerald-600' : ''}`}\r\n                    title={hasJoined(t)\r\n                      ? 'Double-click to leave this tournament'\r\n                      : (t.official && cooldownUntil && cooldownUntil > Date.now() ? `Recent winners can re-enter after ${fmt(cooldownUntil)}` : '')}\r\n                    disabled={loading || t.status!=='scheduled' || (!hasJoined(t) && (t.participants.length>=t.capacity || (t.official && !!cooldownUntil && cooldownUntil > Date.now())))}\r\n                    onClick={()=> { if (!hasJoined(t)) { join(t) } else if (isTouch) { setLeaveAsk({ open: true, t }) } }}\r\n                    onDoubleClick={()=> { if (!isTouch && hasJoined(t)) setLeaveAsk({ open: true, t }) }}\r\n                    aria-label={hasJoined(t) ? 'Already Joined' : 'Join Now'}\r\n                  >{hasJoined(t) ? 'Already Joined!' : 'Join Now'}</button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n            {official.length === 0 && <li className=\"text-sm opacity-60\">No official tournaments yet.</li>}\r\n          </ul>\r\n        </section>\r\n\r\n        <section>\r\n          <div className=\"font-semibold mb-1\">Community</div>\r\n          <ul className=\"space-y-2\">\r\n            {community.map(t => (\r\n              <li key={t.id} className=\"p-3 rounded bg-black/10 flex items-center justify-between relative\">\r\n                {/* Close button for creator to delete their own scheduled tournament */}\r\n                {(t.status==='scheduled' && email && t.creatorEmail && String(t.creatorEmail).toLowerCase()===email) && (\r\n                  <button\r\n                    className=\"absolute top-2 right-2 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow\"\r\n                    title=\"Delete this tournament\"\r\n                    onClick={()=>deleteTournament(t)}\r\n                    aria-label=\"Delete tournament\"\r\n                  ></button>\r\n                )}\r\n                <div className=\"space-y-0.5\">\r\n                  <div className=\"font-semibold\">{t.title}</div>\r\n                  <div className=\"text-sm opacity-80\">{t.game}{t.game==='X01' && t.startingScore?`/${t.startingScore}`:''}  {t.mode==='firstto'?'First to':'Best of'} {t.value}  {fmt(t.startAt)}  Cap {t.capacity}  Joined {t.participants.length}</div>\r\n                  {t.description && <div className=\"text-xs opacity-80\">{t.description}</div>}\r\n                  {hasJoined(t) && <div className=\"text-xs text-emerald-400 font-semibold\">Already Joined</div>}\r\n                </div>\r\n                <div>\r\n                  <button\r\n                    className=\"btn\"\r\n                    title={hasJoined(t) ? 'Double-click to leave this tournament' : ''}\r\n                    disabled={loading || t.status!=='scheduled' || (!hasJoined(t) && t.participants.length>=t.capacity)}\r\n                    onClick={()=> { if (!hasJoined(t)) { join(t) } else if (isTouch) { setLeaveAsk({ open: true, t }) } }}\r\n                    onDoubleClick={()=> { if (!isTouch && hasJoined(t)) setLeaveAsk({ open: true, t }) }}\r\n                  >{hasJoined(t) ? 'Already Joined' : 'Join Now'}</button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n            {community.length === 0 && <li className=\"text-sm opacity-60\">No community tournaments yet.</li>}\r\n          </ul>\r\n        </section>\r\n      </div>\r\n\r\n      {showCreate && (\r\n        <div className=\"mb-4\">\r\n          <div className=\"card relative\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h3 className=\"text-xl font-semibold\">Create Tournament</h3>\r\n              <button className=\"btn\" onClick={()=>setShowCreate(false)}>Close</button>\r\n            </div>\r\n            <div className=\"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4 pr-1\">\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-1\">Title</label>\r\n                <input className=\"input w-full\" value={form.title} onChange={e=>setForm(f=>({ ...f, title: e.target.value }))} />\r\n              </div>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Game</label>\r\n                  <select className=\"input w-full\" value={form.game} onChange={e=>setForm(f=>({ ...f, game: e.target.value }))}>\r\n                    {['X01','Around the Clock','Cricket','Halve It','Shanghai','High-Low','Killer'].map(g => <option key={g} value={g}>{g}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Mode</label>\r\n                  <select className=\"input w-full\" value={form.mode} onChange={e=>setForm(f=>({ ...f, mode: e.target.value as any }))}>\r\n                    <option value=\"bestof\">Best of</option>\r\n                    <option value=\"firstto\">First to</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Number</label>\r\n                  <input className=\"input w-full\" type=\"number\" min={1} value={form.value} onChange={e=>setForm(f=>({ ...f, value: Number(e.target.value) }))} />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-1\">Description</label>\r\n                <textarea className=\"input w-full\" rows={5} value={form.description} onChange={e=>setForm(f=>({ ...f, description: e.target.value }))} />\r\n              </div>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Start time</label>\r\n                  <input className=\"input w-full\" type=\"datetime-local\" value={form.startAt} onChange={e=>setForm(f=>({ ...f, startAt: e.target.value }))} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Check-in reminder (min)</label>\r\n                  <input className=\"input w-full\" type=\"number\" min={0} value={form.checkinMinutes} onChange={e=>setForm(f=>({ ...f, checkinMinutes: Number(e.target.value) }))} />\r\n                </div>\r\n              </div>\r\n              {form.game==='X01' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">X01 Starting Score</label>\r\n                  <select className=\"input w-full\" value={String(form.startingScore)} onChange={e=>setForm(f=>({ ...f, startingScore: Number(e.target.value) }))}>\r\n                    {[301, 501, 701].map(s => <option key={s} value={s}>{s}</option>)}\r\n                  </select>\r\n                </div>\r\n              )}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-1\">Capacity</label>\r\n                <input className=\"input w-full\" type=\"number\" min={6} max={64} value={form.capacity} onChange={e=>setForm(f=>({ ...f, capacity: Number(e.target.value) }))} />\r\n              </div>\r\n              <div className=\"text-xs opacity-70\">Note: community tournaments do not award prizes.</div>\r\n              <div className=\"flex justify-end\">\r\n                <button className=\"btn\" disabled={loading} onClick={createTournament}>Create</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {leaveAsk.open && leaveAsk.t && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n          <div className=\"absolute inset-0 bg-black/40\" onClick={()=>setLeaveAsk({ open: false, t: null })} />\r\n          <div className=\"relative card p-4 w-[360px] max-w-[90vw]\">\r\n            <div className=\"text-lg font-semibold mb-2\">Leave tournament?</div>\r\n            <div className=\"text-sm opacity-80 mb-4\">Are you sure you want to remove yourself from {leaveAsk.t.title}?</div>\r\n            <div className=\"flex items-center justify-end gap-2\">\r\n              <button\r\n                className=\"btn bg-rose-600 hover:bg-rose-700\"\r\n                onClick={()=>setLeaveAsk({ open: false, t: null })}\r\n              >Decline</button>\r\n              <button\r\n                className=\"btn bg-emerald-600 hover:bg-emerald-700\"\r\n                onClick={async ()=>{ const t = leaveAsk.t!; setLeaveAsk({ open: false, t: null }); await leave(t) }}\r\n              >Accept</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","export default function AdminAccess() {\r\n  return (\r\n    <div className=\"card\">\r\n  <h2 className=\"text-2xl font-bold text-indigo-300 mb-2\">Admin PREMIUM</h2>\r\n  <p className=\"mb-2 text-indigo-200\">Unlock every game mode known to darts, advanced stats, and admin tools.</p>\r\n      <ul className=\"mb-4\">\r\n        <li>All game modes (including paid/advanced)</li>\r\n        <li>Online play with all rules and variations</li>\r\n        <li>Advanced analytics and leaderboards</li>\r\n        <li>Admin tools for managing matches and users</li>\r\n      </ul>\r\n  <a href=\"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold shadow-lg hover:scale-105 transition\">Subscribe to PREMIUM</a>\r\n    </div>\r\n  );\r\n}","import React, { useEffect, type ReactNode } from 'react'\r\n\r\ntype DrawerProps = {\r\n  open: boolean\r\n  onClose: () => void\r\n  width?: number | string\r\n  title?: string\r\n  footer?: ReactNode\r\n  children: ReactNode\r\n  side?: 'left' | 'right'\r\n}\r\n\r\nexport default function Drawer({ open, onClose, width = 700, title, footer, children, side = 'right' }: DrawerProps) {\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) { if (e.key === 'Escape') onClose() }\r\n    if (open) document.addEventListener('keydown', onKey)\r\n    return () => document.removeEventListener('keydown', onKey)\r\n  }, [open, onClose])\r\n\r\n  return (\r\n    <div className={`fixed inset-0 z-50 ${open ? '' : 'pointer-events-none'}`} aria-hidden={!open}>\r\n      {/* Backdrop */}\r\n      <div className={`absolute inset-0 bg-black/60 transition-opacity ${open ? 'opacity-100' : 'opacity-0'}`} onClick={onClose} />\r\n      {/* Panel */}\r\n      <div\r\n        className={`absolute top-0 ${side==='right' ? 'right-0 border-l' : 'left-0 border-r'} h-full bg-slate-900 border-slate-700 shadow-2xl w-full sm:w-auto flex flex-col transition-transform duration-200 ${open ? 'translate-x-0' : (side==='right' ? 'translate-x-full' : '-translate-x-full')}`}\r\n        style={{ width: typeof width === 'number' ? `${width}px` : width }}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-slate-700 sticky top-0 bg-slate-900 z-10\">\r\n          <div className=\"text-lg font-semibold\">{title}</div>\r\n          <button className=\"btn px-3 py-1 text-sm\" onClick={onClose}>Close</button>\r\n        </div>\r\n        {/* Body */}\r\n        <div className=\"flex-1 overflow-auto p-4\">\r\n          {children}\r\n        </div>\r\n        {/* Footer */}\r\n        {footer && (\r\n          <div className=\"px-4 py-3 border-t border-slate-700 sticky bottom-0 bg-slate-900 z-10\">\r\n            {footer}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useIsAdmin } from '../utils/admin'\r\n\r\ntype Ready = { ok: boolean; ws?: boolean; rooms?: number; clients?: number; mem?: { rss: number; heapUsed: number } }\r\n\r\nexport default function OpsDashboard({ user }: { user: any }) {\r\n  const isAdmin = useIsAdmin(user?.email)\r\n  const [ready, setReady] = useState<Ready|null>(null)\r\n  const [ann, setAnn] = useState<string>('')\r\n  const [msg, setMsg] = useState<string>('')\r\n\r\n  async function refresh() {\r\n    try {\r\n      const res = await fetch('/readyz')\r\n      setReady(await res.json())\r\n    } catch {}\r\n  }\r\n  useEffect(() => {\r\n    refresh()\r\n    const id = setInterval(refresh, 5000)\r\n    return () => clearInterval(id)\r\n  }, [])\r\n\r\n  if (!isAdmin) return (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-2xl font-bold text-brand-700 mb-2\">Ops</h2>\r\n      <div>Restricted</div>\r\n    </div>\r\n  )\r\n\r\n  async function toggleMaintenance(enabled: boolean) {\r\n    setMsg('')\r\n    try {\r\n      const res = await fetch('/api/admin/maintenance', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ enabled, requesterEmail: user?.email }) })\r\n      const j = await res.json()\r\n      if (!res.ok || !j?.ok) setMsg(j?.error || 'Failed')\r\n      else setMsg(`Maintenance ${enabled ? 'enabled' : 'disabled'}`)\r\n    } catch { setMsg('Network error') }\r\n  }\r\n\r\n  async function announce() {\r\n    setMsg('')\r\n    const text = ann.trim()\r\n    if (!text) return\r\n    try {\r\n      const res = await fetch('/api/admin/announce', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ message: text, requesterEmail: user?.email }) })\r\n      const j = await res.json()\r\n      if (!res.ok || !j?.ok) setMsg(j?.error || 'Failed')\r\n      else setMsg('Announcement broadcasted')\r\n      setAnn('')\r\n    } catch { setMsg('Network error') }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-2xl font-bold text-brand-700 mb-2\">Ops</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n        <div className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"font-semibold mb-1\">Readiness</div>\r\n          <div className=\"text-sm\">HTTP: <span className={`font-semibold ${ready?.ok ? 'text-emerald-300' : 'text-rose-300'}`}>{String(!!ready?.ok)}</span></div>\r\n          <div className=\"text-sm\">WS: <span className={`font-semibold ${ready?.ws ? 'text-emerald-300' : 'text-rose-300'}`}>{String(!!ready?.ws)}</span></div>\r\n          <div className=\"text-sm\">Clients: <span className=\"font-semibold\">{ready?.clients ?? 0}</span></div>\r\n          <div className=\"text-sm\">Rooms: <span className=\"font-semibold\">{ready?.rooms ?? 0}</span></div>\r\n          <div className=\"text-sm\">Heap Used: <span className=\"font-semibold\">{ready?.mem ? Math.round(ready.mem.heapUsed/1024/1024) : 0} MB</span></div>\r\n        </div>\r\n        <div className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"font-semibold mb-1\">Maintenance</div>\r\n          <div className=\"flex gap-2\">\r\n            <button className=\"btn\" onClick={()=>toggleMaintenance(true)}>Enable</button>\r\n            <button className=\"btn bg-slate-700 hover:bg-slate-800\" onClick={()=>toggleMaintenance(false)}>Disable</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10\">\r\n          <div className=\"font-semibold mb-1\">Announcement</div>\r\n          <div className=\"flex gap-2\">\r\n            <input className=\"input flex-1\" placeholder=\"Message to broadcast\" value={ann} onChange={e=>setAnn(e.target.value)} />\r\n            <button className=\"btn\" onClick={announce}>Send</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {msg && <div className=\"text-xs mt-2\">{msg}</div>}\r\n      <div className=\"text-xs opacity-70 mt-2\">Note: For 1.5k+ concurrent users, deploy the server behind a reverse proxy (NGINX/Cloudflare), enable process clustering, and scale horizontally with sticky sessions for WebSockets.</div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { Sidebar, TabKey } from './components/Sidebar'\r\nimport Home from './components/Home'\r\nimport ScrollFade from './components/ScrollFade'\r\nimport Calibrator from './components/Calibrator'\r\nimport OfflinePlay from './components/OfflinePlay'\r\nimport Friends from './components/Friends'\r\nimport Toaster from './components/Toaster'\r\nimport AdminDashboard from './components/AdminDashboard'\r\nimport SettingsPanel from './components/SettingsPanel'\r\nimport Auth from './components/Auth'\r\nimport { ThemeProvider } from './components/ThemeContext'\r\nimport { useWS } from './components/WSProvider'\r\nimport StatusDot from './components/ui/StatusDot'\r\nimport { getRollingAvg, getAllTimeAvg } from './store/profileStats'\r\nimport { useUserSettings } from './store/userSettings'\r\nimport './styles/premium.css'\r\nimport Scoreboard from './components/Scoreboard'\r\nimport CameraView from './components/CameraView'\r\nimport OnlinePlay from './components/OnlinePlay'\r\nimport MatchSettings from './components/MatchSettings'\r\nimport StatsPanel from './components/StatsPanel'\r\nimport Tournaments from './components/Tournaments'\r\nimport AdminAccess from './components/AdminAccess'\r\n// AdminAccess already imported above\r\nimport Drawer from './components/ui/Drawer'\r\nimport { getDominantColorFromImage, stringToColor } from './utils/color'\r\nimport OpsDashboard from './components/OpsDashboard'\r\n\r\nexport default function App() {\r\n  const appRef = useRef<HTMLDivElement | null>(null);\r\n  const [avatar, setAvatar] = useState<string>('');\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [httpsInfo, setHttpsInfo] = useState<{ https: boolean; port: number } | null>(null);\r\n  const ws = (() => { try { return useWS() } catch { return null } })()\r\n  const [tab, setTab] = useState<TabKey>('score')\r\n  const [isMobile, setIsMobile] = useState<boolean>(false)\r\n  const [navOpen, setNavOpen] = useState<boolean>(false)\r\n  const [user, setUser] = useState<any>(null)\r\n  const [allTimeAvg, setAllTimeAvg] = useState<number>(0)\r\n  const { avgMode } = useUserSettings()\r\n\r\n\r\n  // Restore user from localStorage on mount\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('mockUser');\r\n    if (savedUser) setUser(JSON.parse(savedUser));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onLogout = () => {\r\n      try {\r\n        localStorage.removeItem('mockUser');\r\n      } catch {}\r\n      setUser(null);\r\n      setTab('score');\r\n    };\r\n    window.addEventListener('ndn:logout' as any, onLogout as any);\r\n    return () => window.removeEventListener('ndn:logout' as any, onLogout as any);\r\n  }, []);\r\n  // Refresh all-time avg when user changes or stats update\r\n  useEffect(() => {\r\n    if (!user?.username) return\r\n    const refresh = () => setAllTimeAvg(avgMode === '24h' ? getRollingAvg(user.username) : getAllTimeAvg(user.username))\r\n    refresh()\r\n    const onUpdate = () => refresh()\r\n    window.addEventListener('ndn:stats-updated', onUpdate as any)\r\n    return () => window.removeEventListener('ndn:stats-updated', onUpdate as any)\r\n  }, [user?.username, avgMode])\r\n\r\n  // Global logout handler: return to sign-in screen and clear minimal local user context\r\n  useEffect(() => {\r\n    const onLogout = () => {\r\n      try {\r\n        // Clear any lightweight local flags (keep stats unless explicitly reset)\r\n        localStorage.removeItem('ndn:avatar')\r\n      } catch {}\r\n      setUser(null)\r\n      setTab('score')\r\n    }\r\n    window.addEventListener('ndn:logout' as any, onLogout as any)\r\n    return () => window.removeEventListener('ndn:logout' as any, onLogout as any)\r\n  }, [])\r\n\r\n  // Apply username changes from Settings globally and propagate via WS presence\r\n  useEffect(() => {\r\n    const onName = (e: any) => {\r\n      try {\r\n        const next = String(e?.detail?.username || '').trim()\r\n        if (!next) return\r\n        setUser((prev: any) => {\r\n          const u = prev ? { ...prev, username: next } : prev\r\n          return u\r\n        })\r\n        // Recompute name color on next effect pass based on new username/avatar\r\n        // Send presence update so friends/lobby reflect the new name\r\n        try {\r\n          const email = (user?.email || '').toLowerCase()\r\n          if (ws && next && email) ws.send({ type: 'presence', username: next, email })\r\n        } catch {}\r\n      } catch {}\r\n    }\r\n    window.addEventListener('ndn:username-changed' as any, onName as any)\r\n    return () => window.removeEventListener('ndn:username-changed' as any, onName as any)\r\n  }, [ws, user?.email])\r\n\r\n  async function fetchSubscription(u: any) {\r\n    try {\r\n      const q = u?.email ? `?email=${encodeURIComponent(u.email)}` : ''\r\n      const res = await fetch('/api/subscription' + q);\r\n      if (!res.ok) return;\r\n      const data = await res.json();\r\n      setUser({ ...u, fullAccess: !!data?.fullAccess });\r\n    } catch {}\r\n  }\r\n\r\n  if (!user) {\r\n    return <Auth onAuth={(u:any) => { setUser(u); fetchSubscription(u); }} />;\r\n  }\r\n  const fallbackAvatar = `https://ui-avatars.com/api/?name=${encodeURIComponent(user.username||'NDN')}&background=8F43EE&color=fff&bold=true&rounded=true&size=64`\r\n  return (\r\n    <ThemeProvider>\r\n  <div ref={appRef} className={`${user?.fullAccess ? 'premium-body' : ''} h-screen overflow-hidden p-2 sm:p-4`}>\r\n        <Toaster />\r\n  <div className=\"max-w-[1400px] mx-auto grid grid-cols-1 sm:grid-cols-[auto,1fr] gap-3 sm:gap-4 h-full overflow-hidden\">\r\n          {/* Desktop sidebar; hidden on mobile */}\r\n          {!isMobile && (\r\n            <div className=\"relative\" style={{ width: 240 }}>\r\n              <Sidebar active={tab} onChange={(k)=>{ setTab(k); }} user={user} />\r\n            </div>\r\n          )}\r\n          {/* Wrap header + scroller in a column so header stays static and only content scrolls below it */}\r\n          <div className=\"flex flex-col h-full overflow-hidden\">\r\n            <div className=\"pt-2\">\r\n            <header id=\"ndn-header\" className={`header glass flex-col md:flex-row gap-2 md:gap-3`}>\r\n              {/* Left: Brand */}\r\n              <div className=\"flex items-center gap-2 order-1\">\r\n                {isMobile && (\r\n                  <button\r\n                    className=\"btn px-3 py-1 mr-1\"\r\n                    aria-label=\"Open navigation\"\r\n                    onClick={()=> setNavOpen(true)}\r\n                  ></button>\r\n                )}\r\n                <h1\r\n                  className=\"text-xl md:text-2xl font-bold text-brand-700 whitespace-nowrap cursor-pointer select-none\"\r\n                  onClick={() => { if (isMobile) setTab('score') }}\r\n                  title={isMobile ? 'Go Home' : undefined}\r\n                >\r\n                  NINE-DART-NATION \r\n                </h1>\r\n              </div>\r\n              {/* Middle: Welcome band (full width on mobile) */}\r\n              <div className=\"order-3 md:order-2 w-full md:w-auto flex-1 flex flex-col items-center justify-center text-center md:text-left !text-black\">\r\n                <span className=\"text-base md:text-lg font-semibold flex items-center gap-2 max-w-full truncate !text-black\" style={{ color: '#000000', WebkitTextFillColor: '#000000' }}>\r\n                  <span className=\"hidden sm:inline !text-black\">Welcome,</span>\r\n                  <img src={avatar || fallbackAvatar} alt=\"avatar\" className=\"w-6 h-6 md:w-7 md:h-7 rounded-full ring-2 ring-white/20\" />\r\n                  <span className=\"truncate !text-black\" style={{ color: '#000000', WebkitTextFillColor: '#000000' }}>{user.username}</span>\r\n                </span>\r\n                <span className=\"hidden sm:inline text-xs md:text-sm !text-black\" style={{ color: '#000000', WebkitTextFillColor: '#000000' }}>All-time 3-dart avg: <span className=\"font-semibold !text-black\" style={{ color: '#000000', WebkitTextFillColor: '#000000' }}>{allTimeAvg.toFixed(2)}</span></span>\r\n              </div>\r\n              {/* Right: Status + Actions */}\r\n              <div className=\"order-2 md:order-3 ml-0 md:ml-auto flex items-center gap-2 flex-wrap\">\r\n                <button\r\n                  className=\"px-3 py-1 text-sm rounded-full bg-white/5 hover:bg-white/10 border border-white/10\"\r\n                  onClick={() => {\r\n                    const el = appRef.current\r\n                    if (!el) return\r\n                    if (!document.fullscreenElement) el.requestFullscreen().catch(()=>{})\r\n                    else document.exitFullscreen().catch(()=>{})\r\n                  }}\r\n                  title={isFullscreen ? 'Exit Full Screen' : 'Enter Full Screen'}\r\n                >{isFullscreen ? 'Exit Full Screen' : 'Full Screen'}</button>\r\n                {tab === 'online' && (\r\n                  <button\r\n                    className=\"text-[10px] md:text-xs px-3 py-1 rounded-full bg-indigo-500/25 text-indigo-100 border border-indigo-400/40 hover:bg-indigo-500/40\"\r\n                    title=\"Open a simulated online match\"\r\n                    onClick={() => {\r\n                      setTimeout(() => {\r\n                        try { window.dispatchEvent(new CustomEvent('ndn:online-match-demo', { detail: { game: 'X01', start: 501 } })) } catch {}\r\n                      }, 40)\r\n                    }}\r\n                  >ONLINE DEMO</button>\r\n                )}\r\n                {ws ? (\r\n                  <span className=\"ml-0 md:ml-2\"><StatusDot status={ws.status} /></span>\r\n                ) : null}\r\n                {httpsInfo?.https ? (\r\n                  <span className=\"text-[10px] md:text-xs px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-200 border border-emerald-400/40\" title={`Phone HTTPS active on :${httpsInfo.port}`}>HTTPS READY</span>\r\n                ) : (\r\n                  <span className=\"text-[10px] md:text-xs px-3 py-1 rounded-full bg-slate-600/30 text-slate-300 border border-slate-400/30\" title=\"Enable HTTPS for iPhone camera pairing\">HTTP ONLY</span>\r\n                )}\r\n              </div>\r\n            </header>\r\n            </div>\r\n            {/* Mobile drawer navigation */}\r\n            {isMobile && (\r\n              <MobileNav\r\n                open={navOpen}\r\n                onClose={()=> setNavOpen(false)}\r\n                active={tab}\r\n                onChange={(k)=>{ setTab(k); setNavOpen(false) }}\r\n                user={user}\r\n              />\r\n            )}\r\n            <main id=\"ndn-main-scroll\" className=\"space-y-4 flex-1 overflow-y-auto pr-1\">\r\n            {tab === 'settings' && (\r\n              <ScrollFade>\r\n                <SettingsPanel user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'score' && (\r\n              <ScrollFade>\r\n                <Home user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'online' && (\r\n              <ScrollFade>\r\n                <OnlinePlay user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'offline' && (\r\n              <ScrollFade>\r\n                <OfflinePlay user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'calibrate' && (\r\n              <ScrollFade>\r\n                <Calibrator />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'friends' && (\r\n              <ScrollFade>\r\n                <Friends user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'stats' && (\r\n              <ScrollFade>\r\n                <StatsPanel user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'tournaments' && (\r\n              <ScrollFade>\r\n                <Tournaments user={user} />\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'admin' && (\r\n              <ScrollFade>\r\n                <div className=\"space-y-6\">\r\n                  <AdminDashboard user={user} />\r\n                  <OpsDashboard user={user} />\r\n                </div>\r\n              </ScrollFade>\r\n            )}\r\n            {tab === 'fullaccess' && (\r\n              <ScrollFade>\r\n                <AdminAccess />\r\n              </ScrollFade>\r\n            )}\r\n            </main>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\n// Lightweight mobile drawer that reuses the same Sidebar\r\nfunction MobileNav({ open, onClose, active, onChange, user }: { open: boolean; onClose: () => void; active: TabKey; onChange: (k: TabKey)=>void; user: any }) {\r\n  return (\r\n    <Drawer open={open} onClose={onClose} width={320} side=\"left\" title=\"Navigate\">\r\n      <div className=\"mt-2\">\r\n        <Sidebar active={active} onChange={onChange} user={user} className=\"flex relative static max-h-[80vh] w-full\" />\r\n      </div>\r\n    </Drawer>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nfunction validatePassword(password: string) {\r\n  return password.length >= 10 && /\\d/.test(password) && /[^A-Za-z0-9]/.test(password)\r\n}\r\n\r\nexport default function ResetPassword() {\r\n  const [token, setToken] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirm, setConfirm] = useState('')\r\n  const [error, setError] = useState('')\r\n  const [success, setSuccess] = useState('')\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const sp = new URLSearchParams(window.location.search)\r\n      const t = sp.get('token') || ''\r\n      setToken(t)\r\n    } catch {}\r\n  }, [])\r\n\r\n  async function onSubmit(e: any) {\r\n    e.preventDefault()\r\n    setError(''); setSuccess('')\r\n    if (!token) { setError('Missing or invalid reset token.'); return }\r\n    if (!password || password !== confirm) { setError('Passwords do not match.'); return }\r\n    if (!validatePassword(password)) { setError('Password must be at least 10 chars and include a number and symbol.'); return }\r\n    try {\r\n      const r = await fetch('/api/auth/confirm-reset', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ token, newPassword: password }) })\r\n      const j = await r.json()\r\n      if (!j?.ok) throw new Error(j?.error || 'Reset failed')\r\n      setSuccess('Password changed. You can now sign in.')\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Reset failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center relative overflow-hidden\">\r\n      <div className=\"background-animated\" />\r\n      <div className=\"relative z-10 w-full max-w-lg mx-auto p-4\">\r\n        <form className=\"card w-full space-y-4\" onSubmit={onSubmit}>\r\n          <div className=\"flex flex-col items-center justify-center gap-2 mb-2 text-center\">\r\n            <h1 className=\"logo text-center\">Reset your password</h1>\r\n          </div>\r\n          {!token && (\r\n            <div className=\"text-red-400\">This reset link is missing a token. Please use the link from your email.</div>\r\n          )}\r\n          <input className=\"input w-full\" type=\"password\" placeholder=\"New password\" value={password} onChange={e=>setPassword(e.target.value)} required />\r\n          <input className=\"input w-full\" type=\"password\" placeholder=\"Confirm password\" value={confirm} onChange={e=>setConfirm(e.target.value)} required />\r\n          {error && <div className=\"text-red-400 font-semibold text-sm\">{error}</div>}\r\n          {success && <div className=\"text-emerald-400 font-semibold text-sm\">{success}</div>}\r\n          <button className=\"btn w-full\" type=\"submit\" disabled={!token}>Change Password</button>\r\n          <a className=\"underline text-sm text-center\" href=\"/\">Back to sign in</a>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Component, type ReactNode } from 'react'\r\n\r\nexport default class ErrorBoundary extends Component<{\r\n  children: ReactNode\r\n}, { hasError: boolean; message?: string }>{\r\n  constructor(props: any) {\r\n    super(props)\r\n    this.state = { hasError: false }\r\n  }\r\n  static getDerivedStateFromError(err: any) {\r\n    return { hasError: true, message: String(err?.message || err) }\r\n  }\r\n  componentDidCatch(error: any, info: any) {\r\n    // eslint-disable-next-line no-console\r\n    console.error('[ErrorBoundary]', error, info)\r\n  }\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-6\">\r\n          <div className=\"card max-w-lg w-full text-center\">\r\n            <h2 className=\"text-2xl font-bold mb-2\">Something went wrong</h2>\r\n            <p className=\"opacity-80 mb-4\">Please refresh the page. If this persists, let us know.</p>\r\n            {this.state.message && (\r\n              <pre className=\"text-xs bg-black/40 rounded p-2 overflow-auto text-left\">{this.state.message}</pre>\r\n            )}\r\n            <button className=\"btn mt-4\" onClick={() => window.location.reload()}>Reload</button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return this.props.children as any\r\n  }\r\n}\r\n","import { StrictMode } from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport App from './App'\r\nimport ResetPassword from './components/ResetPassword'\r\nimport { WSProvider } from './components/WSProvider'\r\nimport ErrorBoundary from './components/ErrorBoundary'\r\n\r\n// In some hosting setups, third-party or legacy code may expect a global React.\r\n// This ensures `React` is available at runtime to prevent 'React is not defined' errors.\r\ntry { (window as any).React = (window as any).React || {} } catch {}\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <StrictMode>\r\n    <ErrorBoundary>\r\n      <WSProvider>\r\n        <Root />\r\n      </WSProvider>\r\n    </ErrorBoundary>\r\n  </StrictMode>,\r\n)\r\n\r\nfunction Root() {\r\n  const path = window.location.pathname\r\n  if (path === '/reset') return <ResetPassword />\r\n  return <App />\r\n}\r\n\r\n"],"names":["l","n","p","q","r","t","u","v","w","x","y","z","A","a","B","C","D","E","b","e","F","G","H","I","J","K","L","M","d","c","k","h","g","f","m","N","O","escape","P","Q","R","S","T","U","V","W","X","react_production_min","reactModule","require$$0","reactJsxRuntime_production_min","jsxRuntimeModule","exports","schedulerModule","aa","ca","require$$1","da","ea","fa","ha","ia","ja","ka","la","ma","oa","pa","qa","ra","sa","ta","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Va","Wa","Xa","Ya","Za","ab","bb","cb","db","eb","fb","gb","hb","ib","jb","kb","lb","mb","nb","ob","pb","qb","rb","sb","tb","ub","vb","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","oc","nc","pc","qc","rc","sc","tc","uc","vc","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","Wc","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","id","jd","kd","ld","md","nd","od","pd","qd","rd","sd","td","ud","vd","wd","xd","yd","Ad","zd","Bd","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","ce","de","ee","fe","ge","he","ie","je","ke","le","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","Ie","Je","Ke","Le","Me","Ne","Oe","Pe","Qe","Re","Se","Te","Ue","Ve","We","Xe","Ye","Ze","$e","af","bf","cf","df","ef","ff","gf","hf","jf","kf","lf","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","na","xa","$a","ba","xf","yf","zf","Af","Bf","Cf","Df","Ef","Ff","Gf","Hf","Jf","If","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","jh","kh","lh","mh","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","gi","hi","ii","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","ej","fj","gj","hj","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Kj","Lj","Mj","Nj","Oj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","Xj","Yj","Zj","ak","bk","ck","dk","ek","fk","gk","hk","ik","jk","kk","lk","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","Qk","Rk","Sk","Tk","Uk","Vk","Wk","Xk","Yk","Zk","$k","al","bl","cl","dl","el","fl","gl","hl","il","jl","kl","ll","ml","nl","ol","pl","ql","rl","sl","tl","ul","vl","reactDom_production_min","checkDCE","err","reactDomModule","client","toKebabCase","string","mergeClasses","classes","className","index","array","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","props","Camera","ChartColumn","EyeOff","Eye","Gamepad2","LayoutDashboard","Lock","MessageCircle","Mic","PenLine","PoundSterling","Save","Settings","ShieldCheck","Trophy","User","Users","Volume2","KEY","user","getWeekId","date","dayNum","yearStart","weekNo","week","getOnlineUsage","raw","currentWeek","setOnlineUsage","usage","incOnlineUsage","cap","next","getFreeRemaining","LS_KEY","getCache","setCache","email","fetchIsAdmin","owner","_b","_a","force","hit","data","useIsAdmin","isAdmin","setIsAdmin","useState","useEffect","on","BASE_PRICE_GBP","FX","formatPriceInCurrency","currency","gbpAmount","cur","rate","val","getUserCurrency","parts","DISCORD_INVITE_URL","__vite_import_meta_env__","getTabs","baseTabs","Sidebar","active","onChange","tabs","idx","adminTab","showDiscord","setShowDiscord","freeLeft","onKey","key","label","jsxs","jsx","createPortal","formatAvg","keyFor","name","keySeriesFor","getAllTime","parsed","getAllTimeAvg","darts","scored","getAllTimeFirstNineAvg","fnDarts","fnScored","keyGameModes","getGameModeStats","allModeKeys","obj","setGameModeStats","stats","bumpGameMode","mode","won","current","entry","getSeries","arr","setSeries","entries","pruneOld","maxAgeMs","now","addSample","when","list","getRollingAvg","windowMs","getRollingFirstNineAvg","getMonthlyAvg3","windowed","matchOnly","use","getMonthlyFirstNineAvg","STRIPE_CHECKOUT_URL","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","createStore","React","is","objectIs","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","value","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","load","j","save","prev","useUserSettings","set","vol","cfg","goTab","tab","Home","showLegal","setShowLegal","showHowTo","setShowHowTo","fact","setFact","lastOffline","facts","all","isPremium","GRID","Row","left","right","lock","ScrollFade","style","raf","updateClip","wrapper","header","scroller","scrollTop","headerH","overlap","onScrollOrResize","DartLoader","calibrationComplete","showTick","setShowTick","fade","setFade","canPromise","toSJISFunction","CODEWORDS_COUNT","utils","version","digit","kanji","fromString","level","defaultValue","BitBuffer","bufIndex","num","length","i","bit","bitBuffer","BitMatrix","row","col","reserved","bitMatrix","getSymbolSize","posCount","intervals","positions","coords","pos","posLength","FINDER_PATTERN_SIZE","finderPattern","PenaltyScores","mask","points","sameCountCol","sameCountRow","lastCol","lastRow","module","last","bitsCol","bitsRow","darkCount","modulesCount","getMaskAt","maskPattern","pattern","setupFormatFunc","numPatterns","bestPattern","lowerPenalty","penalty","ECLevel","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","errorCorrectionCode","errorCorrectionLevel","EXP_TABLE","LOG_TABLE","galoisField","GF","p1","p2","coeff","divident","divisor","result","offset","degree","poly","Polynomial","ReedSolomonEncoder","paddedData","remainder","start","buff","reedSolomonEncoder","versionCheck","numeric","alphanumeric","byte","regex","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","str","VersionCheck","Regex","dataStr","Utils","ECCode","require$$2","Mode","require$$3","require$$4","G18","G18_BCH","getBestVersionForDataLength","currentVersion","getReservedBitsCount","getTotalBitsFromDataArray","segments","totalBits","reservedBits","getBestVersionForMixedData","totalCodewords","ecTotalCodewords","dataTotalCodewordsBits","usableBits","seg","ecl","G15","G15_MASK","G15_BCH","formatInfo","NumericData","group","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","alphanumericData","ByteData","byteData","KanjiData","kanjiData","dijkstra","graph","s","predecessors","costs","open","closest","cost_of_s_to_u","adjacent_nodes","cost_of_e","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","first_visit","msg","nodes","opts","cost","item","require$$5","require$$6","require$$7","getStringByteLength","getSegments","getSegmentsFromString","numSegs","alphaNumSegs","byteSegs","kanjiSegs","s1","s2","getSegmentBitsLength","mergeSegments","segs","acc","curr","prevSeg","buildNodes","buildGraph","table","prevNodeIds","nodeGroup","currentNodeIds","node","prevNodeId","buildSingleSegment","modesHint","bestMode","path","optimizedSegs","AlignmentPattern","FinderPattern","MaskPattern","require$$8","Version","require$$9","FormatInfo","require$$10","require$$11","Segments","require$$12","setupFinderPattern","matrix","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","bits","mod","setupFormatInfo","setupData","inc","bitIndex","byteIndex","dark","createData","buffer","remainingByte","createCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","createSymbol","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","qrcode","options","hex2rgba","hex","hexCode","hexValue","margin","width","scale","qrSize","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","iSrc","jSrc","clearCanvas","ctx","canvas","getCanvasElement","qrData","canvasEl","image","type","rendererOpts","getColorAttrib","attrib","alpha","svgCmd","cmd","qrToPath","moveBy","newRow","lineLength","svgTag","qrcodesize","viewBox","QRCode","CanvasRenderer","SvgRenderer","renderCanvas","renderFunc","text","args","argsNum","isLastArgCb","resolve","reject","browser","_","createJSONStorage","getStorage","storage","parse","str2","newValue","toThenable","fn","input","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","config","baseOptions","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","migrationResult","migrated","persistImpl","persist","useCalibration","legacy","BoardRadii","SectorOrder","applyHomography","nx","ny","scaleHomography","sx","sy","invertHomography","det","computeHomographyDLT","src","dst","solveLeastSquares","AtA","Atb","gaussianSolve","maxRow","tmp","canonicalRimTargets","sampleRing","radius","steps","pts","theta","rmsError","e2","dx","dy","imageToBoard","H_boardToImage","pImg","inv","scoreAtBoardPoint","deg","sector","drawPolyline","drawCross","clamp","lo","sobelAtGray","img","gx","gy","gray","refinePointSobel","cx","cy","best","mag","refinePointsSobel","Calibrator","videoRef","canvasRef","overlayRef","fileInputRef","streaming","setStreaming","phase","setPhase","setMode","dstPoints","setDstPoints","snapshotSet","setSnapshotSet","frameSize","setFrameSize","zoom","setZoom","setCalibration","reset","errorPx","locked","calibrationGuide","setCalibrationGuide","detected","setDetected","liveDetect","setLiveDetect","confidence","setConfidence","ws","setWs","pairCode","setPairCode","expiresAt","setExpiresAt","setNow","paired","setPaired","setPc","qrDataUrl","setQrDataUrl","lanHost","setLanHost","httpsInfo","setHttpsInfo","showTips","setShowTips","ip","startPhonePairing","mobileUrl","code","envUrl","host","useHttps","port","ttl","regenerateCode","stopCamera","ensureWS","normalizedEnv","proto","sameOrigin","fallbacks","url","socket","ev","peer","inbound","offer","startCamera","stream","triggerUpload","onUploadPhotoChange","captureFrame","autoDetectRings","drawOverlay","currentPoints","HH","o","Huse","rings","drawCircle","pad","ax","ay","onClickOverlay","rect","cssX","cssY","scaleX","scaleY","undoPoint","refinePoints","refined","compute","Hcalc","resetAll","dw","tctx","d0","f0","g0","h0","j0","maxMag","cx0","cy0","rMin","rMax","stepC","stepR","samples","ang","OCX","OCY","OR","radialScore","rPx","rScaled","ratios","refineAround","expectedR","pctWindow","bestR","bestS","dOuter","dInner","tOuter","tInner","bOuter","bInner","totalEdge","norm","conf","autoLock","tick","DevicePicker","preferredCameraId","preferredCameraLabel","setPreferredCamera","devices","setDevices","setErr","enumerate","cams","sel","Fragment","doubles","dVal","prefsDoubleScore","fav","suggestCheckouts","remaining","favoriteDouble","hardcoded","target","routes","sayScore","voiceName","synth","isCheckout","CameraTile","autoStart","scaleOverride","stop","constraints","vidTrack","settings","_c","stopAll","CameraFrame","cameraScale","calcThreeDartAvg","leg","finishedLegStats","avg","isCompleted","updatePlayerEndOfGameStats","player","avgs","bestNine","bestCheckout","st","useMatch","playerNames","startingScore","roomId","score","checkoutScore","newState","scoreFromImagePoint","pBoard","parseExternalDart","ring","normalizeRing","finalizeFromValue","mult","sec","mul","inner","subscribeExternalWS","onDart","alive","connect","payload","ResizablePanel","storageKey","defaultWidth","defaultHeight","minWidth","minHeight","maxWidth","maxHeight","setSize","startRef","containerRef","onReset","min","max","beginResize","dir","onMove","endResize","ResizableModal","fullScreen","initialFitHeight","parent","cs","padTop","padBottom","saved","savedSize","parentInner","effMaxH","baseClass","CameraView","onVisitCommitted","showToolbar","onAutoDart","immediateAutoCommit","hideInlinePanels","scoringMode","onGenericDart","onGenericReplace","autoscoreProvider","autoscoreWsUrl","availableCameras","setAvailableCameras","snapshotUrl","setSnapshotUrl","imageSize","resetCalibration","lastAutoScore","setLastAutoScore","manualScore","setManualScore","lastAutoValue","setLastAutoValue","lastAutoRing","setLastAutoRing","pendingDarts","setPendingDarts","pendingScore","setPendingScore","pendingEntries","setPendingEntries","addVisit","endLeg","matchState","quickSelAuto","setQuickSelAuto","quickSelManual","setQuickSelManual","nonRegCount","setNonRegCount","showRecalModal","setShowRecalModal","hadRecentAuto","setHadRecentAuto","activeTab","setActiveTab","showManualModal","setShowManualModal","showAutoModal","setShowAutoModal","showScoringModal","setShowScoringModal","manualPreviewRef","onOpen","onClose","vw","cw","capture","video","CameraSelector","Hs","sub","addDart","onOverlayClick","pCal","parseManual","bull","outerBull","multVal","getCurrentRemaining","newDarts","newScore","after","isFinish","onAddAutoDart","onApplyManual","onReplaceManual","prevDarts","prevScore","onRecalibrateNow","onResetCalibration","onQuickEntry","onUndoDart","onCommitVisit","DOUBLE_PRACTICE_ORDER","isDoubleHit","targetIdx","parseManualDart","ATC_ORDER","CRICKET_NUMBERS","createCricketState","marks","applyCricketDart","opponentClosed","hits","cand","before","remainToClose","toApply","overflow","hasClosedAll","createShanghaiState","getRoundTarget","applyShanghaiDart","endShanghaiTurn","createDefaultHalveIt","getCurrentHalveTarget","applyHalveItDart","endHalveItTurn","createHighLow","applyHighLowDart","endHighLowTurn","createKillerState","assigned","lives","assignKillerNumbers","playerIds","pool","res","applyKillerDart","selfId","states","victimId","pid","victim","delta","killerWinner","createBaseball","applyBaseballDart","runs","GOLF_TARGETS","createGolf","applyGolfDart","TTT_TARGETS","createTicTacToe","checkWin","board","lines","tryClaimCell","cell","tgt","AM_CRICKET_NUMBERS","createAmCricketState","applyAmCricketDart","toClose","hasClosedAllAm","freeGames","premiumGames","aiLevels","aiVisitScore","candidates","X01RulesPopup","OfflinePlay","offlineLayout","selectedMode","setSelectedMode","x01Score","setX01Score","setAI","showRules","setShowRules","inMatch","setInMatch","playerScore","setPlayerScore","aiScore","setAiScore","onDouble","setOnDouble","showWinPopup","setShowWinPopup","firstTo","setFirstTo","playerLegs","setPlayerLegs","aiLegs","setAiLegs","pendingLegWinner","setPendingLegWinner","doubleDarts","setDoubleDarts","checkoutDarts","setCheckoutDarts","legStats","setLegStats","aiDelayMs","setAiDelayMs","showMatchModal","setShowMatchModal","maximized","setMaximized","fitAll","setFitAll","fitScale","setFitScale","isPlayerTurn","setIsPlayerTurn","playerDartPoints","setPlayerDartPoints","dpIndex","setDpIndex","dpHits","setDpHits","atcIndex","setAtcIndex","atcHits","setAtcHits","cricket","setCricket","shanghai","setShanghai","halve","setHalve","highlow","setHighlow","practiceTurnDarts","setPracticeTurnDarts","b27Stage","setB27Stage","b27Score","setB27Score","b27Darts","setB27Darts","b27Hits","setB27Hits","b27Finished","setB27Finished","cuRound","setCuRound","cuScore","setCuScore","cuDarts","setCuDarts","cuMaxRounds","hsRound","setHsRound","hsScore","setHsScore","hsDarts","setHsDarts","hsMaxRounds","lsRound","setLsRound","lsScore","setLsScore","lsDarts","setLsDarts","lsMaxRounds","co170Rem","setCo170Rem","co170Darts","setCo170Darts","co170Attempts","setCo170Attempts","co170Successes","setCo170Successes","co121Rem","setCo121Rem","co121Darts","setCo121Darts","co121Attempts","setCo121Attempts","co121Successes","setCo121Successes","trebleTarget","setTrebleTarget","trebleHits","setTrebleHits","trebleDarts","setTrebleDarts","baseball","setBaseball","golf","setGolf","ttt","setTTT","amCricket","setAmCricket","killerPlayers","setKillerPlayers","killerStates","setKillerStates","killerAssigned","setKillerAssigned","killerSetupDone","setKillerSetupDone","killerTurnIdx","setKillerTurnIdx","killerDarts","setKillerDarts","killerWinnerId","setKillerWinnerId","killerLastEvent","setKillerLastEvent","playerDartsThrown","setPlayerDartsThrown","playerLastDart","setPlayerLastDart","playerVisitDarts","setPlayerVisitDarts","playerVisitStart","setPlayerVisitStart","playerVisitSum","setPlayerVisitSum","playerVisitDartsAtDouble","setPlayerVisitDartsAtDouble","aiCountdownMs","setAiCountdownMs","aiDartsThrown","setAiDartsThrown","aiLastDart","setAiLastDart","aiVisitSum","setAiVisitSum","aiVisitDartsAtDouble","setAiVisitDartsAtDouble","playerDoublesAtt","setPlayerDoublesAtt","playerDoublesHit","setPlayerDoublesHit","aiDoublesAtt","setAiDoublesAtt","aiDoublesHit","setAiDoublesHit","totalPlayerDarts","setTotalPlayerDarts","totalAiDarts","setTotalAiDarts","totalPlayerPoints","setTotalPlayerPoints","totalAiPoints","setTotalAiPoints","player180s","setPlayer180s","player140s","setPlayer140s","player100s","setPlayer100s","ai180s","setAi180s","ai140s","setAi140s","ai100s","setAi100s","playerHighestCheckout","setPlayerHighestCheckout","aiHighestCheckout","setAiHighestCheckout","showMatchSummary","setShowMatchSummary","manualBox","setManualBox","callerEnabled","callerVoice","callerVolume","speakCheckoutOnly","rememberLastOffline","setLastOffline","autoStartOffline","setCameraScale","cameraAspect","setCameraAspect","scrollerRef","contentRef","headerBarRef","formatType","setFormatType","formatCount","setFormatCount","formatRef","wins","measure","content","availH","availW","currentScale","naturalHeight","naturalWidth","scaleH","scaleW","RO","ro","onAuto","startMatch","onFmt","dt","visitDarts","targetVisit","dart","preRem","postRem","checkout","startNextLeg","endTurn","nextRemaining","applyDartValue","newVisitDarts","preRemaining","postRemaining","startedDoubleWindow","stillInDoubleWindow","addDartNumeric","addDpValue","nextHits","addDpNumeric","addDpManual","addB27Auto","totalHits","addB27Numeric","resetB27","addCountUpAuto","addHighScoreAuto","addLowScoreAuto","applyCheckout","rem","setRem","setDarts","setAttempts","setSuccesses","addCo170Auto","addCo121Auto","addCoManual","is170","isDouble","resetCo170","resetCo121","addTrebleAuto","resetTreble","addBaseballAuto","cp","resetBaseball","addGolfAuto","resetGolf","addTttAuto","resetTtt","addAmCricketAuto","resetAmCricket","addAtcValue","newHits","addAtcNumeric","addAtcManual","addCricketAuto","copy","addCricketNumeric","addShanghaiAuto","addShanghaiNumeric","addHalveAuto","addHalveNumeric","addHighLowAuto","addHighLowNumeric","parseManualBox","addManual","replaceLast","replaceLastManual","rewind","handleWinPopupSubmit","winner","legDoublesAtt","lockedPremium","disabled","pillCls","cricketClosedAll","first","currentThrower","currentRemaining","lastScoreVisit","dartsThrown","avg3","matchScore","bestLegText","info","promptVal","tcell","win","_e","it","ids","initStates","nextId","useToastStore","message","useToast","LS_INBOX","LS_UNREAD","loadInitial","unread","inbox","initial","useMessages","exists","sorted","patterns","starify","match","censorProfanity","out","containsProfanity","TabPills","isActive","timeAgo","ts","Friends","toast","friends","setFriends","suggested","setSuggested","results","setResults","setQ","filter","setFilter","loading","setLoading","msgs","requests","setRequests","refresh","rq","search","term","addFriend","removeFriend","filtered","spectate","requestsCount","reply","reason","Toaster","toasts","remove","BarChart","height","barWidth","gap","showValues","totalWidth","allGames","OWNER_EMAIL","AdminDashboard","admins","setAdmins","setEmail","status","setStatus","announcement","setAnnouncement","tournaments","setTournaments","withdrawals","setWithdrawals","createForm","setCreateForm","emailCopy","setEmailCopy","preview","setPreview","isOwner","winners","setWinners","reports","setReports","gmVersion","setGmVersion","gmStats","gmBars","sres","tres","rres","pw","wres","grant","revoke","grantPremium","days","revokePremium","toggleMaintenance","enabled","sendAnnouncement","flipPremium","createOfficialTournament","setWinner","tid","winnerEmail","markPaid","deleteTournament","reseedWeekly","decideWithdrawal","approve","deleteMatch","loadEmailCopy","saveEmailCopy","kind","openInlinePreview","html","EmailEditor","title","setTitle","intro","setIntro","btn","setBtn","notes","SettingsPanel","avgMode","reducedMotion","compactHeader","allowSpectate","setFavoriteDouble","setCallerEnabled","setCallerVoice","setCallerVolume","setSpeakCheckoutOnly","setAvgMode","setAutoStartOffline","setRememberLastOffline","setReducedMotion","setCompactHeader","setAllowSpectate","setAutoscoreProvider","setAutoscoreWsUrl","setOfflineLayout","achievements","setAchievements","uname","isEditing","setIsEditing","favPlayer","setFavPlayer","favTeam","setFavTeam","favDarts","setFavDarts","bio","setBio","saveBio","availableVoices","setAvailableVoices","loadVoices","voices","Edit3","voice","Auth","onAuth","username","setUsername","password","setPassword","reminder","setReminder","error","setError","showPassword","setShowPassword","API_URL","handleSignIn","handleSignUp","handleReset","handleSendUsername","BarChart3","ThemeContext","createContext","THEME_KEY","ThemeProvider","theme","setTheme","WSContext","WSProvider","connected","setConnected","wsRef","listenersRef","shouldReconnectRef","attemptsRef","timerRef","heartbeatRef","endpointsRef","endpointIdxRef","ensureEndpoints","normalized","bases","rotateEndpoint","eps","currentEndpoint","useCallback","attempt","base","jitter","delay","beforeUnload","onVis","send","addListener","useWS","useContext","StatusDot","LS","map","useBlocklist","OnlinePlay","wsGlobal","blocklist","setRoomId","chat","setChat","showQuick","setShowQuick","showMessages","setShowMessages","lastSentChatRef","setSelfId","reconnectAttemptsRef","reconnectTimerRef","lastToastRef","firstConnectDoneRef","participants","setParticipants","turnIdx","setTurnIdx","visitScore","setVisitScore","dpManual","setDpManual","atcManual","setAtcManual","cricketById","setCricketById","shanghaiById","setShanghaiById","halveById","setHalveById","highlowById","setHighlowById","killerById","setKillerById","amCricketById","setAmCricketById","baseballById","setBaseballById","golfById","setGolfById","turnDarts","setTurnDarts","compactView","setCompactView","celebration","setCelebration","lastCelebrationRef","audioCtxRef","ensureAudio","Ctor","beep","freq","durMs","whenS","gain","playSting","triggerCelebration","who","showCreate","setShowCreate","lobby","setLobby","modeValue","setModeValue","startScore","setStartScore","pendingInvite","setPendingInvite","errorMsg","setErrorMsg","lastJoinIntent","setLastJoinIntent","offerNewRoom","setOfferNewRoom","game","setGame","currentGame","setCurrentGame","requireCalibration","setRequireCalibration","filterMode","setFilterMode","filterStart","setFilterStart","filterGame","setFilterGame","nearAvg","setNearAvg","avgTolerance","setAvgTolerance","calibH","myAvg","filteredLobby","handler","onSpectate","rid","fallback","_cr","_sh","_hv","_hl","_kr","_am","_bb","_gf","_tt","_td","isSelf","idKey","RenderMatchSummary","players","curIdx","lastScore","_d","_f","bestText","unsub","sendState","sendQuick","nextIdx","isAtcHit","currentPlayerId","ensureCricket","ensureShanghai","ensureHalve","ensureHighLow","ensureKiller","used","ensureAmCricket","ensureBaseball","ensureGolf","allOpponentsClosed","opps","applyCricketAuto","applyShanghaiAuto","applyHalveAuto","applyHighLowAuto","applyKillerAuto","applyAmCricketAuto","applyBaseballAuto","applyGolfAuto","applyTttAuto","openManual","submitVisitManual","reportMessage","offenderId","getBoardPreview","track","creatorAvg","calibrated","boardPreview","dur","hue","isMe","lastVisitScore","_g","_h","finished","_j","_k","tt","_l","_m","_o","_p","_q","manual","_r","_s","_t","_u","_v","_x","_z","_A","_B","_C","pp","_D","ChatList","items","onDelete","onReport","onBlock","mobile","touch","setTouch","swiped","setSwiped","flagged","held","StatsPanel","inProgress","newMatch","family","setFamily","playersText","setPlayersText","setStart","opponent","setOpponent","showPicker","setShowPicker","searching","setSearching","cancelled","runSearch","dist","otherData","gm","onUpdate","names","lbl","Tournaments","setList","cooldownUntil","setCooldownUntil","leaveAsk","setLeaveAsk","form","setForm","isTouch","abort","check","hasJoined","join","fmt","leave","createTournament","official","community","nextOfficial","AdminAccess","Drawer","footer","side","OpsDashboard","ready","setReady","ann","setAnn","setMsg","announce","App","appRef","avatar","setAvatar","isFullscreen","setIsFullscreen","setTab","isMobile","setIsMobile","navOpen","setNavOpen","setUser","allTimeAvg","setAllTimeAvg","savedUser","onLogout","onName","fetchSubscription","fallbackAvatar","MobileNav","validatePassword","ResetPassword","token","setToken","confirm","setConfirm","success","setSuccess","onSubmit","ErrorBoundary","ReactDOM","StrictMode","Root"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,38,39,40,41,42,43,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76]}
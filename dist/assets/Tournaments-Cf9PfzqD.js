import{j as t,H as Y,e as vt,F as Nt,u as St,k as y,l as le,M as et,q as f,K as Me,i as Ct,_ as kt,I as It,w as tt,a as O}from"./index-zYyjKDd0.js";import{r as n}from"./ui-HJtpxRqe.js";import{o as Mt,I as Tt,M as Pt}from"./matchWindow-_tMJLG5T.js";import"./vendor-D3F3s8fL.js";import"./aroundTheClock-BzZ4LFMk.js";function Et({t:l,onJoin:p,onLeave:i,joined:V,disabled:Te}){return t.jsxs("li",{className:"p-3 rounded-xl border flex items-center justify-between relative ndn-lobby-card",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"font-semibold",children:[l.title,l.official&&t.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded bg-amber-500 text-black text-xs",children:"Official"})]}),t.jsxs("div",{className:"text-sm opacity-80",children:[l.game,l.game==="X01"?"/501":""," Â· ",Y(l.mode)," ",l.value," Â·"," ",new Date(l.startAt).toLocaleString()," Â· Cap ",l.capacity," Â· Joined"," ",l.participants?.length||0]}),t.jsxs("div",{className:"text-xs opacity-60 mt-1",children:["Created by: ",l.creatorName||l.creatorEmail||"Unknown"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{className:`btn ${V?"bg-emerald-600 hover:bg-emerald-600":""}`,disabled:Te,onClick:()=>V?i&&i(l):p&&p(l),children:V?"Already Joined! âœ…":"Join Now âš”ï¸"})})]})}const At=l=>typeof l=="string"?l.toLowerCase().includes("integration"):typeof l=="number"?l.toString().toLowerCase().includes("integration"):!1,Dt=l=>l?[l.title,l.description,l.creatorName,l.creatorEmail].some(i=>At(i)):!1,F=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0);function Yt({user:l}){const p=vt(),i=(()=>{try{return Nt()}catch{return null}})(),{matchType:V="singles",setMatchType:Te,teamAName:Lt="Team A",setTeamAName:Rt,teamBName:Ot="Team B",setTeamBName:$t}=St(),[oe,Pe]=n.useState(0),[ce,at]=n.useState(()=>[{id:1,name:"page-1",pageId:"default"}]),K=ce[oe]?.pageId||"default",st=()=>{at(e=>{const a=e.length+1,s=[...e,{id:a,name:`page-${a}`,pageId:`page-${a}-${Date.now()}`}];return Pe(s.length-1),s})},[Ee,de]=n.useState([]),[$,P]=n.useState(!1),[Ae,N]=n.useState(""),[Jt,me]=n.useState(null),[De,Le]=n.useState(null),[h,H]=n.useState(null),[ue,J]=n.useState(!1),[xe,he]=n.useState(!1);n.useRef(!1);const j=y(e=>e.inProgress),C=y(e=>e.matchContext),nt=y(e=>e.roomId),[rt,Re]=n.useState(!1),[it,lt]=n.useState([]),Oe=n.useRef(!1),pe=n.useRef(null);n.useEffect(()=>{if(Oe.current&&!j&&C==="tournament"){const e=y.getState();if(e.players&&e.players.length>0){lt(JSON.parse(JSON.stringify(e.players))),Re(!0);const a=ve.current;if(a&&i?.connected){const s=`${a.tournamentId}-r${a.round}-m${a.matchIndex}`;if(pe.current!==s){pe.current=s;const r=e.players.reduce((b,v)=>(b.legsWon||0)>(v.legsWon||0)?b:v);e.players.find(b=>b!==r);const o=String(l?.email||"").toLowerCase(),d=r.name?.toLowerCase()===(l?.username||"").toLowerCase(),S=d?o:a.player1.email===o?a.player2.email:a.player1.email,D=d?a.player1.email===o?a.player2.email:a.player1.email:o;i.send({type:"tournament-match-result",tournamentId:a.tournamentId,round:a.round,matchIndex:a.matchIndex,winnerEmail:S,winnerUsername:r.name||"Winner",loserEmail:D})}}}}Oe.current=j},[j,C,i,l?.email,l?.username]),n.useEffect(()=>{if(!(!j||C!=="tournament"))try{const e=y.getState();if((e?.game||"X01")!=="X01"||!e.roomId)return;const s=`ndn:matchWindowOpened:${e.roomId}`;if(window.sessionStorage.getItem(s)==="1")return;window.sessionStorage.setItem(s,"1"),Mt()}catch{}},[j,C,nt]);const[c,w]=n.useState({title:"",game:"X01",mode:"bestof",value:3,description:"",startAt:new Date().toISOString().slice(0,16),checkinMinutes:15,capacity:16,startingScore:501,requireCalibration:!1,extras:{}}),[g,U]=n.useState(null),[$e,fe]=n.useState(30),[W,L]=n.useState(null),[Je,R]=n.useState({}),[Wt,Q]=n.useState(!1),[Bt,Z]=n.useState(!1),[_t,ot]=n.useState(null),[qt,ge]=n.useState(null),[ee,k]=n.useState({open:!1,t:null}),[te,be]=n.useState({open:!1,t:null}),[ct,dt]=n.useState("X01"),[We,ye]=n.useState(null),mt=n.useRef(null),[Be,_e]=n.useState(null),je=n.useRef(!1);n.useRef(null);const[ut,xt]=n.useState({}),[B,z]=n.useState(null),[qe,Fe]=n.useState(0),[ae,we]=n.useState(null),ve=n.useRef(null);n.useEffect(()=>i?i.addListener(a=>{try{if(a?.type==="match-prestart"){const s=a.match||null;s&&(s.prestartEndsAt=a.prestartEndsAt);try{s?.creatorId&&s?.creatorName&&xt(o=>({...o,[s.creatorId]:s.creatorName}))}catch{}je.current=!0,U(s);const r=a.prestartEndsAt||Date.now();fe(Math.max(0,Math.ceil(((r||Date.now())-Date.now())/1e3))),setTimeout(()=>{je.current=!1},0),L(null),R({}),Q(!1),Z(!1),ge(null)}if(a?.type==="match-start"&&g&&a.roomId===g.id&&(U(null),L(null),R({})),a?.type==="tournament-match-start")try{if(y.getState().inProgress)return;const s=String(l?.email||"").toLowerCase(),r=l?.username||"You",o=a.player1||{},d=a.player2||{},S=s&&o.email&&o.email.toLowerCase()===s,D=S?d.username||"Opponent":o.username||"Opponent",b=S?[r,D]:[D,r],v=a.startingScore||501,T=a.roomId||"",q=a.mode||"bestof",Ze=Number(a.value||1),wt=q==="firstto"?Ze:Math.ceil(Ze/2);y.getState().newMatch(b,v,T,"tournament",wt),dt(a.game||"X01"),ve.current={tournamentId:a.tournamentId,round:a.round,matchIndex:a.matchIndex,player1:{email:(o.email||"").toLowerCase(),username:o.username||""},player2:{email:(d.email||"").toLowerCase(),username:d.username||""}},pe.current=null,z(null),we(null),i?.connected&&T&&i.send({type:"join",roomId:T}),U(null),L(null),R({})}catch(s){console.error("[Tournaments] tournament-match-start failed:",s)}if(a?.type==="tournament-waiting"&&z({tournamentId:a.tournamentId,nextRound:a.nextRound,waitEndsAt:a.waitEndsAt}),a?.type==="tournament-complete"&&(we({winnerUsername:a.winnerUsername||"Unknown",title:a.title||"Tournament"}),z(null),ve.current=null),a?.type,a?.type,a?.type==="state"&&a.payload)try{y.getState().importState(a.payload)}catch{}if(a?.type==="camera-frame"&&a.frame){mt.current=a.frame;try{const s=document.getElementById("ndn-opponent-frame");s&&(s.src=a.frame)}catch{}Be||_e(a.frame)}if(a?.type==="opponent-quit"&&ye(a.quitterName||"Opponent"),a?.type==="opponent-paused")try{le.getState().setPaused(!0,null,a.pauserName||"Opponent")}catch{}if(a?.type==="opponent-unpaused")try{le.getState().setPaused(!1,null)}catch{}if(a?.type==="prestart-choice-notify"){const{roomId:s,playerId:r,choice:o}=a;if(!s||!o)return;R(d=>({...d||{},[r]:o}))}a?.type==="prestart-bull"&&(Q(!0),Z(!1),ot(null)),a?.type==="prestart-bull-winner"&&(ge(a.winnerId||null),Q(!1),Z(!1)),a?.type==="prestart-bull-tie"&&(ge(null),Q(!1),Z(!1))}catch{}}):void 0,[i,W,g]),n.useEffect(()=>{if(!g||je.current||g.prestartEndsAt)return;fe(30),L(null),R({});const e=setInterval(()=>fe(a=>Math.max(0,a-1)),1e3);return()=>clearInterval(e)},[g]),n.useEffect(()=>{if(!B){Fe(0);return}const e=()=>{const s=Math.max(0,Math.ceil((B.waitEndsAt-Date.now())/1e3));Fe(s),s<=0&&z(null)};e();const a=setInterval(e,1e3);return()=>clearInterval(a)},[B]);const Ue=y(e=>({players:e.players,currentPlayerIdx:e.currentPlayerIdx,roomId:e.roomId}));n.useEffect(()=>{j&&he(!0)},[j]);const ze=e=>{L(e);try{i?.connected&&g?.id&&i.send({type:"prestart-choice",roomId:g.id,choice:e})}catch{}},Ne=n.useCallback(()=>{try{if(i?.connected){const e=y.getState();i.send({type:"state",payload:e})}}catch{}},[i]);async function E(){try{if(De&&Date.now()-De<3e3)return;const a=await(await O("/api/tournaments")).json(),s=Array.isArray(a.tournaments)?a.tournaments:[];de(s);try{console.debug("[Tournaments] refresh fetched",s.length,"tournaments"),console.log("[Tournaments] fetched list:",s)}catch{}me(null),Le(Date.now())}catch(e){try{typeof window<"u"&&me(String(e?.message||e))}catch{typeof window<"u"&&me("unknown")}}}n.useEffect(()=>{E()},[]),n.useEffect(()=>{try{i?.connected&&E()}catch{}},[i?.connected]),n.useEffect(()=>{if(!i)return;const e=i.addListener(a=>{try{if(a.type==="tournaments"&&(de(a.tournaments||[]),Le(Date.now())),a.type==="tournaments")try{console.debug("[Tournaments] WS tournaments update, num=",(a.tournaments||[]).length)}catch{}a.type==="tournament-win"&&a.message&&p(a.message,{type:"success",timeout:1e4})}catch{}});return()=>{e()}},[i?.connected]),n.useEffect(()=>{try{if(i?.connected){try{i.send({type:"list-tournaments"})}catch{}E()}}catch{}},[i?.connected]),n.useEffect(()=>{let e=null;try{(!i||!i.connected)&&(e=window.setInterval(()=>{E()},1e4))}catch{}return()=>{e&&clearInterval(e)}},[i?.connected]);const x=String(l?.email||"").toLowerCase(),u=n.useCallback(e=>!e||!x?!1:(Array.isArray(e.participants)?e.participants:[]).some(s=>String(s?.email||"").toLowerCase()===x),[x]),[I,Se]=n.useState(null),[Ge,Xe]=n.useState({}),[ht,Ye]=n.useState(()=>Date.now()),pt=n.useCallback(e=>{const a=(e.participants||[]).map(d=>d.username||d.email||"Player"),s=Math.max(1,2**Math.ceil(Math.log2(Math.max(1,a.length)))),r=new Array(s).fill("BYE");for(let d=0;d<a.length;d++)r[d]=a[d];const o=[];for(let d=0;d<s/2;d++)o.push([r[d],r[s-1-d]]);return o},[]),ft=()=>t.jsxs("div",{className:"mb-3 p-2 rounded-lg bg-slate-900/40 border border-white/10 text-white text-xs flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"opacity-70",children:"Default match"}),t.jsx("span",{className:"btn py-1 px-2 bg-indigo-500/30 border border-indigo-400/50 text-indigo-100",children:"Singles"}),t.jsx("span",{className:"text-xs opacity-60 ml-2",children:"(tournaments use Singles only)"})]});n.useEffect(()=>{let e=!1;async function a(){if(!x){H(null);return}try{const r=await(await O(`/api/subscription?email=${encodeURIComponent(x)}`)).json();e||(r?.source==="tournament"&&typeof r.expiresAt=="number"&&r.expiresAt>Date.now()?H(r.expiresAt):H(null))}catch{e||H(null)}}return a(),()=>{e=!0}},[x]);async function Ve(e){x&&be({open:!0,t:e})}async function gt(){const e=te.t;if(!(!e||!x)){be({open:!1,t:null}),P(!0);try{let a=await O("/api/tournaments/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:e.id,requesterEmail:x})});if(!a.ok&&a.status===403&&String(x)==="daviesfamily108@gmail.com"&&(a=await O("/api/admin/tournaments/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:e.id,requesterEmail:x})})),!a.ok){let s="Delete failed";try{const r=await a.json();r?.error&&(s=`Delete failed: ${String(r.error)}`)}catch{}p(s,{type:"error"});return}p("Tournament deleted",{type:"success"}),await E()}finally{P(!1)}}}async function se(e){if(x){P(!0);try{const a=await O("/api/tournaments/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:e.id,email:x,username:l?.username})});if(!a.ok){let s={};try{s=await a.json()}catch{}s?.error==="WINNER_COOLDOWN"&&typeof s.until=="number"?(N(`You're a recent NDN tournament winner. You can re-enter after ${M(s.until)}.`),setTimeout(()=>N(""),6e3),p("Join blocked: winner cooldown active",{type:"error"})):s?.error==="ALREADY_IN_TOURNAMENT"?(N(String(s.message||"You can only join one tournament at a time.")),setTimeout(()=>N(""),6e3),p("Join blocked: already in another tournament",{type:"error"})):s?.error&&(N(String(s.error)),setTimeout(()=>N(""),3500),p(`Join failed: ${String(s.error)}`,{type:"error"}));return}p("Joined tournament",{type:"success"}),await E()}finally{P(!1)}}}async function Ke(e){if(x){P(!0);try{const a=await O("/api/tournaments/leave",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:e.id,email:x})});if(!a.ok){let s={};try{s=await a.json()}catch{}s?.error?p(`Leave failed: ${String(s.error)}`,{type:"error"}):a.status===404?p("Leave failed (endpoint not found). Restart the server to enable /api/tournaments/leave.",{type:"error"}):p("Leave failed. Please try again.",{type:"error"});return}p("Left tournament",{type:"success"}),de(s=>s.map(r=>r.id===e.id?{...r,participants:(r.participants||[]).filter(o=>o.email!==x)}:r)),await E()}finally{P(!1)}}}async function bt(){P(!0);try{const e=new Date(c.startAt).getTime(),a=await O("/api/tournaments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c.title,game:c.game,mode:c.mode,value:Number(c.value),description:c.description,startAt:e,checkinMinutes:Number(c.checkinMinutes),capacity:Number(c.capacity),startingScore:c.game==="X01"?Number(c.startingScore||501):void 0,requireCalibration:!!c.requireCalibration,creatorEmail:l?.email,creatorName:l?.username,pageId:K})});if(!a.ok){let s="";try{const o=await a.json();o?.error?s=String(o.error):o?.details&&(s=String(o.details))}catch{}const r=s?`Create failed: ${s}`:"Create failed. Please try again.";N(r),p(r,{type:"error"}),setTimeout(()=>N(""),6e3);return}try{const s=await a.json();if(!s?.ok){const r=s?.error?`Create failed: ${String(s.error)}`:"Create failed. Please try again.";N(r),p(r,{type:"error"}),setTimeout(()=>N(""),6e3);return}}catch{}J(!1),p("Tournament created",{type:"success"}),await E()}finally{P(!1)}}n.useEffect(()=>{if(!ue)return;const e=a=>{a.key==="Escape"&&J(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[ue]);const A=n.useMemo(()=>Ee.filter(e=>!Dt(e)).filter(e=>e.pageId===K||!e.pageId&&K==="default"),[Ee,K]),ne=n.useMemo(()=>A.filter(e=>e.official),[A]),Ce=n.useMemo(()=>A.filter(e=>!e.official),[A]),ke=n.useMemo(()=>A.filter(e=>e.status==="scheduled"&&!e.official),[A]);n.useEffect(()=>{const e=()=>{const s=Date.now(),r=A.find(o=>{if(!u(o)||o.status!=="scheduled"||Ge[o.id])return!1;const d=o.startAt-s;return d>0&&d<=300*1e3});Se(r??null)};e();const a=window.setInterval(e,15e3);return()=>window.clearInterval(a)},[Ge,u,A]),n.useEffect(()=>{if(!I)return;Ye(Date.now());const e=window.setInterval(()=>Ye(Date.now()),1e3);return()=>window.clearInterval(e)},[I]);const[G,He]=n.useState(1),_=16,re=Math.ceil(ke.length/_),yt=ke.slice((G-1)*_,G*_),[X,Qe]=n.useState(1),ie=Math.ceil(Ce.length/_),jt=Ce.slice((X-1)*_,X*_),m=n.useMemo(()=>ne.filter(a=>a.status==="scheduled").sort((a,s)=>a.startAt-s.startAt)[0]||null,[ne]);function M(e){return new Date(e).toLocaleString()}const Ie=l?.username||"You";if(n.useEffect(()=>{if(!j||C!=="tournament"||!i?.connected)return;let e=!0;const a=document.createElement("canvas"),s=a.getContext("2d");let r=0;const o=42,d=()=>{if(!e)return;requestAnimationFrame(d);const S=performance.now();if(!(S-r<o))try{const b=window.__ndn_camera_debug?.videoEl?.();if(!b||!b.videoWidth||!b.videoHeight)return;const v=480,T=Math.round(b.videoHeight/b.videoWidth*v)||270;if(a.width!==v&&(a.width=v),a.height!==T&&(a.height=T),!s)return;s.drawImage(b,0,0,v,T),r=S;const q=a.toDataURL("image/jpeg",.55);try{i.send({type:"camera-frame",frame:q})}catch{}}catch{}};return requestAnimationFrame(d),()=>{e=!1}},[j,C,i]),n.useEffect(()=>{(!j||C!=="tournament")&&_e(null)},[j,C]),j&&C==="tournament"){const a=(y.getState().players||[]).findIndex(s=>s?.name&&s.name.toLowerCase()===Ie.toLowerCase());return t.jsxs(t.Fragment,{children:[t.jsx(Tt,{user:l,showStartShowcase:xe,onShowStartShowcaseChange:he,onCommitVisit:(s,r,o)=>{try{const d=y.getState(),S=d.players[d.currentPlayerIdx],D=S?.legs?.[S.legs.length-1],b=D?D.totalScoreRemaining:d.startingScore,v=Math.max(0,b-s),T=b<=50?3:v<=50?1:0,q=v===0;d.addVisit(s,3,{preOpenDarts:0,doubleWindowDarts:T,finishedByDouble:q,visitTotal:s}),q&&s>0?d.endLeg(s):d.nextPlayer()}catch{y.getState().addVisit(s,3),y.getState().nextPlayer()}Ne()},onQuit:()=>{try{y.getState().endGame()}catch{}try{i?.connected&&i.send({type:"match-quit"})}catch{}ye(null),U(null),L(null),R({}),Ne();try{window.dispatchEvent(new Event("ndn:match-quit"))}catch{}},onPause:()=>{try{le.getState().setPaused(!0,null,Ie)}catch{}try{i?.connected&&i.send({type:"match-pause"})}catch{}},onResume:()=>{try{le.getState().setPaused(!1,null)}catch{}try{i?.connected&&i.send({type:"match-unpause"})}catch{}},onStateChange:Ne,localPlayerIndexOverride:a>=0?a:void 0,gameModeOverride:ct,isOnline:!0,remoteFrame:Be}),We&&t.jsx("div",{className:"fixed inset-0 z-[1300] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl p-6 max-w-sm w-full mx-4 text-center shadow-2xl",children:[t.jsx("div",{className:"text-4xl mb-3",children:"ðŸšª"}),t.jsxs("h3",{className:"text-lg font-bold text-white mb-2",children:[We," left the match"]}),t.jsx("p",{className:"text-sm text-white/60 mb-5",children:"Your opponent has quit. You can leave the match now."}),t.jsx("button",{className:"w-full py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold hover:scale-[1.02] active:scale-[0.98] transition-all",onClick:()=>{try{y.getState().endGame()}catch{}ye(null),U(null),L(null),R({});try{window.dispatchEvent(new Event("ndn:match-quit"))}catch{}},children:"Leave Match"})]})})]})}if(ae)return t.jsxs("div",{className:"card ndn-game-shell ndn-page flex flex-col items-center justify-center min-h-[400px] text-center",style:{paddingBottom:80},children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),t.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:ae.title}),t.jsxs("p",{className:"text-xl text-emerald-400 font-bold mb-6",children:["Winner: ",ae.winnerUsername]}),ae.winnerUsername.toLowerCase()===Ie.toLowerCase()?t.jsx("p",{className:"text-lg text-amber-300 font-semibold mb-8",children:"ðŸŽ‰ Congratulations! You won the tournament!"}):t.jsx("p",{className:"text-lg text-white/60 mb-8",children:"Better luck next time!"}),t.jsx("button",{className:"px-8 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold hover:scale-[1.02] active:scale-[0.98] transition-all",onClick:()=>we(null),children:"Back to Tournaments"})]});if(B){const e=Math.floor(qe/60),a=qe%60;return t.jsxs("div",{className:"card ndn-game-shell ndn-page flex flex-col items-center justify-center min-h-[400px] text-center",style:{paddingBottom:80},children:[t.jsx("div",{className:"text-5xl mb-4",children:"â³"}),t.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Round ",B.nextRound," Starting Soon"]}),t.jsx("p",{className:"text-white/60 mb-6",children:"Waiting for other matches to finish. Next round begins automatically."}),t.jsxs("div",{className:"text-4xl font-black text-white mb-8 tabular-nums",children:[e,":",a.toString().padStart(2,"0")]}),t.jsx("button",{className:"px-8 py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold hover:scale-[1.02] active:scale-[0.98] transition-all",onClick:()=>{i?.connected&&i.send({type:"tournament-skip-wait",tournamentId:B.tournamentId}),z(null)},children:"Skip Wait â€” I'm Ready!"}),t.jsx("p",{className:"text-xs text-white/40 mt-4",children:"All players must skip or timer must expire before the next round starts."})]})}return t.jsxs("div",{className:"card ndn-game-shell ndn-page flex flex-col min-h-0",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx("h2",{className:"text-2xl font-bold ndn-section-title",children:"Tournaments ðŸŽ¯"})}),t.jsxs("div",{className:"ndn-shell-body overflow-visible flex-1 min-h-0",children:[t.jsxs("div",{className:"mb-3 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40 flex items-center justify-between gap-2 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap min-w-0",children:[t.jsx("div",{className:"text-sm text-white/70",children:"Page"}),t.jsxs("div",{className:"px-3 py-1.5 bg-slate-800/60 rounded-lg border border-slate-700/50 text-white/90 font-medium",children:["Page ",ce[oe]?.id]}),t.jsx("button",{className:"btn btn-ghost btn-sm rounded-lg",onClick:st,children:"New Page"})]}),t.jsx("div",{className:"shrink-0 flex items-center gap-2",children:t.jsx("button",{className:"btn",onClick:()=>J(!0),children:"Create Tournament + ðŸŽ¯"})})]}),t.jsx(ft,{}),xe&&t.jsx(et,{players:Ue.players||[],user:l,onDone:()=>he(!1)}),t.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-300",children:"World Lobby"}),t.jsxs("div",{className:"mb-3 p-3 rounded-xl border border-indigo-500/20 bg-indigo-500/5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"font-semibold",children:"Created Game Lobby"}),t.jsx("div",{className:"text-xs opacity-60",children:"All tournaments created by users and admins"})]}),t.jsxs("ul",{className:"space-y-2",children:[ke.length===0&&t.jsx("li",{className:"text-sm opacity-60",children:"No created tournaments yet."}),yt.map(e=>t.jsx(Et,{t:e,onJoin:a=>se(a),onLeave:a=>Ke(a),joined:u(e),disabled:$||e.status!=="scheduled"||!u(e)&&e.participants.length>=e.capacity},e.id))]}),re>1&&t.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[t.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",onClick:()=>He(e=>Math.max(e-1,1)),disabled:G===1,children:"â† Previous"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-slate-400",children:["Page ",G," of ",re]}),t.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",onClick:()=>He(e=>Math.min(e+1,re)),disabled:G===re,children:"Next â†’"})]})]})]}),m&&t.jsx("div",{className:"mb-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm uppercase tracking-wide text-indigo-300 font-semibold",children:"Weekly Official Tournament ðŸŽ¯"}),t.jsx("div",{className:"font-bold",children:m.title}),t.jsxs("div",{className:"text-sm opacity-80",children:[m.game,m.game==="X01"&&m.startingScore?`/${m.startingScore}`:""," ","Â· ",Y(m.mode)," ",m.value," Â· Starts ",M(m.startAt)," Â· Cap"," ",m.capacity," Â· Joined"," ",m.participants.length]}),m.prize&&t.jsx("div",{className:"text-xs mt-1",children:"Prize: 3 months PREMIUM"}),m.status!=="scheduled"&&t.jsxs("div",{className:"text-xs",children:["Status: ",m.status]}),h&&h>Date.now()&&t.jsxs("div",{className:"text-xs text-rose-300",children:["Recent winners can re-enter after ",M(h),"."]})]}),t.jsx("div",{className:"shrink-0",children:t.jsx("button",{className:`btn ${u(m)?"bg-emerald-600 hover:bg-emerald-600":""}`,title:u(m)?"Double-click to leave this tournament":m.official&&h&&h>Date.now()?`Recent winners can re-enter after ${M(h)}`:"",disabled:$||m.status!=="scheduled"||!u(m)&&(m.participants.length>=m.capacity||!!h&&h>Date.now()),onClick:()=>{u(m)?F&&k({open:!0,t:m}):se(m)},onDoubleClick:()=>{!F&&u(m)&&k({open:!0,t:m})},"aria-label":u(m)?"Already Joined":"Join Now",children:u(m)?"Already Joined! ðŸŽ¯":"Join Now ðŸŽ¯"})})]})}),Ae&&t.jsx("div",{className:"mb-3 p-2 rounded-lg bg-amber-700/30 border border-amber-600/40 text-amber-200 text-sm",children:Ae}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{children:[t.jsx("div",{className:"font-semibold mb-1",children:"Official ðŸŽ¯"}),t.jsx("div",{className:"text-xs opacity-70 mb-2",children:h&&h>Date.now()?t.jsxs(t.Fragment,{children:["Youâ€™re a recent NDN tournament winner â€” to keep it fair, you can re-enter after ",M(h),"."]}):t.jsx(t.Fragment,{children:"Note: Weekly winners can re-enter once their 3 months of PREMIUM ends."})}),t.jsxs("ul",{className:"space-y-2",children:[ne.map(e=>t.jsxs("li",{className:"p-3 rounded-lg border flex items-center justify-between relative",style:{backgroundColor:`${f(e.game).color}10`,borderColor:`${f(e.game).color}30`},children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-[10px] sm:text-xs border",style:{backgroundColor:`${f(e.game).color}20`,color:f(e.game).color,borderColor:`${f(e.game).color}50`},children:[f(e.game).emoji," ",e.game]}),e.title," ",e.prize&&t.jsxs("span",{className:"inline-flex items-center gap-1 ml-2 align-middle",children:[t.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-amber-500 text-black",children:"Prize"}),t.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-slate-600 text-white text-[10px] leading-none cursor-help",title:"Weekly winners get 3 months of PREMIUM and can re-enter once their prize period ends.","aria-label":"Prize info",children:"i"})]})]}),t.jsxs("div",{className:"text-sm opacity-80",children:[e.game,e.game==="X01"&&e.startingScore?`/${e.startingScore}`:""," ","Â· ",Y(e.mode)," ",e.value," Â· ",M(e.startAt)," Â· Cap ",e.capacity," Â· Joined ",e.participants.length]}),t.jsx("div",{className:"text-xs opacity-60",children:f(e.game).tagline}),e.prize&&t.jsx("div",{className:"text-xs",children:"Prize: 3 months PREMIUM"}),e.status!=="scheduled"&&t.jsxs("div",{className:"text-xs",children:["Status: ",e.status]}),u(e)&&t.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Already Joined"}),e.official&&h&&h>Date.now()&&t.jsxs("div",{className:"text-xs text-rose-300",children:["Cooldown active until ",M(h),"."]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:`btn ${u(e)?"bg-emerald-600 hover:bg-emerald-600":""}`,title:u(e)?"Double-click to leave this tournament":e.official&&h&&h>Date.now()?`Recent winners can re-enter after ${M(h)}`:"",disabled:$||e.status!=="scheduled"||!u(e)&&(e.participants.length>=e.capacity||e.official&&!!h&&h>Date.now()),onClick:()=>{u(e)?F&&k({open:!0,t:e}):se(e)},onDoubleClick:()=>{!F&&u(e)&&k({open:!0,t:e})},"aria-label":u(e)?"Already Joined":"Join Now",children:u(e)?"Already Joined! ðŸŽ¯":"Join Now ðŸŽ¯"}),e.status==="scheduled"&&x&&(e.creatorEmail&&String(e.creatorEmail).toLowerCase()===x||x==="daviesfamily108@gmail.com")&&t.jsx("button",{className:"w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow",title:"Delete this tournament",onClick:()=>Ve(e),"aria-label":"Delete tournament",children:"Ã—"})]})]},e.id)),ne.length===0&&t.jsx("li",{className:"text-sm opacity-60",children:"No official tournaments yet."})]})]}),t.jsxs("section",{children:[t.jsx("div",{className:"font-semibold mb-1",children:"Community ðŸŽ¯"}),t.jsxs("ul",{className:"space-y-2",children:[jt.map(e=>t.jsxs("li",{className:"p-3 rounded-lg border flex items-center justify-between relative",style:{backgroundColor:`${f(e.game).color}10`,borderColor:`${f(e.game).color}30`},children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-[10px] sm:text-xs border",style:{backgroundColor:`${f(e.game).color}20`,color:f(e.game).color,borderColor:`${f(e.game).color}50`},children:[f(e.game).emoji," ",e.game]}),e.title]}),t.jsxs("div",{className:"text-sm opacity-80",children:[e.game,e.game==="X01"&&e.startingScore?`/${e.startingScore}`:""," ","Â· ",Y(e.mode)," ",e.value," Â· ",M(e.startAt)," Â· Cap ",e.capacity," Â· Joined ",e.participants.length]}),t.jsx("div",{className:"text-xs opacity-60",children:f(e.game).tagline}),e.description&&t.jsx("div",{className:"text-xs opacity-80",children:e.description}),u(e)&&t.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Already Joined"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"btn",title:u(e)?"Double-click to leave this tournament":"",disabled:$||e.status!=="scheduled"||!u(e)&&e.participants.length>=e.capacity,onClick:()=>{u(e)?F&&k({open:!0,t:e}):se(e)},onDoubleClick:()=>{!F&&u(e)&&k({open:!0,t:e})},children:u(e)?"Already Joined":"Join Now"}),e.status==="scheduled"&&x&&(e.creatorEmail&&String(e.creatorEmail).toLowerCase()===x||x==="daviesfamily108@gmail.com")&&t.jsx("button",{className:"w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow",title:"Delete this tournament",onClick:()=>Ve(e),"aria-label":"Delete tournament",children:"Ã—"})]})]},e.id)),Ce.length===0&&t.jsx("li",{className:"text-sm opacity-60",children:"No community tournaments yet."})]}),ie>1&&t.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-2 border-t border-white/10",children:[t.jsx("button",{className:"btn btn-sm btn-ghost",disabled:X===1,onClick:()=>Qe(e=>Math.max(1,e-1)),children:"Previous"}),t.jsxs("span",{className:"text-sm opacity-70",children:["Page ",X," of ",ie]}),t.jsx("button",{className:"btn btn-sm btn-ghost",disabled:X===ie,onClick:()=>Qe(e=>Math.min(ie,e+1)),children:"Next"})]})]})]}),I&&t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"tournament-prestart-heading",className:"fixed inset-0 z-[80] flex items-start justify-center pt-8 bg-black/70 p-4",onClick:e=>{e.target===e.currentTarget&&(Xe(a=>({...a,[I.id]:!0})),Se(null))},children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 max-w-2xl w-full max-h-[85vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{id:"tournament-prestart-heading",className:"text-xl font-semibold",children:"Bracket Preview"}),t.jsxs("div",{className:"text-sm opacity-70",children:[I.title," starts in"," ",Math.max(0,Math.ceil((I.startAt-ht)/1e3)),"s"]})]}),t.jsx("button",{className:"btn btn-ghost",onClick:()=>{Xe(e=>({...e,[I.id]:!0})),Se(null)},children:"Close"})]}),t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400 mb-3",children:"Round 1"}),t.jsx("div",{className:"space-y-2",children:pt(I).map((e,a)=>t.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm",children:[t.jsxs("span",{className:"font-semibold",children:["Match ",a+1]}),t.jsxs("span",{className:"text-slate-200",children:[e[0]," vs ",e[1]]})]},`${I.id}-pair-${a}`))}),t.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Byes are shown so everyone can see their bracket position."})]})}),ue&&t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"create-tournament-heading",tabIndex:-1,className:"fixed inset-0 z-[70] flex items-start justify-center pt-8 bg-black/80 p-2 sm:p-6",onClick:e=>{e.target===e.currentTarget&&J(!1)},children:t.jsxs("div",{className:"rounded-2xl w-full sm:max-w-2xl max-h-[82vh] flex flex-col shadow-2xl border border-indigo-500/30 overflow-hidden",style:{background:"var(--ndn-card-bg, #0f172a)"},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-indigo-500/20 shrink-0",style:{background:"var(--ndn-card-bg, #0f172a)"},children:[t.jsx("h3",{id:"create-tournament-heading",className:"text-sm sm:text-lg font-bold tracking-tight",children:"ðŸŽ¯ New Tournament"}),t.jsx("button",{className:"w-7 h-7 rounded-full bg-indigo-500/20 hover:bg-indigo-500/40 flex items-center justify-center text-xs transition-colors",onClick:()=>J(!1),"aria-label":"Close",children:"âœ•"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",style:{background:"var(--ndn-card-bg, #0f172a)"},children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:"Title"}),t.jsx("input",{className:"input w-full text-sm",value:c.title,onChange:e=>w(a=>({...a,title:e.target.value})),placeholder:"e.g. Friday Night 501"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:"Game Settings"}),t.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[t.jsxs("div",{children:[t.jsx("select",{className:"input w-full text-xs",value:c.game,onChange:e=>{const a=e.target.value,s=Me[a],r=s?.modeOptions?.includes(c.mode)?c.mode:s?.modeOptions?.[0]??"bestof";w(o=>({...o,game:a,mode:r,extras:Ct(a),startingScore:s?.startOptions?.[0]??o.startingScore}))},children:t.jsxs("option",{value:"X01",children:[f("X01").emoji," X01"]})}),t.jsx("div",{className:"text-[9px] mt-0.5 px-0.5",style:{color:f(c.game).color},children:f(c.game).tagline||"Game"})]}),t.jsxs("div",{children:[t.jsx("select",{className:"input w-full text-xs",value:c.mode,onChange:e=>w(a=>({...a,mode:e.target.value})),children:kt(c.game).filter(e=>e!=="all").map(e=>t.jsx("option",{value:String(e),children:Y(String(e))},String(e)))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:"Mode"})]}),t.jsxs("div",{children:[t.jsx("input",{className:"input w-full text-xs",type:"number",min:1,value:c.value,onChange:e=>w(a=>({...a,value:Number(e.target.value)})),placeholder:"0"}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:It(c.game,c.mode)})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:"Description"}),t.jsx("textarea",{className:"input w-full text-xs",rows:2,value:c.description,onChange:e=>w(a=>({...a,description:e.target.value})),placeholder:"Optional detailsâ€¦"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:"Schedule"}),t.jsxs("div",{className:"space-y-1.5 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-2",children:[t.jsxs("div",{children:[t.jsx("input",{className:"input w-full text-xs",type:"datetime-local",value:c.startAt,onChange:e=>w(a=>({...a,startAt:e.target.value}))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:"Start time"})]}),t.jsxs("div",{children:[t.jsx("input",{className:"input w-full text-xs",type:"number",min:0,value:c.checkinMinutes,onChange:e=>w(a=>({...a,checkinMinutes:Number(e.target.value)}))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:"Check-in (min)"})]})]})]}),tt(c.game).length>0&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:[c.game," Settings"]}),t.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:tt(c.game).map(e=>t.jsxs("div",{children:[e.type==="select"&&e.options?t.jsx("select",{className:"input w-full text-xs",value:c.extras[e.key]??e.defaultValue,onChange:a=>w(s=>({...s,extras:{...s.extras,[e.key]:Number(a.target.value)}})),children:e.options.map(a=>t.jsx("option",{value:a,children:a},a))}):t.jsx("input",{className:"input w-full text-xs",type:"number",min:e.min??1,max:e.max,step:e.step??1,value:c.extras[e.key]??e.defaultValue,onChange:a=>w(s=>({...s,extras:{...s.extras,[e.key]:Number(a.target.value)}}))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:e.label})]},e.key))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-indigo-300/70 mb-1",children:"Players"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[(Me[c.game]?.startOptions??[]).length>0?t.jsxs("div",{children:[t.jsx("select",{className:"input w-full text-xs",value:String(c.startingScore),onChange:e=>w(a=>({...a,startingScore:Number(e.target.value)})),children:(Me[c.game]?.startOptions??[301,501,701]).map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:"Starting score"})]}):t.jsx("div",{}),t.jsxs("div",{children:[t.jsx("input",{className:"input w-full text-xs",type:"number",min:6,max:64,value:c.capacity,onChange:e=>w(a=>({...a,capacity:Number(e.target.value)}))}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 px-0.5",children:"Max players"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-indigo-500/10 border border-indigo-500/20 px-3 py-2",children:[t.jsx("input",{type:"checkbox",className:"accent-purple-500 w-4 h-4 shrink-0",checked:!!c.requireCalibration,onChange:e=>w(a=>({...a,requireCalibration:!!e.target.checked})),id:"require-camera"}),t.jsxs("label",{htmlFor:"require-camera",className:"text-xs leading-tight",children:[t.jsx("span",{className:"font-semibold",children:"Require Camera"}),t.jsx("span",{className:"block text-[10px] text-slate-400 mt-0.5",children:"Players must have a camera to join"})]})]}),t.jsx("div",{className:"text-[10px] text-slate-500 text-center pb-1",children:"Community tournaments do not award prizes."})]}),t.jsxs("div",{className:"flex gap-2 px-4 py-3 border-t border-indigo-500/20 shrink-0",style:{background:"var(--ndn-card-bg, #0f172a)"},children:[t.jsx("button",{className:"flex-1 btn btn-ghost text-xs",onClick:()=>J(!1),children:"Cancel"}),t.jsx("button",{className:"flex-1 btn text-xs",disabled:$,onClick:bt,children:$?"Creatingâ€¦":"Create Tournament"})]})]})}),g&&t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"join-heading",tabIndex:-1,className:"fixed inset-0 z-60 flex items-start justify-center pt-8 bg-black/60 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 max-w-md w-full",children:[t.jsx("div",{id:"join-heading",className:"text-lg font-bold mb-2",children:"Match Ready"}),t.jsxs("div",{className:"mb-3",children:[g.game," - ",g.modeType," Â· ",g.legs," legs"]}),t.jsxs("div",{className:"text-sm opacity-80 mb-3",children:["Created by ",g.createdBy]}),g.startingScore&&t.jsxs("div",{className:"mb-3",children:["Starting score:"," ",t.jsx("span",{className:"font-mono",children:g.startingScore})]}),t.jsx(et,{open:xe,players:Ue.players,user:l,onRequestClose:()=>{},onDone:()=>{}}),t.jsxs("div",{className:"mb-3",children:["Timer: ",t.jsxs("span",{className:"font-mono",children:[$e,"s"]})]}),($e<=15||g?.prestartEndsAt)&&t.jsxs("div",{className:"mb-3",children:["Choose:"," ",t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:`btn ${W==="bull"?"btn-primary":"btn-ghost"}`,onClick:()=>ze("bull"),children:"Bull Up"}),t.jsx("button",{className:`btn ${W==="skip"?"btn-primary":"btn-ghost"}`,onClick:()=>ze("skip"),children:"Skip"})]}),t.jsx("div",{className:"text-xs opacity-70 mt-2",children:W?`You chose: ${W}`:"Please choose Bull Up or Skip before accepting"}),Object.keys(Je).length>0&&t.jsx("div",{className:"text-xs opacity-70 mt-2",role:"status","aria-live":"polite",children:Object.entries(Je).map(([e,a])=>t.jsxs("div",{children:[ut[e]||e," chose: ",a]},e))}),W==="skip"&&t.jsx("div",{className:"text-xs opacity-70 mt-2",children:"Skip requires both players to click Skip. Waiting for opponent..."})]})]})}),ee.open&&ee.t&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-8",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k({open:!1,t:null})}),t.jsxs("div",{className:"relative card p-4 w-[360px] max-w-[90vw]",children:[t.jsx("div",{className:"text-lg font-semibold mb-2",children:"Leave tournament?"}),t.jsxs("div",{className:"text-sm opacity-80 mb-4",children:["Are you sure you want to remove yourself from â€œ",ee.t.title,"â€?"]}),t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:()=>k({open:!1,t:null}),children:"Decline"}),t.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:async()=>{const e=ee.t;k({open:!1,t:null}),await Ke(e)},children:"Accept"})]})]})]}),te.open&&te.t&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-start justify-center pt-8 z-50",children:t.jsx("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-semibold mb-4 text-white",children:"Delete Tournament"}),t.jsxs("div",{className:"text-slate-300 mb-6",children:["Are you sure you want to delete"," ",t.jsxs("span",{className:"font-semibold text-white",children:['"',te.t.title,'"']}),"?",t.jsx("br",{}),t.jsx("span",{className:"text-sm text-slate-400",children:"This action cannot be undone."})]}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsx("button",{className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",onClick:()=>be({open:!1,t:null}),children:"Decline"}),t.jsx("button",{className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",onClick:gt,children:"Continue"})]})]})})})]}),t.jsx("div",{className:"flex items-center justify-center gap-2 py-3 mt-auto",children:ce.map((e,a)=>t.jsx("button",{className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${a===oe?"bg-white/20 text-white border border-white/30":"text-white/60 hover:text-white hover:bg-white/10"}`,onClick:()=>Pe(a),children:e.id},e.id))}),t.jsx(Pt,{open:rt,onClose:()=>Re(!1),title:"Match Summary",players:it})]})}export{Yt as default};
//# sourceMappingURL=Tournaments-Cf9PfzqD.js.map

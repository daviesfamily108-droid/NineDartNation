import{j as e}from"./index-qMRnDGev.js";import{r as h,N as S}from"./ui-DygUIHRq.js";const $=["7","8","9","4","5","6","1","2","3","0"];function I({value:n,onChange:c,onSubmit:l,disabled:r=!1,label:d="Number pad",helperText:x,maxLength:m=3,className:b=""}){const u=a=>{const t=`${n==="0"?"":n??""}${a}`,o=m>0?t.slice(0,m):t;c(o)};return h.useEffect(()=>{if(r)return;const a=t=>{if(!t||!t.tagName)return!1;const o=t,i=o.tagName.toLowerCase();return i==="input"||i==="textarea"||i==="select"?!0:!!o.getAttribute("contenteditable")},p=t=>{if(!t.defaultPrevented&&!a(t.target)&&!(t.metaKey||t.ctrlKey||t.altKey)){if(t.key>="0"&&t.key<="9"){t.preventDefault(),u(t.key);return}if(t.key==="Backspace"){t.preventDefault(),c((n||"").slice(0,-1));return}if(t.key==="Escape"){t.preventDefault(),c("");return}t.key==="Enter"&&l&&(t.preventDefault(),l())}};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[u,r,c,l,n]),e.jsxs("div",{className:b,children:[d&&e.jsx("div",{className:"text-sm font-semibold mb-2",children:d}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-sm",children:[$.map(a=>e.jsx("button",{className:"btn text-lg",onClick:()=>u(a),disabled:r,children:a},a)),e.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700 text-white",onClick:()=>c(""),disabled:r,children:"Clear"}),e.jsx("button",{className:"btn bg-slate-600 hover:bg-slate-700 text-white",onClick:()=>c((n||"").slice(0,-1)),disabled:r,children:"Back"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>l&&l(),disabled:r||!l,children:"Enter"})]}),x&&e.jsx("div",{className:"text-xs opacity-70 mt-2",children:x})]})}function T({inProgress:n=!0,startingScore:c=501,pendingEntries:l=[],onAddVisit:r,onUndo:d,onEndLeg:x,onNextPlayer:m,onEndGame:b,showDartsSelect:u=!0,showCheckoutSelectors:a=!0,showActionButtons:p=!0,showQuickButtons:t=!0,showUndo:o=!0,quickButtons:i=[180,140,100,60]}){const[j,f]=h.useState("0"),[v,D]=h.useState(3),[k,C]=h.useState(3),[w,E]=h.useState(1),y=Number(j||0),N=Number.isFinite(y)?y:0,g=()=>{r(Math.max(0,N),v),f("0")};return n?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{className:"input w-32",type:"number",value:j,onChange:s=>f(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),g())},placeholder:"Score"}),u&&e.jsxs("select",{className:"input",value:v,onChange:s=>D(parseInt(s.target.value)),children:[e.jsx("option",{value:1,children:"1 dart"}),e.jsx("option",{value:2,children:"2 darts"}),e.jsx("option",{value:3,children:"3 darts"})]}),e.jsx("button",{className:"btn",onClick:g,children:"Add Visit âž•"}),o&&e.jsx("button",{className:"px-3 py-2 rounded-xl border border-slate-200",onClick:()=>d&&d(),title:"Undo",children:e.jsx(S,{className:"w-4 h-4"})})]}),t&&i&&i.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.jsx("span",{className:"opacity-70",children:"Quick:"}),i.map(s=>e.jsx("button",{className:"btn px-2 py-0.5 text-xs",onClick:()=>r(s,3),children:s},String(s)))]}),e.jsx(I,{value:j,onChange:f,onSubmit:g,helperText:"Tap numbers then press Enter to submit."}),p&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{className:"btn",onClick:()=>{x&&x(Math.max(0,N),k,{doubleDarts:w}),f("0")},children:["End Leg (Checkout ",N||0,") ï¿½"]}),e.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>m&&m(),children:"Next Player ðŸ‘¤"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:()=>{b&&b()},children:"End Game ï¿½"})]}),a&&e.jsxs("div",{className:"grid gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts used at double"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${w===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>E(s),children:s},`double-${s}`))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts at checkout"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${k===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>C(s),children:s},`checkout-${s}`))})]})]})]}):e.jsx("p",{className:"text-slate-600",children:"No game in progress."})}export{T as M,I as S};
//# sourceMappingURL=MatchControls-BrAYb7vL.js.map

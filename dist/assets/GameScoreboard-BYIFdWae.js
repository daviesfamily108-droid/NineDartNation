import{j as t}from"./index-BjeBmmUT.js";const m=["D1","D2","D3","D4","D5","D6","D7","D8","D9","D10","D11","D12","D13","D14","D15","D16","D17","D18","D19","D20","DB"];function f(e){return e==="DB"?50:Number(e.slice(1))*2}function h(e){return m.includes(e)?f(e):32}function L(e,n="D16"){if(e>170||e<=1)return[];const r={170:["T20 T20 DB"],167:["T20 T19 DB"],164:["T20 T18 DB"],161:["T20 T17 DB"],160:["T20 T20 D20"],158:["T20 T20 D19"],157:["T20 T19 D20"],156:["T20 T20 D18"],155:["T20 T19 D19"],154:["T20 T18 D20"],153:["T20 T19 D18"],152:["T20 T20 D16"],151:["T20 T17 D20"],150:["T20 T18 D18"],149:["T20 T19 D16"],148:["T20 T16 D20"],147:["T20 T17 D18"],146:["T20 T18 D16"],145:["T20 T15 D20"],144:["T20 T20 D12"],141:["T20 T19 D12"],140:["T20 T20 D10"],137:["T20 T19 D10"],136:["T20 T20 D8"],132:["BULL T14 D20","T20 T12 D8"],130:["T20 T20 D5","T20 T18 D8"],129:["T19 T16 D12"],128:["T18 T14 D16"],127:["T20 T17 D8"],126:["T19 T19 D6"],121:["T20 11 D20","T20 T15 D8"],120:["T20 20 D20","T20 S20 D20"],110:["T20 10 D20"],100:["T20 D20"],99:["T19 10 D16","T19 S10 D16"],97:["T19 D20"],96:["T20 D18"],95:["T19 D19"],94:["T18 D20"],92:["T20 D16"],90:["T18 D18","T20 D15"],86:["T18 D16"],84:["T20 D12","T16 D18"],82:["BULL D16","T14 D20"],81:["T19 D12"],80:["T20 D10","D20 D20"],78:["T18 D12"],76:["T20 D8","T16 D14"],74:["T14 D16","T18 D10"],72:["T16 D12","T20 D6"],70:["T18 D8","S20 BULL"],68:["T20 D4","T16 D10"],66:["T10 D18","T14 D12"],64:["T16 D8","D16 D16"],62:["T10 D16","T12 D13"],60:["20 D20","S20 D20"],58:["18 D20","S18 D20"],56:["16 D20","S16 D20"],54:["14 D20","S14 D20"],52:["20 D16","S20 D16"],50:["BULL","10 D20"],48:["16 D16","S16 D16"],46:["14 D16"],44:["12 D16"],42:["10 D16"],40:["D20"],38:["D19"],36:["D18"],34:["D17"],32:["D16"],30:["D15"],28:["D14"],26:["D13"],24:["D12"],22:["D11"],20:["D10"],18:["D9"],16:["D8"],14:["D7"],12:["D6"],10:["D5"],8:["D4"],6:["D3"],4:["D2"],2:["D1"]};if(r[e])return r[e];const i=h(n),s=[];for(const u of[60,57,54,51,48])if(e-u===i){s.push(`T${u/3} ${n}`);break}if(!s.length){for(const u of[20,19,18,17,16,15])if(e-u===i){s.push(`${u} ${n}`);break}}return s}function $(e,n,r,i,s){try{const u=window.speechSynthesis;if(!u)return;const o=new SpeechSynthesisUtterance,c=r<=170&&r>0,a=n===180;if(!(!s?.checkoutOnly||c||a))return;if(a?(o.text=`${e}! One eighty!`,o.rate=1.04,o.pitch=1.15):c?(o.text=`${e}, ${r} remaining.`,o.rate=1,o.pitch=1):n===0?(o.text=`${e}, no score.`,o.rate=1,o.pitch=1):(o.text=`${e}, ${n}.`,o.rate=1,o.pitch=1),i){const D=u.getVoices().find(T=>T.name===i);D&&(o.voice=D)}typeof s?.volume=="number"?o.volume=Math.max(0,Math.min(1,s.volume)):o.volume=1;try{u.cancel()}catch{}u.speak(o)}catch{}}function A({left:e,right:n,className:r="",sticky:i=!0}){return t.jsxs("div",{className:`${i?"sticky top-0":""} card relative overflow-hidden flex items-center justify-between gap-2 mb-2 px-2 sm:px-3 py-2 rounded-xl bg-white/10 border border-white/10 z-10 backdrop-blur-sm ${r}`,children:[t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-slate-900/30 via-slate-900/10 to-transparent"}),t.jsx("div",{className:"flex items-center gap-2 text-xs sm:text-sm leading-none flex-wrap",children:e}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap justify-end",children:n})]})}const d=[...Array.from({length:20},(e,n)=>({label:`D${n+1}`,score:(n+1)*2})),{label:"DBULL",score:50,isBull:!0}];function B(e,n){const r=d[n];return!!r&&e===r.score}function C(e){const n=e.trim().toUpperCase();if(!n)return null;if(n==="50"||n==="BULL"||n==="DBULL"||n==="IBULL")return 50;if(n==="25"||n==="OBULL")return 25;const r=n.match(/^(S|D|T)?\s*(\d{1,2})$/);if(!r)return null;const i=r[1]||"S",s=parseInt(r[2],10);return s<1||s>20?null:s*(i==="S"?1:i==="D"?2:3)}const U=[...Array.from({length:20},(e,n)=>n+1),25,50],b={0:{type:"NUM",num:20},1:{type:"NUM",num:19},2:{type:"NUM",num:18},3:{type:"NUM",num:17},4:{type:"BULL"},5:{type:"NUM",num:16},6:{type:"NUM",num:15},7:{type:"NUM",num:14},8:{type:"NUM",num:13}};function k(){return{board:Array(9).fill(null),turn:"X",finished:!1,winner:null}}function x(e){const n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[r,i,s]of n)if(e[r]&&e[r]===e[i]&&e[r]===e[s])return e[r];return e.every(r=>r)?"Draw":null}function w(e,n,r,i,s){if(e.finished||e.board[n])return!1;const u=b[n];let o=!1;if(u.type==="BULL"?o=i==="BULL"||i==="INNER_BULL"||r===25||r===50:u.type==="NUM"&&typeof u.num=="number"&&(typeof s=="number"&&s===u.num||!s&&(r===u.num||r===u.num*2||r===u.num*3))&&(o=!0),!o)return!1;e.board[n]=e.turn;const c=x(e.board);return c?(e.finished=!0,e.winner=c,!0):(e.turn=e.turn==="X"?"O":"X",!0)}function R({gameMode:e,players:n,matchScore:r,gameRules:i}){return!n||n.length===0?null:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:n.map((s,u)=>t.jsxs("div",{className:`rounded-lg border p-3 ${s.isCurrentTurn?"border-emerald-500/40 bg-emerald-500/10":"border-slate-500/40 bg-slate-500/10"}`,children:[t.jsx("div",{className:`text-sm font-semibold mb-2 uppercase tracking-wide ${s.isCurrentTurn?"text-emerald-300":"text-slate-300"}`,children:s.name}),t.jsxs("div",{className:"space-y-1 text-sm",children:[e==="X01"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Legs Won",value:`● ${s.legsWon||0}`,highlight:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0}),t.jsx(l,{label:"Last Score",value:s.lastScore||"0",mono:!0}),t.jsx(l,{label:"C/Out Rate",value:`${s.checkoutRate||0}%`,mono:!0}),t.jsx(l,{label:"Best Leg",value:s.bestLeg||"—",mono:!0}),s.matchAvg!==void 0&&s.allTimeAvg!==void 0&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-white/20 pt-1 mt-1",children:[t.jsx(l,{label:"Match Avg",value:s.matchAvg.toFixed(2),mono:!0,bold:!0,highlight:s.matchAvg>0}),t.jsx(j,{matchAvg:s.matchAvg,allTimeAvg:s.allTimeAvg})]})})]}),(e==="Cricket"||e==="American Cricket")&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Closed",value:v(s.closed),mono:!0}),t.jsx(l,{label:"Points",value:s.points||0,mono:!0,bold:!0}),t.jsx(l,{label:"Status",value:g(s),highlight:s.isCurrentTurn})]}),(e==="Shanghai"||e==="Halve It")&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:e==="Shanghai"?"Round":"Stage",value:s.round||1,mono:!0}),t.jsx(l,{label:"Target",value:s.target||"—",mono:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0})]}),e==="Killer"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Target #",value:s.number||"—",mono:!0,bold:!0}),t.jsx(l,{label:"Lives",value:s.lives||0,mono:!0,bold:!0}),s.eliminated&&t.jsx(l,{label:"Status",value:"ELIMINATED",highlight:!1})]}),e==="High-Low"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Round",value:s.round||1,mono:!0}),t.jsx(l,{label:"Target",value:s.target||"High",mono:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0})]}),(e==="Double Practice"||e==="Treble Practice"||e==="Around the Clock")&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Target",value:s.target||"—",mono:!0,bold:!0}),t.jsx(l,{label:"Hits",value:s.hits||0,mono:!0,bold:!0}),s.totalNeeded&&t.jsx(l,{label:"Progress",value:`${s.hits||0} / ${s.totalNeeded}`,mono:!0})]}),(e==="Count-Up"||e==="High Score"||e==="Low Score")&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Round",value:s.round||1,mono:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0}),e==="High Score"&&t.jsx(l,{label:"Best",value:s.bestScore||0,mono:!0})]}),(e==="Checkout 170"||e==="Checkout 121")&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Remaining",value:s.remaining||0,mono:!0,bold:!0}),t.jsx(l,{label:"Attempts",value:s.attempts||0,mono:!0}),t.jsx(l,{label:"Successes",value:s.successes||0,mono:!0})]}),e==="Bob's 27"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Target",value:`D${s.target||1}`,mono:!0,bold:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0})]}),e==="Baseball"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Inning",value:s.inning||1,mono:!0}),t.jsx(l,{label:"Score",value:s.score||0,mono:!0,bold:!0})]}),e==="Golf"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Hole",value:s.hole||1,mono:!0}),t.jsx(l,{label:"Strokes",value:s.strokes||0,mono:!0,bold:!0})]}),e==="Tic Tac Toe"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{label:"Turn",value:s.turn||1,mono:!0}),s.winner&&t.jsx(l,{label:"Result",value:"WINNER!",highlight:!0})]}),r&&(e==="X01"||e==="Cricket"||e==="American Cricket")&&u===1&&t.jsx("div",{className:"border-t border-white/10 pt-1 mt-1",children:t.jsx(l,{label:"Match",value:r,mono:!0,bold:!0,highlight:!0})})]})]},u))})}function l({label:e,value:n,mono:r=!1,bold:i=!1,highlight:s=!1}){return t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"opacity-70",children:[e,":"]}),t.jsx("span",{className:`${r?"font-mono":""} ${i?"font-semibold":""} ${s?"text-emerald-300":""}`,children:n})]})}function j({matchAvg:e,allTimeAvg:n}){const r=e-n,i=r>0,s=Math.abs(r)<.01;let u="",o="text-slate-300";return s?(u="= All-time",o="text-slate-300"):i?(u=`+${r.toFixed(2)} vs avg`,o="text-emerald-400"):(u=`${r.toFixed(2)} vs avg`,o="text-orange-400"),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"opacity-70",children:"AVG vs Avg:"}),t.jsx("span",{className:`font-mono font-semibold ${o}`,children:u})]})}function v(e){return!e||Object.keys(e).length===0?"—":Object.entries(e).filter(([r,i])=>i===3).map(([r])=>r==="25"?"B":r).join(",")||"—"}function g(e){if(!e.closed)return"Starting";const n=Object.values(e.closed).filter(r=>r===3).length;return n===0?"No marks":n<7?`${n}/7`:"Closing in"}export{U as A,d as D,A as G,b as T,R as a,L as b,k as c,B as i,C as p,$ as s,w as t};
//# sourceMappingURL=GameScoreboard-BYIFdWae.js.map

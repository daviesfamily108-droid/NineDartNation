{"version":3,"file":"MatchControls-DHsPBfZp.js","sources":["../../src/store/pendingVisit.ts","../../src/components/MatchControls.tsx"],"sourcesContent":["import { create } from \"zustand\";\nimport type { Ring } from \"../utils/scoring\";\n\nexport type PendingEntry = { label: string; value: number; ring: Ring };\n\ntype PendingVisitState = {\n  darts: number;\n  total: number;\n  entries: PendingEntry[];\n  setVisit: (entries: PendingEntry[], darts: number, total: number) => void;\n  reset: () => void;\n};\n\nexport const usePendingVisit = create<PendingVisitState>((set) => ({\n  darts: 0,\n  total: 0,\n  entries: [],\n  setVisit: (entries, darts, total) => set({ entries, darts, total }),\n  reset: () => set({ darts: 0, total: 0, entries: [] }),\n}));\n","import React, { useState } from \"react\";\nimport { Undo2 } from \"lucide-react\";\n\ninterface MatchControlsProps {\n  inProgress?: boolean;\n  startingScore?: number;\n  pendingEntries?: Array<any>;\n  onAddVisit: (score: number, darts: number) => void;\n  onUndo?: () => void;\n  onEndLeg?: (score?: number) => void;\n  onNextPlayer?: () => void;\n  onEndGame?: () => void;\n  showDartsSelect?: boolean;\n  quickButtons?: number[];\n}\n\nexport default function MatchControls({\n  inProgress = true,\n  startingScore = 501,\n  pendingEntries = [],\n  onAddVisit,\n  onUndo,\n  onEndLeg,\n  onNextPlayer,\n  onEndGame,\n  showDartsSelect = true,\n  quickButtons = [180, 140, 100, 60],\n}: MatchControlsProps) {\n  const [score, setScore] = useState<number>(0);\n  const [darts, setDarts] = useState<number>(3);\n\n  if (!inProgress) {\n    return <p className=\"text-slate-600\">No game in progress.</p>;\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <input\n          className=\"input w-32\"\n          type=\"number\"\n          value={score}\n          onChange={(e) => setScore(parseInt(e.target.value || \"0\"))}\n          placeholder=\"Score\"\n        />\n        {showDartsSelect && (\n          <select\n            className=\"input\"\n            value={darts}\n            onChange={(e) => setDarts(parseInt(e.target.value))}\n          >\n            <option value={1}>1 dart</option>\n            <option value={2}>2 darts</option>\n            <option value={3}>3 darts</option>\n          </select>\n        )}\n        <button\n          className=\"btn\"\n          onClick={() => {\n            onAddVisit(Math.max(0, Number.isFinite(score) ? score : 0), darts);\n            setScore(0);\n          }}\n        >\n          Add Visit\n        </button>\n        <button\n          className=\"px-3 py-2 rounded-xl border border-slate-200\"\n          onClick={() => onUndo && onUndo()}\n          title=\"Undo\"\n        >\n          <Undo2 className=\"w-4 h-4\" />\n        </button>\n      </div>\n      {quickButtons && quickButtons.length > 0 && (\n        <div className=\"flex flex-wrap items-center gap-2 mt-2 text-xs\">\n          <span className=\"opacity-70\">Quick:</span>\n          {quickButtons.map((v) => (\n            <button\n              key={String(v)}\n              className=\"btn px-2 py-0.5 text-xs\"\n              onClick={() => onAddVisit(v, 3)}\n            >\n              {v}\n            </button>\n          ))}\n        </div>\n      )}\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <button\n          className=\"btn\"\n          onClick={() => {\n            onEndLeg && onEndLeg(score);\n            setScore(0);\n          }}\n        >\n          End Leg (Checkout {score || 0})\n        </button>\n        <button\n          className=\"btn bg-slate-700 hover:bg-slate-800\"\n          onClick={() => onNextPlayer && onNextPlayer()}\n        >\n          Next Player\n        </button>\n        <button\n          className=\"btn bg-emerald-600 hover:bg-emerald-700\"\n          onClick={() => {\n            onEndGame && onEndGame();\n          }}\n        >\n          End Game\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["usePendingVisit","create","set","entries","darts","total","MatchControls","inProgress","startingScore","pendingEntries","onAddVisit","onUndo","onEndLeg","onNextPlayer","onEndGame","showDartsSelect","quickButtons","score","setScore","useState","setDarts","jsxs","jsx","e","Undo2","v"],"mappings":"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"}
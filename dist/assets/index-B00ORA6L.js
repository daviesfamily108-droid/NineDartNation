(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qu={exports:{}},Wl={},Yu={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),mh=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),yh=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),Nh=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),Nc=Symbol.iterator;function jh(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var Xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,qu={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=qu,this.updater=n||Xu}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zu(){}Zu.prototype=Tr.prototype;function io(e,t,n){this.props=e,this.context=t,this.refs=qu,this.updater=n||Xu}var ao=io.prototype=new Zu;ao.constructor=io;Ku(ao,Tr.prototype);ao.isPureReactComponent=!0;var bc=Array.isArray,ed=Object.prototype.hasOwnProperty,oo={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ed.call(t,r)&&!td.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Cs,type:e,key:i,ref:a,props:l,_owner:oo.current}}function Sh(e,t){return{$$typeof:Cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function co(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cs}function kh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jc=/\/+/g;function Si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kh(""+e.key):t.toString(36)}function nl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cs:case mh:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Si(a,0):r,bc(l)?(n="",e!=null&&(n=e.replace(jc,"$&/")+"/"),nl(l,t,n,"",function(u){return u})):l!=null&&(co(l)&&(l=Sh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(jc,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",bc(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Si(i,o);a+=nl(i,t,n,c,l)}else if(c=jh(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Si(i,o++),a+=nl(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function As(e,t,n){if(e==null)return e;var r=[],l=0;return nl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Ch(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},rl={transition:null},Eh={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:oo};function rd(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:As,forEach:function(e,t,n){As(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return As(e,function(){t++}),t},toArray:function(e){return As(e,function(t){return t})||[]},only:function(e){if(!co(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Tr;le.Fragment=hh;le.Profiler=gh;le.PureComponent=io;le.StrictMode=ph;le.Suspense=wh;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eh;le.act=rd;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ku({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=oo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)ed.call(t,c)&&!td.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Cs,type:e.type,key:l,ref:i,props:r,_owner:a}};le.createContext=function(e){return e={$$typeof:vh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xh,_context:e},e.Consumer=e};le.createElement=nd;le.createFactory=function(e){var t=nd.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:yh,render:e}};le.isValidElement=co;le.lazy=function(e){return{$$typeof:bh,_payload:{_status:-1,_result:e},_init:Ch}};le.memo=function(e,t){return{$$typeof:Nh,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=rl.transition;rl.transition={};try{e()}finally{rl.transition=t}};le.unstable_act=rd;le.useCallback=function(e,t){return rt.current.useCallback(e,t)};le.useContext=function(e){return rt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};le.useEffect=function(e,t){return rt.current.useEffect(e,t)};le.useId=function(){return rt.current.useId()};le.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return rt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};le.useRef=function(e){return rt.current.useRef(e)};le.useState=function(e){return rt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return rt.current.useTransition()};le.version="18.3.1";Yu.exports=le;var m=Yu.exports;const uo=Gu(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=m,Dh=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Ph=Object.prototype.hasOwnProperty,Ih=Th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lh={key:!0,ref:!0,__self:!0,__source:!0};function sd(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ph.call(t,r)&&!Lh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Dh,type:e,key:i,ref:a,props:l,_owner:Ih.current}}Wl.Fragment=Mh;Wl.jsx=sd;Wl.jsxs=sd;Qu.exports=Wl;var s=Qu.exports,ra={},ld={exports:{}},xt={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,_){var $=L.length;L.push(_);e:for(;0<$;){var X=$-1>>>1,ne=L[X];if(0<l(ne,_))L[X]=_,L[$]=ne,$=X;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var _=L[0],$=L.pop();if($!==_){L[0]=$;e:for(var X=0,ne=L.length,he=ne>>>1;X<he;){var q=2*(X+1)-1,Se=L[q],ge=q+1,de=L[ge];if(0>l(Se,$))ge<ne&&0>l(de,Se)?(L[X]=de,L[ge]=$,X=ge):(L[X]=Se,L[q]=$,X=q);else if(ge<ne&&0>l(de,$))L[X]=de,L[ge]=$,X=ge;else break e}}return _}function l(L,_){var $=L.sortIndex-_.sortIndex;return $!==0?$:L.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],p=1,y=null,g=3,v=!1,N=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(L){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=L)r(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function x(L){if(w=!1,f(L),!N)if(n(c)!==null)N=!0,Pe(j);else{var _=n(u);_!==null&&K(x,_.startTime-L)}}function j(L,_){N=!1,w&&(w=!1,h(M),M=-1),v=!0;var $=g;try{for(f(_),y=n(c);y!==null&&(!(y.expirationTime>_)||L&&!z());){var X=y.callback;if(typeof X=="function"){y.callback=null,g=y.priorityLevel;var ne=X(y.expirationTime<=_);_=e.unstable_now(),typeof ne=="function"?y.callback=ne:y===n(c)&&r(c),f(_)}else r(c);y=n(c)}if(y!==null)var he=!0;else{var q=n(u);q!==null&&K(x,q.startTime-_),he=!1}return he}finally{y=null,g=$,v=!1}}var C=!1,S=null,M=-1,b=5,E=-1;function z(){return!(e.unstable_now()-E<b)}function H(){if(S!==null){var L=e.unstable_now();E=L;var _=!0;try{_=S(!0,L)}finally{_?Z():(C=!1,S=null)}}else C=!1}var Z;if(typeof d=="function")Z=function(){d(H)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=H,Z=function(){te.postMessage(null)}}else Z=function(){k(H,0)};function Pe(L){S=L,C||(C=!0,Z())}function K(L,_){M=k(function(){L(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,Pe(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var _=3;break;default:_=g}var $=g;g=_;try{return L()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=g;g=L;try{return _()}finally{g=$}},e.unstable_scheduleCallback=function(L,_,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,L={id:p++,callback:_,priorityLevel:L,startTime:$,expirationTime:ne,sortIndex:-1},$>X?(L.sortIndex=$,t(u,L),n(c)===null&&L===n(u)&&(w?(h(M),M=-1):w=!0,K(x,$-X))):(L.sortIndex=ne,t(c,L),N||v||(N=!0,Pe(j))),L},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(L){var _=g;return function(){var $=g;g=_;try{return L.apply(this,arguments)}finally{g=$}}}})(ad);id.exports=ad;var Rh=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=m,gt=Rh;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,as={};function Bn(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(as[e]=t,e=0;e<t.length;e++)od.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=Object.prototype.hasOwnProperty,Oh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sc={},kc={};function _h(e){return sa.call(kc,e)?!0:sa.call(Sc,e)?!1:Oh.test(e)?kc[e]=!0:(Sc[e]=!0,!1)}function zh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fh(e,t,n,r){if(t===null||typeof t>"u"||zh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var fo=/[\-:]([a-z])/g;function mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fo,mo);Ye[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fo,mo);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fo,mo);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function ho(e,t,n,r){var l=Ye.hasOwnProperty(t)?Ye[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fh(t,n,l,r)&&(n=null),r||l===null?_h(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=Ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),po=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),ud=Symbol.for("react.context"),go=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),aa=Symbol.for("react.suspense_list"),xo=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),dd=Symbol.for("react.offscreen"),Cc=Symbol.iterator;function Or(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ki;function Wr(e){if(ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ki=t&&t[1]||""}return`
`+ki+e}var Ci=!1;function Ei(e,t){if(!e||Ci)return"";Ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wr(e):""}function Uh(e){switch(e.tag){case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return e=Ei(e.type,!1),e;case 11:return e=Ei(e.type.render,!1),e;case 1:return e=Ei(e.type,!0),e;default:return""}}function oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Xn:return"Portal";case la:return"Profiler";case po:return"StrictMode";case ia:return"Suspense";case aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case cd:return(e._context.displayName||"Context")+".Provider";case go:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xo:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}function Bh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(t);case 8:return t===po?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $h(e){var t=fd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=$h(e))}function md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ca(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ec(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hd(e,t){t=t.checked,t!=null&&ho(e,"checked",t,!1)}function ua(e,t){hd(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?da(e,t.type,n):t.hasOwnProperty("defaultValue")&&da(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function da(e,t,n){(t!=="number"||xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function cr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Vr(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function pd(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zs,xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hh=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){Hh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qr[t]=Qr[e]})});function vd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=vd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Wh=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(e,t){if(t){if(Wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=null;function vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xa=null,ur=null,dr=null;function Pc(e){if(e=Ds(e)){if(typeof xa!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Yl(t),xa(e.stateNode,e.type,t))}}function wd(e){ur?dr?dr.push(e):dr=[e]:ur=e}function Nd(){if(ur){var e=ur,t=dr;if(dr=ur=null,Pc(e),t)for(e=0;e<t.length;e++)Pc(t[e])}}function bd(e,t){return e(t)}function jd(){}var Ti=!1;function Sd(e,t,n){if(Ti)return e(t,n);Ti=!0;try{return bd(e,t,n)}finally{Ti=!1,(ur!==null||dr!==null)&&(jd(),Nd())}}function cs(e,t){var n=e.stateNode;if(n===null)return null;var r=Yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var va=!1;if(qt)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){va=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{va=!1}function Vh(e,t,n,r,l,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var Yr=!1,vl=null,yl=!1,ya=null,Jh={onError:function(e){Yr=!0,vl=e}};function Gh(e,t,n,r,l,i,a,o,c){Yr=!1,vl=null,Vh.apply(Jh,arguments)}function Qh(e,t,n,r,l,i,a,o,c){if(Gh.apply(this,arguments),Yr){if(Yr){var u=vl;Yr=!1,vl=null}else throw Error(O(198));yl||(yl=!0,ya=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ic(e){if($n(e)!==e)throw Error(O(188))}function Yh(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Ic(l),e;if(i===r)return Ic(l),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Cd(e){return e=Yh(e),e!==null?Ed(e):null}function Ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ed(e);if(t!==null)return t;e=e.sibling}return null}var Td=gt.unstable_scheduleCallback,Lc=gt.unstable_cancelCallback,Xh=gt.unstable_shouldYield,Kh=gt.unstable_requestPaint,Ae=gt.unstable_now,qh=gt.unstable_getCurrentPriorityLevel,yo=gt.unstable_ImmediatePriority,Dd=gt.unstable_UserBlockingPriority,wl=gt.unstable_NormalPriority,Zh=gt.unstable_LowPriority,Md=gt.unstable_IdlePriority,Vl=null,$t=null;function ep(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:rp,tp=Math.log,np=Math.LN2;function rp(e){return e>>>=0,e===0?32:31-(tp(e)/np|0)|0}var Fs=64,Us=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Jr(o):(i&=a,i!==0&&(r=Jr(i)))}else a=n&~l,a!==0?r=Jr(a):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),l=1<<n,r|=e[n],t&=~l;return r}function sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-At(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&r)&&(l[a]=sp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pd(){var e=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),e}function Di(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function ip(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-At(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function wo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var fe=0;function Id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,No,Rd,Ad,Od,Na=!1,Bs=[],mn=null,hn=null,pn=null,us=new Map,ds=new Map,on=[],ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function zr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Ds(t),t!==null&&No(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function op(e,t,n,r,l){switch(t){case"focusin":return mn=zr(mn,e,t,n,r,l),!0;case"dragenter":return hn=zr(hn,e,t,n,r,l),!0;case"mouseover":return pn=zr(pn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return us.set(i,zr(us.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,ds.set(i,zr(ds.get(i)||null,e,t,n,r,l)),!0}return!1}function _d(e){var t=Pn(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=kd(n),t!==null){e.blockedOn=t,Od(e.priority,function(){Rd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ga=r,n.target.dispatchEvent(r),ga=null}else return t=Ds(n),t!==null&&No(t),e.blockedOn=n,!1;t.shift()}return!0}function Ac(e,t,n){sl(e)&&n.delete(t)}function cp(){Na=!1,mn!==null&&sl(mn)&&(mn=null),hn!==null&&sl(hn)&&(hn=null),pn!==null&&sl(pn)&&(pn=null),us.forEach(Ac),ds.forEach(Ac)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Na||(Na=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,cp)))}function fs(e){function t(l){return Fr(l,e)}if(0<Bs.length){Fr(Bs[0],e);for(var n=1;n<Bs.length;n++){var r=Bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mn!==null&&Fr(mn,e),hn!==null&&Fr(hn,e),pn!==null&&Fr(pn,e),us.forEach(t),ds.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&on.shift()}var fr=nn.ReactCurrentBatchConfig,bl=!0;function up(e,t,n,r){var l=fe,i=fr.transition;fr.transition=null;try{fe=1,bo(e,t,n,r)}finally{fe=l,fr.transition=i}}function dp(e,t,n,r){var l=fe,i=fr.transition;fr.transition=null;try{fe=4,bo(e,t,n,r)}finally{fe=l,fr.transition=i}}function bo(e,t,n,r){if(bl){var l=ba(e,t,n,r);if(l===null)Fi(e,t,r,jl,n),Rc(e,r);else if(op(l,e,t,n,r))r.stopPropagation();else if(Rc(e,r),t&4&&-1<ap.indexOf(e)){for(;l!==null;){var i=Ds(l);if(i!==null&&Ld(i),i=ba(e,t,n,r),i===null&&Fi(e,t,r,jl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Fi(e,t,r,null,n)}}var jl=null;function ba(e,t,n,r){if(jl=null,e=vo(r),e=Pn(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function zd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case yo:return 1;case Dd:return 4;case wl:case Zh:return 16;case Md:return 536870912;default:return 16}default:return 16}}var un=null,jo=null,ll=null;function Fd(){if(ll)return ll;var e,t=jo,n=t.length,r,l="value"in un?un.value:un.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return ll=l.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function Oc(){return!1}function vt(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$s:Oc,this.isPropagationStopped=Oc,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=vt(Dr),Ts=Me({},Dr,{view:0,detail:0}),fp=vt(Ts),Mi,Pi,Ur,Jl=Me({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Mi=e.screenX-Ur.screenX,Pi=e.screenY-Ur.screenY):Pi=Mi=0,Ur=e),Mi)},movementY:function(e){return"movementY"in e?e.movementY:Pi}}),_c=vt(Jl),mp=Me({},Jl,{dataTransfer:0}),hp=vt(mp),pp=Me({},Ts,{relatedTarget:0}),Ii=vt(pp),gp=Me({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=vt(gp),vp=Me({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=vt(vp),wp=Me({},Dr,{data:0}),zc=vt(wp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jp[e])?!!t[e]:!1}function ko(){return Sp}var kp=Me({},Ts,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cp=vt(kp),Ep=Me({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=vt(Ep),Tp=Me({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),Dp=vt(Tp),Mp=Me({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=vt(Mp),Ip=Me({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=vt(Ip),Rp=[9,13,27,32],Co=qt&&"CompositionEvent"in window,Xr=null;qt&&"documentMode"in document&&(Xr=document.documentMode);var Ap=qt&&"TextEvent"in window&&!Xr,Ud=qt&&(!Co||Xr&&8<Xr&&11>=Xr),Uc=" ",Bc=!1;function Bd(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function Op(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Bc=!0,Uc);case"textInput":return e=t.data,e===Uc&&Bc?null:e;default:return null}}function _p(e,t){if(qn)return e==="compositionend"||!Co&&Bd(e,t)?(e=Fd(),ll=jo=un=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function Hd(e,t,n,r){wd(r),t=Sl(t,"onChange"),0<t.length&&(n=new So("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,ms=null;function Fp(e){ef(e,0)}function Gl(e){var t=tr(e);if(md(t))return e}function Up(e,t){if(e==="change")return t}var Wd=!1;if(qt){var Li;if(qt){var Ri="oninput"in document;if(!Ri){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),Ri=typeof Hc.oninput=="function"}Li=Ri}else Li=!1;Wd=Li&&(!document.documentMode||9<document.documentMode)}function Wc(){Kr&&(Kr.detachEvent("onpropertychange",Vd),ms=Kr=null)}function Vd(e){if(e.propertyName==="value"&&Gl(ms)){var t=[];Hd(t,ms,e,vo(e)),Sd(Fp,t)}}function Bp(e,t,n){e==="focusin"?(Wc(),Kr=t,ms=n,Kr.attachEvent("onpropertychange",Vd)):e==="focusout"&&Wc()}function $p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(ms)}function Hp(e,t){if(e==="click")return Gl(t)}function Wp(e,t){if(e==="input"||e==="change")return Gl(t)}function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Vp;function hs(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!sa.call(t,l)||!_t(e[l],t[l]))return!1}return!0}function Vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var n=Vc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vc(n)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(){for(var e=window,t=xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xl(e.document)}return t}function Eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jp(e){var t=Gd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jd(n.ownerDocument.documentElement,n)){if(r!==null&&Eo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Jc(n,i);var a=Jc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gp=qt&&"documentMode"in document&&11>=document.documentMode,Zn=null,ja=null,qr=null,Sa=!1;function Gc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||Zn==null||Zn!==xl(r)||(r=Zn,"selectionStart"in r&&Eo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&hs(qr,r)||(qr=r,r=Sl(ja,"onSelect"),0<r.length&&(t=new So("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function Hs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},Ai={},Qd={};qt&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Ql(e){if(Ai[e])return Ai[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qd)return Ai[e]=t[n];return e}var Yd=Ql("animationend"),Xd=Ql("animationiteration"),Kd=Ql("animationstart"),qd=Ql("transitionend"),Zd=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){Zd.set(e,t),Bn(t,[e])}for(var Oi=0;Oi<Qc.length;Oi++){var _i=Qc[Oi],Qp=_i.toLowerCase(),Yp=_i[0].toUpperCase()+_i.slice(1);jn(Qp,"on"+Yp)}jn(Yd,"onAnimationEnd");jn(Xd,"onAnimationIteration");jn(Kd,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(qd,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function Yc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qh(r,t,void 0,e),e.currentTarget=null}function ef(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;Yc(l,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;Yc(l,o,u),i=c}}}if(yl)throw e=ya,yl=!1,ya=null,e}function be(e,t){var n=t[Da];n===void 0&&(n=t[Da]=new Set);var r=e+"__bubble";n.has(r)||(tf(t,e,2,!1),n.add(r))}function zi(e,t,n){var r=0;t&&(r|=4),tf(n,e,r,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ps(e){if(!e[Ws]){e[Ws]=!0,od.forEach(function(n){n!=="selectionchange"&&(Xp.has(n)||zi(n,!1,e),zi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,zi("selectionchange",!1,t))}}function tf(e,t,n,r){switch(zd(t)){case 1:var l=up;break;case 4:l=dp;break;default:l=bo}n=l.bind(null,t,n,e),l=void 0,!va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Fi(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=Pn(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Sd(function(){var u=i,p=vo(n),y=[];e:{var g=Zd.get(e);if(g!==void 0){var v=So,N=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":v=Cp;break;case"focusin":N="focus",v=Ii;break;case"focusout":N="blur",v=Ii;break;case"beforeblur":case"afterblur":v=Ii;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dp;break;case Yd:case Xd:case Kd:v=xp;break;case qd:v=Pp;break;case"scroll":v=fp;break;case"wheel":v=Lp;break;case"copy":case"cut":case"paste":v=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Fc}var w=(t&4)!==0,k=!w&&e==="scroll",h=w?g!==null?g+"Capture":null:g;w=[];for(var d=u,f;d!==null;){f=d;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,h!==null&&(x=cs(d,h),x!=null&&w.push(gs(d,x,f)))),k)break;d=d.return}0<w.length&&(g=new v(g,N,null,n,p),y.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==ga&&(N=n.relatedTarget||n.fromElement)&&(Pn(N)||N[Zt]))break e;if((v||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,v?(N=n.relatedTarget||n.toElement,v=u,N=N?Pn(N):null,N!==null&&(k=$n(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=u),v!==N)){if(w=_c,x="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=Fc,x="onPointerLeave",h="onPointerEnter",d="pointer"),k=v==null?g:tr(v),f=N==null?g:tr(N),g=new w(x,d+"leave",v,n,p),g.target=k,g.relatedTarget=f,x=null,Pn(p)===u&&(w=new w(h,d+"enter",N,n,p),w.target=f,w.relatedTarget=k,x=w),k=x,v&&N)t:{for(w=v,h=N,d=0,f=w;f;f=Yn(f))d++;for(f=0,x=h;x;x=Yn(x))f++;for(;0<d-f;)w=Yn(w),d--;for(;0<f-d;)h=Yn(h),f--;for(;d--;){if(w===h||h!==null&&w===h.alternate)break t;w=Yn(w),h=Yn(h)}w=null}else w=null;v!==null&&Xc(y,g,v,w,!1),N!==null&&k!==null&&Xc(y,k,N,w,!0)}}e:{if(g=u?tr(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var j=Up;else if($c(g))if(Wd)j=Wp;else{j=$p;var C=Bp}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=Hp);if(j&&(j=j(e,u))){Hd(y,j,n,p);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&da(g,"number",g.value)}switch(C=u?tr(u):window,e){case"focusin":($c(C)||C.contentEditable==="true")&&(Zn=C,ja=u,qr=null);break;case"focusout":qr=ja=Zn=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,Gc(y,n,p);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":Gc(y,n,p)}var S;if(Co)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else qn?Bd(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Ud&&n.locale!=="ko"&&(qn||M!=="onCompositionStart"?M==="onCompositionEnd"&&qn&&(S=Fd()):(un=p,jo="value"in un?un.value:un.textContent,qn=!0)),C=Sl(u,M),0<C.length&&(M=new zc(M,e,null,n,p),y.push({event:M,listeners:C}),S?M.data=S:(S=$d(n),S!==null&&(M.data=S)))),(S=Ap?Op(e,n):_p(e,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(p=new zc("onBeforeInput","beforeinput",null,n,p),y.push({event:p,listeners:u}),p.data=S))}ef(y,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=cs(e,n),i!=null&&r.unshift(gs(e,i,l)),i=cs(e,t),i!=null&&r.push(gs(e,i,l))),e=e.return}return r}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=cs(n,i),c!=null&&a.unshift(gs(n,c,o))):l||(c=cs(n,i),c!=null&&a.push(gs(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Kp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function Kc(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(qp,"")}function Vs(e,t,n){if(t=Kc(t),Kc(e)!==t&&n)throw Error(O(425))}function kl(){}var ka=null,Ca=null;function Ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,qc=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof qc<"u"?function(e){return qc.resolve(null).then(e).catch(t0)}:Ta;function t0(e){setTimeout(function(){throw e})}function Ui(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);fs(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Mr,xs="__reactProps$"+Mr,Zt="__reactContainer$"+Mr,Da="__reactEvents$"+Mr,n0="__reactListeners$"+Mr,r0="__reactHandles$"+Mr;function Pn(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zc(e);e!==null;){if(n=e[Bt])return n;e=Zc(e)}return t}e=n,n=e.parentNode}return null}function Ds(e){return e=e[Bt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Yl(e){return e[xs]||null}var Ma=[],nr=-1;function Sn(e){return{current:e}}function je(e){0>nr||(e.current=Ma[nr],Ma[nr]=null,nr--)}function ve(e,t){nr++,Ma[nr]=e.current,e.current=t}var bn={},et=Sn(bn),at=Sn(!1),On=bn;function gr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ot(e){return e=e.childContextTypes,e!=null}function Cl(){je(at),je(et)}function eu(e,t,n){if(et.current!==bn)throw Error(O(168));ve(et,t),ve(at,n)}function nf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(O(108,Bh(e)||"Unknown",l));return Me({},n,r)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,On=et.current,ve(et,e),ve(at,at.current),!0}function tu(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=nf(e,t,On),r.__reactInternalMemoizedMergedChildContext=e,je(at),je(et),ve(et,e)):je(at),ve(at,n)}var Qt=null,Xl=!1,Bi=!1;function rf(e){Qt===null?Qt=[e]:Qt.push(e)}function s0(e){Xl=!0,rf(e)}function kn(){if(!Bi&&Qt!==null){Bi=!0;var e=0,t=fe;try{var n=Qt;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,Xl=!1}catch(l){throw Qt!==null&&(Qt=Qt.slice(e+1)),Td(yo,kn),l}finally{fe=t,Bi=!1}}return null}var rr=[],sr=0,Tl=null,Dl=0,bt=[],jt=0,_n=null,Yt=1,Xt="";function Dn(e,t){rr[sr++]=Dl,rr[sr++]=Tl,Tl=e,Dl=t}function sf(e,t,n){bt[jt++]=Yt,bt[jt++]=Xt,bt[jt++]=_n,_n=e;var r=Yt;e=Xt;var l=32-At(r)-1;r&=~(1<<l),n+=1;var i=32-At(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Yt=1<<32-At(t)+l|n<<l|r,Xt=i+e}else Yt=1<<i|n<<l|r,Xt=e}function To(e){e.return!==null&&(Dn(e,1),sf(e,1,0))}function Do(e){for(;e===Tl;)Tl=rr[--sr],rr[sr]=null,Dl=rr[--sr],rr[sr]=null;for(;e===_n;)_n=bt[--jt],bt[jt]=null,Xt=bt[--jt],bt[jt]=null,Yt=bt[--jt],bt[jt]=null}var pt=null,ht=null,ke=!1,Rt=null;function lf(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Yt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function Pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ia(e){if(ke){var t=ht;if(t){var n=t;if(!nu(e,t)){if(Pa(e))throw Error(O(418));t=gn(n.nextSibling);var r=pt;t&&nu(e,t)?lf(r,n):(e.flags=e.flags&-4097|2,ke=!1,pt=e)}}else{if(Pa(e))throw Error(O(418));e.flags=e.flags&-4097|2,ke=!1,pt=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Js(e){if(e!==pt)return!1;if(!ke)return ru(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ea(e.type,e.memoizedProps)),t&&(t=ht)){if(Pa(e))throw af(),Error(O(418));for(;t;)lf(e,t),t=gn(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?gn(e.stateNode.nextSibling):null;return!0}function af(){for(var e=ht;e;)e=gn(e.nextSibling)}function xr(){ht=pt=null,ke=!1}function Mo(e){Rt===null?Rt=[e]:Rt.push(e)}var l0=nn.ReactCurrentBatchConfig;function Br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function of(e){function t(h,d){if(e){var f=h.deletions;f===null?(h.deletions=[d],h.flags|=16):f.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function l(h,d){return h=wn(h,d),h.index=0,h.sibling=null,h}function i(h,d,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<d?(h.flags|=2,d):f):(h.flags|=2,d)):(h.flags|=1048576,d)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,d,f,x){return d===null||d.tag!==6?(d=Qi(f,h.mode,x),d.return=h,d):(d=l(d,f),d.return=h,d)}function c(h,d,f,x){var j=f.type;return j===Kn?p(h,d,f.props.children,x,f.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&su(j)===d.type)?(x=l(d,f.props),x.ref=Br(h,d,f),x.return=h,x):(x=ml(f.type,f.key,f.props,null,h.mode,x),x.ref=Br(h,d,f),x.return=h,x)}function u(h,d,f,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=Yi(f,h.mode,x),d.return=h,d):(d=l(d,f.children||[]),d.return=h,d)}function p(h,d,f,x,j){return d===null||d.tag!==7?(d=An(f,h.mode,x,j),d.return=h,d):(d=l(d,f),d.return=h,d)}function y(h,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Qi(""+d,h.mode,f),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Os:return f=ml(d.type,d.key,d.props,null,h.mode,f),f.ref=Br(h,null,d),f.return=h,f;case Xn:return d=Yi(d,h.mode,f),d.return=h,d;case ln:var x=d._init;return y(h,x(d._payload),f)}if(Vr(d)||Or(d))return d=An(d,h.mode,f,null),d.return=h,d;Gs(h,d)}return null}function g(h,d,f,x){var j=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return j!==null?null:o(h,d,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Os:return f.key===j?c(h,d,f,x):null;case Xn:return f.key===j?u(h,d,f,x):null;case ln:return j=f._init,g(h,d,j(f._payload),x)}if(Vr(f)||Or(f))return j!==null?null:p(h,d,f,x,null);Gs(h,f)}return null}function v(h,d,f,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(f)||null,o(d,h,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Os:return h=h.get(x.key===null?f:x.key)||null,c(d,h,x,j);case Xn:return h=h.get(x.key===null?f:x.key)||null,u(d,h,x,j);case ln:var C=x._init;return v(h,d,f,C(x._payload),j)}if(Vr(x)||Or(x))return h=h.get(f)||null,p(d,h,x,j,null);Gs(d,x)}return null}function N(h,d,f,x){for(var j=null,C=null,S=d,M=d=0,b=null;S!==null&&M<f.length;M++){S.index>M?(b=S,S=null):b=S.sibling;var E=g(h,S,f[M],x);if(E===null){S===null&&(S=b);break}e&&S&&E.alternate===null&&t(h,S),d=i(E,d,M),C===null?j=E:C.sibling=E,C=E,S=b}if(M===f.length)return n(h,S),ke&&Dn(h,M),j;if(S===null){for(;M<f.length;M++)S=y(h,f[M],x),S!==null&&(d=i(S,d,M),C===null?j=S:C.sibling=S,C=S);return ke&&Dn(h,M),j}for(S=r(h,S);M<f.length;M++)b=v(S,h,M,f[M],x),b!==null&&(e&&b.alternate!==null&&S.delete(b.key===null?M:b.key),d=i(b,d,M),C===null?j=b:C.sibling=b,C=b);return e&&S.forEach(function(z){return t(h,z)}),ke&&Dn(h,M),j}function w(h,d,f,x){var j=Or(f);if(typeof j!="function")throw Error(O(150));if(f=j.call(f),f==null)throw Error(O(151));for(var C=j=null,S=d,M=d=0,b=null,E=f.next();S!==null&&!E.done;M++,E=f.next()){S.index>M?(b=S,S=null):b=S.sibling;var z=g(h,S,E.value,x);if(z===null){S===null&&(S=b);break}e&&S&&z.alternate===null&&t(h,S),d=i(z,d,M),C===null?j=z:C.sibling=z,C=z,S=b}if(E.done)return n(h,S),ke&&Dn(h,M),j;if(S===null){for(;!E.done;M++,E=f.next())E=y(h,E.value,x),E!==null&&(d=i(E,d,M),C===null?j=E:C.sibling=E,C=E);return ke&&Dn(h,M),j}for(S=r(h,S);!E.done;M++,E=f.next())E=v(S,h,M,E.value,x),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?M:E.key),d=i(E,d,M),C===null?j=E:C.sibling=E,C=E);return e&&S.forEach(function(H){return t(h,H)}),ke&&Dn(h,M),j}function k(h,d,f,x){if(typeof f=="object"&&f!==null&&f.type===Kn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Os:e:{for(var j=f.key,C=d;C!==null;){if(C.key===j){if(j=f.type,j===Kn){if(C.tag===7){n(h,C.sibling),d=l(C,f.props.children),d.return=h,h=d;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&su(j)===C.type){n(h,C.sibling),d=l(C,f.props),d.ref=Br(h,C,f),d.return=h,h=d;break e}n(h,C);break}else t(h,C);C=C.sibling}f.type===Kn?(d=An(f.props.children,h.mode,x,f.key),d.return=h,h=d):(x=ml(f.type,f.key,f.props,null,h.mode,x),x.ref=Br(h,d,f),x.return=h,h=x)}return a(h);case Xn:e:{for(C=f.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(h,d.sibling),d=l(d,f.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Yi(f,h.mode,x),d.return=h,h=d}return a(h);case ln:return C=f._init,k(h,d,C(f._payload),x)}if(Vr(f))return N(h,d,f,x);if(Or(f))return w(h,d,f,x);Gs(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(h,d.sibling),d=l(d,f),d.return=h,h=d):(n(h,d),d=Qi(f,h.mode,x),d.return=h,h=d),a(h)):n(h,d)}return k}var vr=of(!0),cf=of(!1),Ml=Sn(null),Pl=null,lr=null,Po=null;function Io(){Po=lr=Pl=null}function Lo(e){var t=Ml.current;je(Ml),e._currentValue=t}function La(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mr(e,t){Pl=e,Po=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(Pl===null)throw Error(O(308));lr=e,Pl.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var In=null;function Ro(e){In===null?In=[e]:In.push(e)}function uf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ro(t)):(n.next=l.next,l.next=n),t.interleaved=n,en(e,r)}function en(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function df(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,en(e,n)}return l=r.interleaved,l===null?(t.next=t,Ro(r)):(t.next=l.next,l.next=t),r.interleaved=t,en(e,n)}function al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wo(e,n)}}function lu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Il(e,t,n,r){var l=e.updateQueue;an=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=c))}if(i!==null){var y=l.baseState;a=0,p=u=c=null,o=i;do{var g=o.lane,v=o.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,w=o;switch(g=t,v=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){y=N.call(v,y,g);break e}y=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,g=typeof N=="function"?N.call(v,y,g):N,g==null)break e;y=Me({},y,g);break e;case 2:an=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else v={eventTime:v,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(u=p=v,c=y):p=p.next=v,a|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(p===null&&(c=y),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Fn|=a,e.lanes=a,e.memoizedState=y}}function iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(O(191,l));l.call(r)}}}var Ms={},Ht=Sn(Ms),vs=Sn(Ms),ys=Sn(Ms);function Ln(e){if(e===Ms)throw Error(O(174));return e}function Oo(e,t){switch(ve(ys,t),ve(vs,e),ve(Ht,Ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}je(Ht),ve(Ht,t)}function yr(){je(Ht),je(vs),je(ys)}function ff(e){Ln(ys.current);var t=Ln(Ht.current),n=ma(t,e.type);t!==n&&(ve(vs,e),ve(Ht,n))}function _o(e){vs.current===e&&(je(Ht),je(vs))}var Ee=Sn(0);function Ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $i=[];function zo(){for(var e=0;e<$i.length;e++)$i[e]._workInProgressVersionPrimary=null;$i.length=0}var ol=nn.ReactCurrentDispatcher,Hi=nn.ReactCurrentBatchConfig,zn=0,De=null,Ue=null,He=null,Rl=!1,Zr=!1,ws=0,i0=0;function Ke(){throw Error(O(321))}function Fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function Uo(e,t,n,r,l,i){if(zn=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?u0:d0,e=n(r,l),Zr){i=0;do{if(Zr=!1,ws=0,25<=i)throw Error(O(301));i+=1,He=Ue=null,t.updateQueue=null,ol.current=f0,e=n(r,l)}while(Zr)}if(ol.current=Al,t=Ue!==null&&Ue.next!==null,zn=0,He=Ue=De=null,Rl=!1,t)throw Error(O(300));return e}function Bo(){var e=ws!==0;return ws=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?De.memoizedState=He=e:He=He.next=e,He}function Et(){if(Ue===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=He===null?De.memoizedState:He.next;if(t!==null)He=t,Ue=e;else{if(e===null)throw Error(O(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},He===null?De.memoizedState=He=e:He=He.next=e}return He}function Ns(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=Et(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ue,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,c=null,u=i;do{var p=u.lane;if((zn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var y={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=y,a=r):c=c.next=y,De.lanes|=p,Fn|=p}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,_t(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,De.lanes|=i,Fn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vi(e){var t=Et(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);_t(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function mf(){}function hf(e,t){var n=De,r=Et(),l=t(),i=!_t(r.memoizedState,l);if(i&&(r.memoizedState=l,it=!0),r=r.queue,$o(xf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,bs(9,gf.bind(null,n,r,l,t),void 0,null),We===null)throw Error(O(349));zn&30||pf(n,t,l)}return l}function pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gf(e,t,n,r){t.value=n,t.getSnapshot=r,vf(t)&&yf(e)}function xf(e,t,n){return n(function(){vf(t)&&yf(e)})}function vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function yf(e){var t=en(e,1);t!==null&&Ot(t,e,1,-1)}function au(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=c0.bind(null,De,e),[t.memoizedState,e]}function bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wf(){return Et().memoizedState}function cl(e,t,n,r){var l=Ut();De.flags|=e,l.memoizedState=bs(1|t,n,void 0,r===void 0?null:r)}function Kl(e,t,n,r){var l=Et();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var a=Ue.memoizedState;if(i=a.destroy,r!==null&&Fo(r,a.deps)){l.memoizedState=bs(t,n,i,r);return}}De.flags|=e,l.memoizedState=bs(1|t,n,i,r)}function ou(e,t){return cl(8390656,8,e,t)}function $o(e,t){return Kl(2048,8,e,t)}function Nf(e,t){return Kl(4,2,e,t)}function bf(e,t){return Kl(4,4,e,t)}function jf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4,4,jf.bind(null,t,e),n)}function Ho(){}function kf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ef(e,t,n){return zn&21?(_t(n,t)||(n=Pd(),De.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function a0(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Hi.transition;Hi.transition={};try{e(!1),t()}finally{fe=n,Hi.transition=r}}function Tf(){return Et().memoizedState}function o0(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Df(e))Mf(t,n);else if(n=uf(e,t,n,r),n!==null){var l=nt();Ot(n,e,r,l),Pf(n,t,r)}}function c0(e,t,n){var r=yn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Df(e))Mf(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,_t(o,a)){var c=t.interleaved;c===null?(l.next=l,Ro(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=uf(e,t,l,r),n!==null&&(l=nt(),Ot(n,e,r,l),Pf(n,t,r))}}function Df(e){var t=e.alternate;return e===De||t!==null&&t===De}function Mf(e,t){Zr=Rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wo(e,n)}}var Al={readContext:Ct,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},u0={readContext:Ct,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:ou,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,jf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=o0.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Ho,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=a0.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,l=Ut();if(ke){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),We===null)throw Error(O(349));zn&30||pf(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,ou(xf.bind(null,r,i,e),[e]),r.flags|=2048,bs(9,gf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ut(),t=We.identifierPrefix;if(ke){var n=Xt,r=Yt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d0={readContext:Ct,useCallback:kf,useContext:Ct,useEffect:$o,useImperativeHandle:Sf,useInsertionEffect:Nf,useLayoutEffect:bf,useMemo:Cf,useReducer:Wi,useRef:wf,useState:function(){return Wi(Ns)},useDebugValue:Ho,useDeferredValue:function(e){var t=Et();return Ef(t,Ue.memoizedState,e)},useTransition:function(){var e=Wi(Ns)[0],t=Et().memoizedState;return[e,t]},useMutableSource:mf,useSyncExternalStore:hf,useId:Tf,unstable_isNewReconciler:!1},f0={readContext:Ct,useCallback:kf,useContext:Ct,useEffect:$o,useImperativeHandle:Sf,useInsertionEffect:Nf,useLayoutEffect:bf,useMemo:Cf,useReducer:Vi,useRef:wf,useState:function(){return Vi(Ns)},useDebugValue:Ho,useDeferredValue:function(e){var t=Et();return Ue===null?t.memoizedState=e:Ef(t,Ue.memoizedState,e)},useTransition:function(){var e=Vi(Ns)[0],t=Et().memoizedState;return[e,t]},useMutableSource:mf,useSyncExternalStore:hf,useId:Tf,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ra(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ql={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),l=yn(e),i=Kt(r,l);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,l),t!==null&&(Ot(t,e,l,r),al(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),l=yn(e),i=Kt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,l),t!==null&&(Ot(t,e,l,r),al(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=yn(e),l=Kt(n,r);l.tag=2,t!=null&&(l.callback=t),t=xn(e,l,r),t!==null&&(Ot(t,e,r,n),al(t,e,r))}};function cu(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!hs(n,r)||!hs(l,i):!0}function If(e,t,n){var r=!1,l=bn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(l=ot(t)?On:et.current,r=t.contextTypes,i=(r=r!=null)?gr(e,l):bn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ql,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function uu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ql.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ao(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ct(i):(i=ot(t)?On:et.current,l.context=gr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ra(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ql.enqueueReplaceState(l,l.state,null),Il(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=Uh(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ji(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function Lf(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_l||(_l=!0,Ja=r),Oa(e,t)},n}function Rf(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Oa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Oa(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function du(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m0;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=E0.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var h0=nn.ReactCurrentOwner,it=!1;function tt(e,t,n,r){t.child=e===null?cf(t,null,n,r):vr(t,e.child,n,r)}function hu(e,t,n,r,l){n=n.render;var i=t.ref;return mr(t,l),r=Uo(e,t,n,r,i,l),n=Bo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,tn(e,t,l)):(ke&&n&&To(t),t.flags|=1,tt(e,t,r,l),t.child)}function pu(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Ko(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Af(e,t,i,r,l)):(e=ml(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(a,r)&&e.ref===t.ref)return tn(e,t,l)}return t.flags|=1,e=wn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(hs(i,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,tn(e,t,l)}return _a(e,t,n,r,l)}function Of(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ar,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(ar,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ve(ar,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ve(ar,mt),mt|=r;return tt(e,t,l,n),t.child}function _f(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,l){var i=ot(n)?On:et.current;return i=gr(t,i),mr(t,l),n=Uo(e,t,n,r,i,l),r=Bo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,tn(e,t,l)):(ke&&r&&To(t),t.flags|=1,tt(e,t,n,l),t.child)}function gu(e,t,n,r,l){if(ot(n)){var i=!0;El(t)}else i=!1;if(mr(t,l),t.stateNode===null)ul(e,t),If(t,n,r),Aa(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=ot(n)?On:et.current,u=gr(t,u));var p=n.getDerivedStateFromProps,y=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&uu(t,a,r,u),an=!1;var g=t.memoizedState;a.state=g,Il(t,r,a,l),c=t.memoizedState,o!==r||g!==c||at.current||an?(typeof p=="function"&&(Ra(t,n,p,r),c=t.memoizedState),(o=an||cu(t,n,o,r,g,c,u))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,df(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:It(t.type,o),a.props=u,y=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=ot(n)?On:et.current,c=gr(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==y||g!==c)&&uu(t,a,r,c),an=!1,g=t.memoizedState,a.state=g,Il(t,r,a,l);var N=t.memoizedState;o!==y||g!==N||at.current||an?(typeof v=="function"&&(Ra(t,n,v,r),N=t.memoizedState),(u=an||cu(t,n,u,r,g,N,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),a.props=r,a.state=N,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return za(e,t,n,r,i,l)}function za(e,t,n,r,l,i){_f(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&tu(t,n,!1),tn(e,t,i);r=t.stateNode,h0.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,o,i)):tt(e,t,o,i),t.memoizedState=r.state,l&&tu(t,n,!0),t.child}function zf(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Oo(e,t.containerInfo)}function xu(e,t,n,r,l){return xr(),Mo(l),t.flags|=256,tt(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ff(e,t,n){var r=t.pendingProps,l=Ee.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ve(Ee,l&1),e===null)return Ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ti(a,r,0,null),e=An(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ua(n),t.memoizedState=Fa,e):Wo(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return p0(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=wn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=wn(o,i):(i=An(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ua(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Fa,r}return i=e.child,e=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wo(e,t){return t=ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,n,r){return r!==null&&Mo(r),vr(t,e.child,null,n),e=Wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p0(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ji(Error(O(422))),Qs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=ti({mode:"visible",children:r.children},l,0,null),i=An(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Fa,i);if(!(t.mode&1))return Qs(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(O(419)),r=Ji(i,r,void 0),Qs(e,t,a,r)}if(o=(a&e.childLanes)!==0,it||o){if(r=We,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,en(e,l),Ot(r,e,l,-1))}return Xo(),r=Ji(Error(O(421))),Qs(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=T0.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,ht=gn(l.nextSibling),pt=t,ke=!0,Rt=null,e!==null&&(bt[jt++]=Yt,bt[jt++]=Xt,bt[jt++]=_n,Yt=e.id,Xt=e.overflow,_n=t),t=Wo(t,r.children),t.flags|=4096,t)}function vu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),La(e.return,t,n)}function Gi(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Uf(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,n,t);else if(e.tag===19)vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ll(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Gi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ll(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Gi(t,!0,n,null,i);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g0(e,t,n){switch(t.tag){case 3:zf(t),xr();break;case 5:ff(t);break;case 1:ot(t.type)&&El(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ve(Ml,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?Ff(e,t,n):(ve(Ee,Ee.current&1),e=tn(e,t,n),e!==null?e.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ve(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Of(e,t,n)}return tn(e,t,n)}var Bf,Ba,$f,Hf;Bf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ba=function(){};$f=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Ln(Ht.current);var i=null;switch(n){case"input":l=ca(e,l),r=ca(e,r),i=[];break;case"select":l=Me({},l,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":l=fa(e,l),r=fa(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kl)}ha(n,r);var a;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&be("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hf=function(e,t,n,r){n!==r&&(t.flags|=4)};function $r(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x0(e,t,n){var r=t.pendingProps;switch(Do(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ot(t.type)&&Cl(),qe(t),null;case 3:return r=t.stateNode,yr(),je(at),je(et),zo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(Ya(Rt),Rt=null))),Ba(e,t),qe(t),null;case 5:_o(t);var l=Ln(ys.current);if(n=t.type,e!==null&&t.stateNode!=null)$f(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return qe(t),null}if(e=Ln(Ht.current),Js(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Bt]=t,r[xs]=i,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(l=0;l<Gr.length;l++)be(Gr[l],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Ec(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":Dc(r,i),be("invalid",r)}ha(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,o,e),l=["children",""+o]):as.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&be("scroll",r)}switch(n){case"input":_s(r),Tc(r,i,!0);break;case"textarea":_s(r),Mc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Bt]=t,e[xs]=r,Bf(e,t,!1,!1),t.stateNode=e;e:{switch(a=pa(n,r),n){case"dialog":be("cancel",e),be("close",e),l=r;break;case"iframe":case"object":case"embed":be("load",e),l=r;break;case"video":case"audio":for(l=0;l<Gr.length;l++)be(Gr[l],e);l=r;break;case"source":be("error",e),l=r;break;case"img":case"image":case"link":be("error",e),be("load",e),l=r;break;case"details":be("toggle",e),l=r;break;case"input":Ec(e,r),l=ca(e,r),be("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Me({},r,{value:void 0}),be("invalid",e);break;case"textarea":Dc(e,r),l=fa(e,r),be("invalid",e);break;default:l=r}ha(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?yd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&os(e,c):typeof c=="number"&&os(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",e):c!=null&&ho(e,i,c,a))}switch(n){case"input":_s(e),Tc(e,r,!1);break;case"textarea":_s(e),Mc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?cr(e,!!r.multiple,i,!1):r.defaultValue!=null&&cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Hf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=Ln(ys.current),Ln(Ht.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bt]=t,(i=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=t,t.stateNode=r}return qe(t),null;case 13:if(je(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ht!==null&&t.mode&1&&!(t.flags&128))af(),xr(),t.flags|=98560,i=!1;else if(i=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Bt]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Rt!==null&&(Ya(Rt),Rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Be===0&&(Be=3):Xo())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return yr(),Ba(e,t),e===null&&ps(t.stateNode.containerInfo),qe(t),null;case 10:return Lo(t.type._context),qe(t),null;case 17:return ot(t.type)&&Cl(),qe(t),null;case 19:if(je(Ee),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)$r(i,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ll(e),a!==null){for(t.flags|=128,$r(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>Nr&&(t.flags|=128,r=!0,$r(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ll(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ke)return qe(t),null}else 2*Ae()-i.renderingStartTime>Nr&&n!==1073741824&&(t.flags|=128,r=!0,$r(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,n=Ee.current,ve(Ee,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Yo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function v0(e,t){switch(Do(t),t.tag){case 1:return ot(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),je(at),je(et),zo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _o(t),null;case 13:if(je(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ee),null;case 4:return yr(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return Yo(),null;case 24:return null;default:return null}}var Ys=!1,Ze=!1,y0=typeof WeakSet=="function"?WeakSet:Set,W=null;function ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function $a(e,t,n){try{n()}catch(r){Le(e,t,r)}}var yu=!1;function w0(e,t){if(ka=bl,e=Gd(),Eo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,p=0,y=e,g=null;t:for(;;){for(var v;y!==n||l!==0&&y.nodeType!==3||(o=a+l),y!==i||r!==0&&y.nodeType!==3||(c=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(v=y.firstChild)!==null;)g=y,y=v;for(;;){if(y===e)break t;if(g===n&&++u===l&&(o=a),g===i&&++p===r&&(c=a),(v=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ca={focusedElem:e,selectionRange:n},bl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,k=N.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:It(t.type,w),k);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(x){Le(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return N=yu,yu=!1,N}function es(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&$a(t,n,i)}l=l.next}while(l!==r)}}function Zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ha(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[xs],delete t[Da],delete t[n0],delete t[r0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vf(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kl));else if(r!==4&&(e=e.child,e!==null))for(Wa(e,t,n),e=e.sibling;e!==null;)Wa(e,t,n),e=e.sibling}function Va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}var Ge=null,Lt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Jf(e,t,n),n=n.sibling}function Jf(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:Ze||ir(n,t);case 6:var r=Ge,l=Lt;Ge=null,rn(e,t,n),Ge=r,Lt=l,Ge!==null&&(Lt?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Lt?(e=Ge,n=n.stateNode,e.nodeType===8?Ui(e.parentNode,n):e.nodeType===1&&Ui(e,n),fs(e)):Ui(Ge,n.stateNode));break;case 4:r=Ge,l=Lt,Ge=n.stateNode.containerInfo,Lt=!0,rn(e,t,n),Ge=r,Lt=l;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&$a(n,t,a),l=l.next}while(l!==r)}rn(e,t,n);break;case 1:if(!Ze&&(ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Le(n,t,o)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,rn(e,t,n),Ze=r):rn(e,t,n);break;default:rn(e,t,n)}}function Nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y0),t.forEach(function(r){var l=D0.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ge=o.stateNode,Lt=!1;break e;case 3:Ge=o.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(Ge===null)throw Error(O(160));Jf(i,a,l),Ge=null,Lt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Le(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gf(t,e),t=t.sibling}function Gf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),zt(e),r&4){try{es(3,e,e.return),Zl(3,e)}catch(w){Le(e,e.return,w)}try{es(5,e,e.return)}catch(w){Le(e,e.return,w)}}break;case 1:Mt(t,e),zt(e),r&512&&n!==null&&ir(n,n.return);break;case 5:if(Mt(t,e),zt(e),r&512&&n!==null&&ir(n,n.return),e.flags&32){var l=e.stateNode;try{os(l,"")}catch(w){Le(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&hd(l,i),pa(o,a);var u=pa(o,i);for(a=0;a<c.length;a+=2){var p=c[a],y=c[a+1];p==="style"?yd(l,y):p==="dangerouslySetInnerHTML"?xd(l,y):p==="children"?os(l,y):ho(l,p,y,u)}switch(o){case"input":ua(l,i);break;case"textarea":pd(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?cr(l,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?cr(l,!!i.multiple,i.defaultValue,!0):cr(l,!!i.multiple,i.multiple?[]:"",!1))}l[xs]=i}catch(w){Le(e,e.return,w)}}break;case 6:if(Mt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(O(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){Le(e,e.return,w)}}break;case 3:if(Mt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(w){Le(e,e.return,w)}break;case 4:Mt(t,e),zt(e);break;case 13:Mt(t,e),zt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Go=Ae())),r&4&&Nu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||p,Mt(t,e),Ze=u):Mt(t,e),zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(W=e,p=e.child;p!==null;){for(y=W=p;W!==null;){switch(g=W,v=g.child,g.tag){case 0:case 11:case 14:case 15:es(4,g,g.return);break;case 1:ir(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){Le(r,n,w)}}break;case 5:ir(g,g.return);break;case 22:if(g.memoizedState!==null){ju(y);continue}}v!==null?(v.return=g,W=v):ju(y)}p=p.sibling}e:for(p=null,y=e;;){if(y.tag===5){if(p===null){p=y;try{l=y.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=y.stateNode,c=y.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=vd("display",a))}catch(w){Le(e,e.return,w)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(w){Le(e,e.return,w)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Mt(t,e),zt(e),r&4&&Nu(e);break;case 21:break;default:Mt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vf(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(os(l,""),r.flags&=-33);var i=wu(e);Va(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=wu(e);Wa(e,o,a);break;default:throw Error(O(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0(e,t,n){W=e,Qf(e)}function Qf(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var l=W,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Ys;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Ze;o=Ys;var u=Ze;if(Ys=a,(Ze=c)&&!u)for(W=l;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?Su(l):c!==null?(c.return=a,W=c):Su(l);for(;i!==null;)W=i,Qf(i),i=i.sibling;W=l,Ys=o,Ze=u}bu(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,W=i):bu(e)}}function bu(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iu(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&fs(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ze||t.flags&512&&Ha(t)}catch(g){Le(t,t.return,g)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ju(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Su(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zl(4,t)}catch(c){Le(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Le(t,l,c)}}var i=t.return;try{Ha(t)}catch(c){Le(t,i,c)}break;case 5:var a=t.return;try{Ha(t)}catch(c){Le(t,a,c)}}}catch(c){Le(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var b0=Math.ceil,Ol=nn.ReactCurrentDispatcher,Vo=nn.ReactCurrentOwner,kt=nn.ReactCurrentBatchConfig,ae=0,We=null,Fe=null,Qe=0,mt=0,ar=Sn(0),Be=0,js=null,Fn=0,ei=0,Jo=0,ts=null,lt=null,Go=0,Nr=1/0,Gt=null,_l=!1,Ja=null,vn=null,Xs=!1,dn=null,zl=0,ns=0,Ga=null,dl=-1,fl=0;function nt(){return ae&6?Ae():dl!==-1?dl:dl=Ae()}function yn(e){return e.mode&1?ae&2&&Qe!==0?Qe&-Qe:l0.transition!==null?(fl===0&&(fl=Pd()),fl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:zd(e.type)),e):1}function Ot(e,t,n,r){if(50<ns)throw ns=0,Ga=null,Error(O(185));Es(e,n,r),(!(ae&2)||e!==We)&&(e===We&&(!(ae&2)&&(ei|=n),Be===4&&cn(e,Qe)),ct(e,r),n===1&&ae===0&&!(t.mode&1)&&(Nr=Ae()+500,Xl&&kn()))}function ct(e,t){var n=e.callbackNode;lp(e,t);var r=Nl(e,e===We?Qe:0);if(r===0)n!==null&&Lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lc(n),t===1)e.tag===0?s0(ku.bind(null,e)):rf(ku.bind(null,e)),e0(function(){!(ae&6)&&kn()}),n=null;else{switch(Id(r)){case 1:n=yo;break;case 4:n=Dd;break;case 16:n=wl;break;case 536870912:n=Md;break;default:n=wl}n=nm(n,Yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yf(e,t){if(dl=-1,fl=0,ae&6)throw Error(O(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var r=Nl(e,e===We?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fl(e,r);else{t=r;var l=ae;ae|=2;var i=Kf();(We!==e||Qe!==t)&&(Gt=null,Nr=Ae()+500,Rn(e,t));do try{k0();break}catch(o){Xf(e,o)}while(!0);Io(),Ol.current=i,ae=l,Fe!==null?t=0:(We=null,Qe=0,t=Be)}if(t!==0){if(t===2&&(l=wa(e),l!==0&&(r=l,t=Qa(e,l))),t===1)throw n=js,Rn(e,0),cn(e,r),ct(e,Ae()),n;if(t===6)cn(e,r);else{if(l=e.current.alternate,!(r&30)&&!j0(l)&&(t=Fl(e,r),t===2&&(i=wa(e),i!==0&&(r=i,t=Qa(e,i))),t===1))throw n=js,Rn(e,0),cn(e,r),ct(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Mn(e,lt,Gt);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Go+500-Ae(),10<t)){if(Nl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ta(Mn.bind(null,e,lt,Gt),t);break}Mn(e,lt,Gt);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-At(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b0(r/1960))-r,10<r){e.timeoutHandle=Ta(Mn.bind(null,e,lt,Gt),r);break}Mn(e,lt,Gt);break;case 5:Mn(e,lt,Gt);break;default:throw Error(O(329))}}}return ct(e,Ae()),e.callbackNode===n?Yf.bind(null,e):null}function Qa(e,t){var n=ts;return e.current.memoizedState.isDehydrated&&(Rn(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=lt,lt=n,t!==null&&Ya(t)),e}function Ya(e){lt===null?lt=e:lt.push.apply(lt,e)}function j0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!_t(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Jo,t&=~ei,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(ae&6)throw Error(O(327));hr();var t=Nl(e,0);if(!(t&1))return ct(e,Ae()),null;var n=Fl(e,t);if(e.tag!==0&&n===2){var r=wa(e);r!==0&&(t=r,n=Qa(e,r))}if(n===1)throw n=js,Rn(e,0),cn(e,t),ct(e,Ae()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,lt,Gt),ct(e,Ae()),null}function Qo(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Nr=Ae()+500,Xl&&kn())}}function Un(e){dn!==null&&dn.tag===0&&!(ae&6)&&hr();var t=ae;ae|=1;var n=kt.transition,r=fe;try{if(kt.transition=null,fe=1,e)return e()}finally{fe=r,kt.transition=n,ae=t,!(ae&6)&&kn()}}function Yo(){mt=ar.current,je(ar)}function Rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zp(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Do(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:yr(),je(at),je(et),zo();break;case 5:_o(r);break;case 4:yr();break;case 13:je(Ee);break;case 19:je(Ee);break;case 10:Lo(r.type._context);break;case 22:case 23:Yo()}n=n.return}if(We=e,Fe=e=wn(e.current,null),Qe=mt=t,Be=0,js=null,Jo=ei=Fn=0,lt=ts=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}In=null}return e}function Xf(e,t){do{var n=Fe;try{if(Io(),ol.current=Al,Rl){for(var r=De.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Rl=!1}if(zn=0,He=Ue=De=null,Zr=!1,ws=0,Vo.current=null,n===null||n.return===null){Be=1,js=t,Fe=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=Qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=o,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=fu(a);if(v!==null){v.flags&=-257,mu(v,a,o,i,t),v.mode&1&&du(i,u,t),t=v,c=u;var N=t.updateQueue;if(N===null){var w=new Set;w.add(c),t.updateQueue=w}else N.add(c);break e}else{if(!(t&1)){du(i,u,t),Xo();break e}c=Error(O(426))}}else if(ke&&o.mode&1){var k=fu(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),mu(k,a,o,i,t),Mo(wr(c,o));break e}}i=c=wr(c,o),Be!==4&&(Be=2),ts===null?ts=[i]:ts.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Lf(i,c,t);lu(i,h);break e;case 1:o=c;var d=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vn===null||!vn.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Rf(i,o,t);lu(i,x);break e}}i=i.return}while(i!==null)}Zf(n)}catch(j){t=j,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Kf(){var e=Ol.current;return Ol.current=Al,e===null?Al:e}function Xo(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(Fn&268435455)&&!(ei&268435455)||cn(We,Qe)}function Fl(e,t){var n=ae;ae|=2;var r=Kf();(We!==e||Qe!==t)&&(Gt=null,Rn(e,t));do try{S0();break}catch(l){Xf(e,l)}while(!0);if(Io(),ae=n,Ol.current=r,Fe!==null)throw Error(O(261));return We=null,Qe=0,Be}function S0(){for(;Fe!==null;)qf(Fe)}function k0(){for(;Fe!==null&&!Xh();)qf(Fe)}function qf(e){var t=tm(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Zf(e):Fe=t,Vo.current=null}function Zf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v0(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Fe=null;return}}else if(n=x0(n,t,mt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Be===0&&(Be=5)}function Mn(e,t,n){var r=fe,l=kt.transition;try{kt.transition=null,fe=1,C0(e,t,n,r)}finally{kt.transition=l,fe=r}return null}function C0(e,t,n,r){do hr();while(dn!==null);if(ae&6)throw Error(O(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ip(e,i),e===We&&(Fe=We=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xs||(Xs=!0,nm(wl,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var a=fe;fe=1;var o=ae;ae|=4,Vo.current=null,w0(e,n),Gf(n,e),Jp(Ca),bl=!!ka,Ca=ka=null,e.current=n,N0(n),Kh(),ae=o,fe=a,kt.transition=i}else e.current=n;if(Xs&&(Xs=!1,dn=e,zl=l),i=e.pendingLanes,i===0&&(vn=null),ep(n.stateNode),ct(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(_l)throw _l=!1,e=Ja,Ja=null,e;return zl&1&&e.tag!==0&&hr(),i=e.pendingLanes,i&1?e===Ga?ns++:(ns=0,Ga=e):ns=0,kn(),null}function hr(){if(dn!==null){var e=Id(zl),t=kt.transition,n=fe;try{if(kt.transition=null,fe=16>e?16:e,dn===null)var r=!1;else{if(e=dn,dn=null,zl=0,ae&6)throw Error(O(331));var l=ae;for(ae|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(W=u;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:es(8,p,i)}var y=p.child;if(y!==null)y.return=p,W=y;else for(;W!==null;){p=W;var g=p.sibling,v=p.return;if(Wf(p),p===u){W=null;break}if(g!==null){g.return=v,W=g;break}W=v}}}var N=i.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:es(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,W=h;break e}W=i.return}}var d=e.current;for(W=d;W!==null;){a=W;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,W=f;else e:for(a=d;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zl(9,o)}}catch(j){Le(o,o.return,j)}if(o===a){W=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,W=x;break e}W=o.return}}if(ae=l,kn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Vl,e)}catch{}r=!0}return r}finally{fe=n,kt.transition=t}}return!1}function Cu(e,t,n){t=wr(n,t),t=Lf(e,t,1),e=xn(e,t,1),t=nt(),e!==null&&(Es(e,1,t),ct(e,t))}function Le(e,t,n){if(e.tag===3)Cu(e,e,n);else for(;t!==null;){if(t.tag===3){Cu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=wr(n,e),e=Rf(t,e,1),t=xn(t,e,1),e=nt(),t!==null&&(Es(t,1,e),ct(t,e));break}}t=t.return}}function E0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Qe&n)===n&&(Be===4||Be===3&&(Qe&130023424)===Qe&&500>Ae()-Go?Rn(e,0):Jo|=n),ct(e,t)}function em(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var n=nt();e=en(e,t),e!==null&&(Es(e,t,n),ct(e,n))}function T0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),em(e,n)}function D0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),em(e,n)}var tm;tm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,g0(e,t,n);it=!!(e.flags&131072)}else it=!1,ke&&t.flags&1048576&&sf(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ul(e,t),e=t.pendingProps;var l=gr(t,et.current);mr(t,n),l=Uo(null,t,r,e,l,n);var i=Bo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(i=!0,El(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ao(t),l.updater=ql,t.stateNode=l,l._reactInternals=t,Aa(t,r,e,n),t=za(null,t,r,!0,i,n)):(t.tag=0,ke&&i&&To(t),tt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=P0(r),e=It(r,e),l){case 0:t=_a(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=pu(null,t,r,It(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),_a(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),gu(e,t,r,l,n);case 3:e:{if(zf(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,l=i.element,df(e,t),Il(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=wr(Error(O(423)),t),t=xu(e,t,r,n,l);break e}else if(r!==l){l=wr(Error(O(424)),t),t=xu(e,t,r,n,l);break e}else for(ht=gn(t.stateNode.containerInfo.firstChild),pt=t,ke=!0,Rt=null,n=cf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===l){t=tn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return ff(t),e===null&&Ia(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Ea(r,l)?a=null:i!==null&&Ea(r,i)&&(t.flags|=32),_f(e,t),tt(e,t,a,n),t.child;case 6:return e===null&&Ia(t),null;case 13:return Ff(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),hu(e,t,r,l,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,ve(Ml,r._currentValue),r._currentValue=a,i!==null)if(_t(i.value,a)){if(i.children===l.children&&!at.current){t=tn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Kt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),La(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),La(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}tt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,mr(t,n),l=Ct(l),r=r(l),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,l=It(r,t.pendingProps),l=It(r.type,l),pu(e,t,r,l,n);case 15:return Af(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),ul(e,t),t.tag=1,ot(r)?(e=!0,El(t)):e=!1,mr(t,n),If(t,r,l),Aa(t,r,l,n),za(null,t,r,!0,e,n);case 19:return Uf(e,t,n);case 22:return Of(e,t,n)}throw Error(O(156,t.tag))};function nm(e,t){return Td(e,t)}function M0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new M0(e,t,n,r)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P0(e){if(typeof e=="function")return Ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===go)return 11;if(e===xo)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")Ko(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kn:return An(n.children,l,i,t);case po:a=8,l|=8;break;case la:return e=St(12,n,t,l|2),e.elementType=la,e.lanes=i,e;case ia:return e=St(13,n,t,l),e.elementType=ia,e.lanes=i,e;case aa:return e=St(19,n,t,l),e.elementType=aa,e.lanes=i,e;case dd:return ti(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cd:a=10;break e;case ud:a=9;break e;case go:a=11;break e;case xo:a=14;break e;case ln:a=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=St(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function An(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function ti(e,t,n,r){return e=St(22,e,r,t),e.elementType=dd,e.lanes=n,e.stateNode={isHidden:!1},e}function Qi(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Yi(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function qo(e,t,n,r,l,i,a,o,c){return e=new I0(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(i),e}function L0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rm(e){if(!e)return bn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(ot(n))return nf(e,n,t)}return t}function sm(e,t,n,r,l,i,a,o,c){return e=qo(n,r,!0,e,l,i,a,o,c),e.context=rm(null),n=e.current,r=nt(),l=yn(n),i=Kt(r,l),i.callback=t??null,xn(n,i,l),e.current.lanes=l,Es(e,l,r),ct(e,r),e}function ni(e,t,n,r){var l=t.current,i=nt(),a=yn(l);return n=rm(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(l,t,a),e!==null&&(Ot(e,l,a,i),al(e,l,a)),a}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zo(e,t){Eu(e,t),(e=e.alternate)&&Eu(e,t)}function R0(){return null}var lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}ri.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ni(e,t,null,null)};ri.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){ni(null,e,null,null)}),t[Zt]=null}};function ri(e){this._internalRoot=e}ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&_d(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function A0(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var u=Ul(a);i.call(u)}}var a=sm(t,r,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=a,e[Zt]=a.current,ps(e.nodeType===8?e.parentNode:e),Un(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=Ul(c);o.call(u)}}var c=qo(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=c,e[Zt]=c.current,ps(e.nodeType===8?e.parentNode:e),Un(function(){ni(t,c,n,r)}),c}function li(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=Ul(a);o.call(c)}}ni(t,a,e,l)}else a=A0(n,t,e,l,r);return Ul(a)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(wo(t,n|1),ct(t,Ae()),!(ae&6)&&(Nr=Ae()+500,kn()))}break;case 13:Un(function(){var r=en(e,1);if(r!==null){var l=nt();Ot(r,e,1,l)}}),Zo(e,1)}};No=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var n=nt();Ot(t,e,134217728,n)}Zo(e,134217728)}};Rd=function(e){if(e.tag===13){var t=yn(e),n=en(e,t);if(n!==null){var r=nt();Ot(n,e,t,r)}Zo(e,t)}};Ad=function(){return fe};Od=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};xa=function(e,t,n){switch(t){case"input":if(ua(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Yl(r);if(!l)throw Error(O(90));md(r),ua(r,l)}}}break;case"textarea":pd(e,n);break;case"select":t=n.value,t!=null&&cr(e,!!n.multiple,t,!1)}};bd=Qo;jd=Un;var O0={usingClientEntryPoint:!1,Events:[Ds,tr,Yl,wd,Nd,Qo]},Hr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_0={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cd(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||R0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Vl=Ks.inject(_0),$t=Ks}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(t))throw Error(O(200));return L0(e,t,null,n)};xt.createRoot=function(e,t){if(!tc(e))throw Error(O(299));var n=!1,r="",l=lm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=qo(e,1,!1,null,null,n,!1,r,l),e[Zt]=t.current,ps(e.nodeType===8?e.parentNode:e),new ec(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Cd(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Un(e)};xt.hydrate=function(e,t,n){if(!si(t))throw Error(O(200));return li(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!tc(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=lm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=sm(t,null,e,1,n??null,l,!1,i,a),e[Zt]=t.current,ps(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ri(t)};xt.render=function(e,t,n){if(!si(t))throw Error(O(200));return li(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!si(e))throw Error(O(40));return e._reactRootContainer?(Un(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};xt.unstable_batchedUpdates=Qo;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!si(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return li(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),ld.exports=xt;var am=ld.exports,Du=am;ra.createRoot=Du.createRoot,ra.hydrateRoot=Du.hydrateRoot;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),om=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:i,iconNode:a,...o},c)=>m.createElement("svg",{ref:c,...F0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:om("lucide",l),...o},[...a.map(([u,p])=>m.createElement(u,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=m.forwardRef(({className:r,...l},i)=>m.createElement(U0,{ref:i,iconNode:t,className:om(`lucide-${z0(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Re("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Re("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),cm=e=>`ndn_online_quota_${e}`;function pl(e=new Date){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const r=new Date(Date.UTC(t.getUTCFullYear(),0,1)),l=Math.ceil(((t.getTime()-r.getTime())/864e5+1)/7),i=String(l).padStart(2,"0");return`${t.getUTCFullYear()}-${i}`}function um(e){try{const t=localStorage.getItem(cm(e));if(!t)return{week:pl(),used:0};const n=JSON.parse(t),r=pl();return!n.week||n.week!==r?{week:r,used:0}:{week:String(n.week),used:Number(n.used)||0}}catch{return{week:pl(),used:0}}}function rg(e,t){try{localStorage.setItem(cm(e),JSON.stringify(t))}catch{}}function Iu(e,t=3){const n=pl(),r=um(e),l={week:n,used:(r.week===n?r.used:0)+1};return rg(e,l),l}function dm(e,t=3){const n=um(e);return Math.max(0,t-(n.used||0))}function sg(e){const t=[{key:"score",label:"Home",icon:X0},{key:"online",label:"Online",icon:Ka},{key:"offline",label:"Offline",icon:hl},{key:"tournaments",label:"Tournaments",icon:hl},{key:"friends",label:"Friends",icon:Ka},{key:"stats",label:"Stats",icon:hl},{key:"calibrate",label:"Calibrate",icon:$0},{key:"settings",label:"Settings",icon:Pu}];try{String((e==null?void 0:e.email)||"").toLowerCase()==="daviesfamily108@gmail.com"&&t.push({key:"admin",label:"Admin",icon:Pu})}catch{}return e!=null&&e.fullAccess||t.push({key:"fullaccess",label:"PREMIUM $",icon:q0}),t}function fm({active:e,onChange:t,user:n}){const r=sg(n),[l,i]=m.useState(!1),a=n!=null&&n.username&&!(n!=null&&n.fullAccess)?dm(n.username):1/0;return m.useEffect(()=>{if(!l)return;const o=c=>{(c.key==="Escape"||c.key==="Enter")&&i(!1)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[l]),s.jsxs("aside",{className:`${n!=null&&n.fullAccess?"premium-sidebar":""} sidebar glass w-60 p-2 sm:p-4 rounded-2xl hidden sm:flex sm:flex-col gap-2 overflow-y-auto overflow-x-hidden fixed top-2 bottom-2 sm:top-4 sm:bottom-4`,children:[r.map(({key:o,label:c,icon:u})=>s.jsxs("button",{className:`tab whitespace-nowrap flex items-center justify-start gap-3 ${e===o?"tab--active":"tab--inactive"} `,onClick:()=>t(o),title:c,style:{fontWeight:700,fontSize:"1.1rem",color:e===o?"#fff":"#E5E7EB",letterSpacing:"0.02em"},children:[s.jsx(u,{className:"w-6 h-6"}),s.jsxs("span",{className:"flex items-center gap-2",children:[c,o==="online"&&!(n!=null&&n.fullAccess)&&a<=0&&s.jsxs("span",{title:"Weekly free games used",className:"inline-flex items-center gap-1 text-[0.65rem] px-2 py-0.5 rounded-full bg-rose-600 text-white",children:[s.jsx(K0,{className:"w-3 h-3"}),"Locked"]})]})]},o)),s.jsxs("button",{className:"tab tab--compact whitespace-nowrap flex items-center justify-start gap-3 bg-[#5865F2] text-white mt-2",onClick:()=>i(!0),title:"BullseyeDartsLeague",style:{fontWeight:700,fontSize:"1.1rem",letterSpacing:"0.02em"},children:[s.jsx(Xa,{className:"w-6 h-6"}),s.jsx("span",{className:"truncate",children:"BullseyeDartsLeague"})]}),l&&am.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>i(!1),onTouchStart:()=>i(!1)}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsxs("div",{role:"dialog","aria-modal":"true",className:"card max-w-md w-full relative text-left p-6 rounded-xl",children:[s.jsx("button",{className:"absolute -top-3 -right-3 btn px-3 py-1","aria-label":"Close",onClick:()=>i(!1),children:""}),s.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2 text-[#8ea1e1]",children:[s.jsx(Xa,{className:"w-6 h-6"})," BullseyeDartsLeague"]}),s.jsx("div",{className:"mb-4 text-lg font-semibold",children:"Join this fantastic Online Darts League with divisions and other cool stuff included"}),s.jsx("a",{href:"https://discord.gg/8GtbZ6RU",target:"_blank",rel:"noopener noreferrer",className:"btn bg-[#5865F2] text-white w-full font-bold text-lg",children:"Join Discord"})]})})]}),document.body)]})}function qs(e){try{window.dispatchEvent(new CustomEvent("ndn:change-tab",{detail:{tab:e}}))}catch{}}function lg({user:e}){const[t,n]=m.useState(!1),[r,l]=m.useState(!1),[i,a]=m.useState("");return m.useEffect(()=>{const o=["The fastest televised 9-darter took roughly 25 seconds!","A perfect leg (501) can be finished in nine darts.","The inner bull is worth 50; the outer bull is 25.","Standard dartboards are made from compressed sisal fibers.","Doubles and trebles are the thin outer and middle rings.","Professional oche (throw line) distance is 7 ft 9 in (2.37 m).","Dartitis is a real condition affecting a players throwing motion.","Phil Taylor holds a record number of World Championship titles.","Checkout routes often end on a doubleclassic double-out.","The highest 3-dart score is 180 (triple 20, triple 20, triple 20)."],c=Math.floor(Math.random()*o.length);a(o[c])},[]),s.jsxs("div",{className:`${e!=null&&e.fullAccess?"premium-main":""} relative min-h-[600px] flex flex-col items-center justify-center overflow-hidden`,children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-700 via-indigo-500 to-blue-600 opacity-60 blur-2xl"}),s.jsx("div",{className:"absolute top-20 left-1/4 w-40 h-40 bg-pink-400 rounded-full opacity-30 blur-2xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 bg-blue-400 rounded-full opacity-30 blur-2xl animate-pulse"})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-3xl mx-auto bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-10 flex flex-col items-center",children:[s.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 via-purple-400 to-blue-400 mb-4 drop-shadow-xl",children:"Welcome to Nine Dart Nation"}),s.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-2 font-semibold",children:"Your home for competitive darts, stats, and online play."}),s.jsx("p",{className:"text-base md:text-lg text-white/60 mb-4 italic",children:'"Where every dart counts and every player matters."'}),i&&s.jsx("div",{className:"w-full mb-6",children:s.jsxs("div",{className:"mx-auto max-w-xl rounded-full px-5 py-2 text-center text-indigo-100 bg-gradient-to-r from-indigo-600/80 to-fuchsia-600/80 shadow-md",children:[s.jsx("span",{className:"font-semibold",children:"Did you know?"})," ",s.jsx("span",{className:"opacity-90",children:i})]})}),s.jsxs("div",{className:"flex flex-wrap gap-4 md:gap-6 justify-center mb-8",children:[s.jsxs("button",{onClick:()=>qs("score"),className:"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl",children:[s.jsx("span",{"aria-hidden":!0,children:""})," Start New Match"]}),s.jsxs("button",{onClick:()=>qs("stats"),className:"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl",children:[s.jsx("span",{"aria-hidden":!0,children:""})," View Stats"]}),s.jsxs("button",{onClick:()=>qs("online"),className:"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-green-500 to-blue-400 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl",children:[s.jsx("span",{"aria-hidden":!0,children:""})," Join Online League"]}),s.jsxs("button",{onClick:()=>{qs("offline");try{window.dispatchEvent(new CustomEvent("ndn:auto-start",{detail:{mode:"Double Practice"}}))}catch{}},className:"px-6 md:px-8 py-3 md:py-4 rounded-full bg-gradient-to-r from-pink-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-2 text-lg md:text-xl",children:[s.jsx("span",{"aria-hidden":!0,children:""})," Practice Doubles"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8 mt-2 w-full",children:[s.jsxs("div",{className:"bg-blue-700/80 rounded-2xl p-6 md:p-8 text-white shadow-xl flex flex-col items-center border-2 border-blue-400",children:[s.jsxs("h3",{className:"font-bold text-2xl md:text-3xl mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"bg-white text-blue-700 px-3 py-1 rounded-full text-base font-bold mr-2",children:"FREE"})," Free Modes"]}),s.jsx("div",{className:"text-base md:text-lg text-center",children:"170, 201, 301, 401, 501, 601, 701, 801, 901, 1001, Double Practice"})]}),s.jsxs("div",{className:"bg-indigo-500/90 rounded-2xl p-6 md:p-8 text-white shadow-xl flex flex-col items-center border-2 border-indigo-400",children:[s.jsxs("h3",{className:"font-bold text-2xl md:text-3xl mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"bg-white text-indigo-600 px-3 py-1 rounded-full text-base font-bold mr-2",children:""})," Premium Modes"]}),s.jsx("div",{className:"text-base md:text-lg text-center",children:"All advanced game modes (see PREMIUM tab)"})]})]}),s.jsx("button",{className:"mt-8 md:mt-10 px-8 md:px-10 py-3 md:py-4 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold shadow-xl hover:scale-110 transition-transform text-lg md:text-xl",onClick:()=>l(!0),children:"How to Play / Getting Started"})]}),s.jsx("footer",{className:"w-full py-2 md:py-2 text-center text-white/80 text-xs md:text-sm font-medium absolute bottom-0 left-0 z-20 flex items-center justify-center gap-1 md:gap-2",children:s.jsxs("button",{className:"flex items-center gap-1 md:gap-2 hover:text-white transition",onClick:()=>n(!0),children:[s.jsx("span",{children:""}),s.jsx("span",{style:{letterSpacing:"0.05em"},children:"NINEDARTNATION"})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"card max-w-lg w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl",children:[s.jsx("button",{className:"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold",onClick:()=>n(!1),children:"Close"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Legal Information"}),s.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[s.jsx("li",{children:"Terms & Conditions: All users must follow fair play and site rules."}),s.jsx("li",{children:"Privacy Policy: Your data is protected and never shared without consent."}),s.jsxs("li",{children:["Copyright  ",new Date().getFullYear()," NINEDARTNATION. All rights reserved."]}),s.jsx("li",{children:"Contact: support@ninedartnation.com"})]}),s.jsx("p",{className:"text-sm text-purple-200",children:"For full legal details, please contact us or visit our legal page."})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"card max-w-lg w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl",children:[s.jsx("button",{className:"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold",onClick:()=>l(!1),children:"Close"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Getting Started"}),s.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[s.jsx("li",{children:"Choose a game mode and invite friends or play solo."}),s.jsx("li",{children:"Track your stats and progress in the Stats tab."}),s.jsx("li",{children:"Join the BullseyeDartsLeague for online competition."}),s.jsx("li",{children:"Upgrade to PREMIUM for advanced features and modes."}),s.jsx("li",{children:"Need help? Visit the Settings tab for support and tips."})]}),s.jsx("p",{className:"text-sm text-purple-200",children:'Ready to play? Hit "Start New Match" and let the darts fly!'})]})})]})}function Ft({children:e,className:t,style:n}){const r=m.useRef(null);return m.useEffect(()=>{let l=0;const i=()=>{const c=r.current;if(!c)return;const u=document.getElementById("ndn-header");if(!u){c.style.clipPath="";return}const p=document.getElementById("ndn-main-scroll"),y=p?p.scrollTop:window.scrollY||0,g=u.getBoundingClientRect().height,v=y>0?g:0;c.style.marginTop=v>0?`${v}px`:"0px"};i();const a=()=>{l&&cancelAnimationFrame(l),l=requestAnimationFrame(i)},o=document.getElementById("ndn-main-scroll");return o==null||o.addEventListener("scroll",a,{passive:!0}),window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a),()=>{o==null||o.removeEventListener("scroll",a),window.removeEventListener("scroll",a),window.removeEventListener("resize",a),l&&cancelAnimationFrame(l)}},[]),s.jsx("div",{ref:r,className:t,style:n,children:e})}var Pr={},ig=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mm={},yt={};let nc;const ag=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];yt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};yt.getSymbolTotalCodewords=function(t){return ag[t]};yt.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};yt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');nc=t};yt.isKanjiModeEnabled=function(){return typeof nc<"u"};yt.toSJIS=function(t){return nc(t)};var ii={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,l){if(e.isValid(r))return r;try{return t(r)}catch{return l}}})(ii);function hm(){this.buffer=[],this.length=0}hm.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var og=hm;function Ps(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ps.prototype.set=function(e,t,n,r){const l=e*this.size+t;this.data[l]=n,r&&(this.reservedBit[l]=!0)};Ps.prototype.get=function(e,t){return this.data[e*this.size+t]};Ps.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Ps.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var cg=Ps,pm={};(function(e){const t=yt.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const l=Math.floor(r/7)+2,i=t(r),a=i===145?26:Math.ceil((i-13)/(2*l-2))*2,o=[i-7];for(let c=1;c<l-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},e.getPositions=function(r){const l=[],i=e.getRowColCoords(r),a=i.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||l.push([i[o],i[c]]);return l}})(pm);var gm={};const ug=yt.getSymbolSize,Lu=7;gm.getPositions=function(t){const n=ug(t);return[[0,0],[n-Lu,0],[0,n-Lu]]};var xm={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},e.from=function(l){return e.isValid(l)?parseInt(l,10):void 0},e.getPenaltyN1=function(l){const i=l.size;let a=0,o=0,c=0,u=null,p=null;for(let y=0;y<i;y++){o=c=0,u=p=null;for(let g=0;g<i;g++){let v=l.get(y,g);v===u?o++:(o>=5&&(a+=t.N1+(o-5)),u=v,o=1),v=l.get(g,y),v===p?c++:(c>=5&&(a+=t.N1+(c-5)),p=v,c=1)}o>=5&&(a+=t.N1+(o-5)),c>=5&&(a+=t.N1+(c-5))}return a},e.getPenaltyN2=function(l){const i=l.size;let a=0;for(let o=0;o<i-1;o++)for(let c=0;c<i-1;c++){const u=l.get(o,c)+l.get(o,c+1)+l.get(o+1,c)+l.get(o+1,c+1);(u===4||u===0)&&a++}return a*t.N2},e.getPenaltyN3=function(l){const i=l.size;let a=0,o=0,c=0;for(let u=0;u<i;u++){o=c=0;for(let p=0;p<i;p++)o=o<<1&2047|l.get(u,p),p>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|l.get(p,u),p>=10&&(c===1488||c===93)&&a++}return a*t.N3},e.getPenaltyN4=function(l){let i=0;const a=l.data.length;for(let c=0;c<a;c++)i+=l.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(r,l,i){switch(r){case e.Patterns.PATTERN000:return(l+i)%2===0;case e.Patterns.PATTERN001:return l%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(l+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return l*i%2+l*i%3===0;case e.Patterns.PATTERN110:return(l*i%2+l*i%3)%2===0;case e.Patterns.PATTERN111:return(l*i%3+(l+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(l,i){const a=i.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)i.isReserved(c,o)||i.xor(c,o,n(l,c,o))},e.getBestMask=function(l,i){const a=Object.keys(e.Patterns).length;let o=0,c=1/0;for(let u=0;u<a;u++){i(u),e.applyMask(u,l);const p=e.getPenaltyN1(l)+e.getPenaltyN2(l)+e.getPenaltyN3(l)+e.getPenaltyN4(l);e.applyMask(u,l),p<c&&(c=p,o=u)}return o}})(xm);var ai={};const fn=ii,Zs=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],el=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ai.getBlocksCount=function(t,n){switch(n){case fn.L:return Zs[(t-1)*4+0];case fn.M:return Zs[(t-1)*4+1];case fn.Q:return Zs[(t-1)*4+2];case fn.H:return Zs[(t-1)*4+3];default:return}};ai.getTotalCodewordsCount=function(t,n){switch(n){case fn.L:return el[(t-1)*4+0];case fn.M:return el[(t-1)*4+1];case fn.Q:return el[(t-1)*4+2];case fn.H:return el[(t-1)*4+3];default:return}};var vm={},oi={};const rs=new Uint8Array(512),Bl=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)rs[n]=t,Bl[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)rs[n]=rs[n-255]})();oi.log=function(t){if(t<1)throw new Error("log("+t+")");return Bl[t]};oi.exp=function(t){return rs[t]};oi.mul=function(t,n){return t===0||n===0?0:rs[Bl[t]+Bl[n]]};(function(e){const t=oi;e.mul=function(r,l){const i=new Uint8Array(r.length+l.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<l.length;o++)i[a+o]^=t.mul(r[a],l[o]);return i},e.mod=function(r,l){let i=new Uint8Array(r);for(;i.length-l.length>=0;){const a=i[0];for(let c=0;c<l.length;c++)i[c]^=t.mul(l[c],a);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},e.generateECPolynomial=function(r){let l=new Uint8Array([1]);for(let i=0;i<r;i++)l=e.mul(l,new Uint8Array([1,t.exp(i)]));return l}})(vm);const ym=vm;function rc(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}rc.prototype.initialize=function(t){this.degree=t,this.genPoly=ym.generateECPolynomial(this.degree)};rc.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=ym.mod(n,this.genPoly),l=this.degree-r.length;if(l>0){const i=new Uint8Array(this.degree);return i.set(r,l),i}return r};var dg=rc,wm={},Cn={},sc={};sc.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Wt={};const Nm="[0-9]+",fg="[A-Z $%*+\\-./:]+";let Ss="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ss=Ss.replace(/u/g,"\\u");const mg="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ss+`)(?:.|[\r
]))+`;Wt.KANJI=new RegExp(Ss,"g");Wt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Wt.BYTE=new RegExp(mg,"g");Wt.NUMERIC=new RegExp(Nm,"g");Wt.ALPHANUMERIC=new RegExp(fg,"g");const hg=new RegExp("^"+Ss+"$"),pg=new RegExp("^"+Nm+"$"),gg=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Wt.testKanji=function(t){return hg.test(t)};Wt.testNumeric=function(t){return pg.test(t)};Wt.testAlphanumeric=function(t){return gg.test(t)};(function(e){const t=sc,n=Wt;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+l)}}e.from=function(i,a){if(e.isValid(i))return i;try{return r(i)}catch{return a}}})(Cn);(function(e){const t=yt,n=ai,r=ii,l=Cn,i=sc,a=7973,o=t.getBCHDigit(a);function c(g,v,N){for(let w=1;w<=40;w++)if(v<=e.getCapacity(w,N,g))return w}function u(g,v){return l.getCharCountIndicator(g,v)+4}function p(g,v){let N=0;return g.forEach(function(w){const k=u(w.mode,v);N+=k+w.getBitsLength()}),N}function y(g,v){for(let N=1;N<=40;N++)if(p(g,N)<=e.getCapacity(N,v,l.MIXED))return N}e.from=function(v,N){return i.isValid(v)?parseInt(v,10):N},e.getCapacity=function(v,N,w){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=l.BYTE);const k=t.getSymbolTotalCodewords(v),h=n.getTotalCodewordsCount(v,N),d=(k-h)*8;if(w===l.MIXED)return d;const f=d-u(w,v);switch(w){case l.NUMERIC:return Math.floor(f/10*3);case l.ALPHANUMERIC:return Math.floor(f/11*2);case l.KANJI:return Math.floor(f/13);case l.BYTE:default:return Math.floor(f/8)}},e.getBestVersionForData=function(v,N){let w;const k=r.from(N,r.M);if(Array.isArray(v)){if(v.length>1)return y(v,k);if(v.length===0)return 1;w=v[0]}else w=v;return c(w.mode,w.getLength(),k)},e.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let N=v<<12;for(;t.getBCHDigit(N)-o>=0;)N^=a<<t.getBCHDigit(N)-o;return v<<12|N}})(wm);var bm={};const qa=yt,jm=1335,xg=21522,Ru=qa.getBCHDigit(jm);bm.getEncodedBits=function(t,n){const r=t.bit<<3|n;let l=r<<10;for(;qa.getBCHDigit(l)-Ru>=0;)l^=jm<<qa.getBCHDigit(l)-Ru;return(r<<10|l)^xg};var Sm={};const vg=Cn;function br(e){this.mode=vg.NUMERIC,this.data=e.toString()}br.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};br.prototype.getLength=function(){return this.data.length};br.prototype.getBitsLength=function(){return br.getBitsLength(this.data.length)};br.prototype.write=function(t){let n,r,l;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),l=parseInt(r,10),t.put(l,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),l=parseInt(r,10),t.put(l,i*3+1))};var yg=br;const wg=Cn,Ki=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function jr(e){this.mode=wg.ALPHANUMERIC,this.data=e}jr.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};jr.prototype.getLength=function(){return this.data.length};jr.prototype.getBitsLength=function(){return jr.getBitsLength(this.data.length)};jr.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ki.indexOf(this.data[n])*45;r+=Ki.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Ki.indexOf(this.data[n]),6)};var Ng=jr;const bg=Cn;function Sr(e){this.mode=bg.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Sr.getBitsLength=function(t){return t*8};Sr.prototype.getLength=function(){return this.data.length};Sr.prototype.getBitsLength=function(){return Sr.getBitsLength(this.data.length)};Sr.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var jg=Sr;const Sg=Cn,kg=yt;function kr(e){this.mode=Sg.KANJI,this.data=e}kr.getBitsLength=function(t){return t*13};kr.prototype.getLength=function(){return this.data.length};kr.prototype.getBitsLength=function(){return kr.getBitsLength(this.data.length)};kr.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=kg.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Cg=kr,km={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,l){var i={},a={};a[r]=0;var o=t.PriorityQueue.make();o.push(r,0);for(var c,u,p,y,g,v,N,w,k;!o.empty();){c=o.pop(),u=c.value,y=c.cost,g=n[u]||{};for(p in g)g.hasOwnProperty(p)&&(v=g[p],N=y+v,w=a[p],k=typeof a[p]>"u",(k||w>N)&&(a[p]=N,o.push(p,N),i[p]=u))}if(typeof l<"u"&&typeof a[l]>"u"){var h=["Could not find a path from ",r," to ",l,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var l=[],i=r;i;)l.push(i),n[i],i=n[i];return l.reverse(),l},find_path:function(n,r,l){var i=t.single_source_shortest_paths(n,r,l);return t.extract_shortest_path_from_predecessor_list(i,l)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,l={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(l[i]=r[i]);return l.queue=[],l.sorter=n.sorter||r.default_sorter,l},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var l={value:n,cost:r};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(km);var Eg=km.exports;(function(e){const t=Cn,n=yg,r=Ng,l=jg,i=Cg,a=Wt,o=yt,c=Eg;function u(h){return unescape(encodeURIComponent(h)).length}function p(h,d,f){const x=[];let j;for(;(j=h.exec(f))!==null;)x.push({data:j[0],index:j.index,mode:d,length:j[0].length});return x}function y(h){const d=p(a.NUMERIC,t.NUMERIC,h),f=p(a.ALPHANUMERIC,t.ALPHANUMERIC,h);let x,j;return o.isKanjiModeEnabled()?(x=p(a.BYTE,t.BYTE,h),j=p(a.KANJI,t.KANJI,h)):(x=p(a.BYTE_KANJI,t.BYTE,h),j=[]),d.concat(f,x,j).sort(function(S,M){return S.index-M.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function g(h,d){switch(d){case t.NUMERIC:return n.getBitsLength(h);case t.ALPHANUMERIC:return r.getBitsLength(h);case t.KANJI:return i.getBitsLength(h);case t.BYTE:return l.getBitsLength(h)}}function v(h){return h.reduce(function(d,f){const x=d.length-1>=0?d[d.length-1]:null;return x&&x.mode===f.mode?(d[d.length-1].data+=f.data,d):(d.push(f),d)},[])}function N(h){const d=[];for(let f=0;f<h.length;f++){const x=h[f];switch(x.mode){case t.NUMERIC:d.push([x,{data:x.data,mode:t.ALPHANUMERIC,length:x.length},{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.ALPHANUMERIC:d.push([x,{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.KANJI:d.push([x,{data:x.data,mode:t.BYTE,length:u(x.data)}]);break;case t.BYTE:d.push([{data:x.data,mode:t.BYTE,length:u(x.data)}])}}return d}function w(h,d){const f={},x={start:{}};let j=["start"];for(let C=0;C<h.length;C++){const S=h[C],M=[];for(let b=0;b<S.length;b++){const E=S[b],z=""+C+b;M.push(z),f[z]={node:E,lastCount:0},x[z]={};for(let H=0;H<j.length;H++){const Z=j[H];f[Z]&&f[Z].node.mode===E.mode?(x[Z][z]=g(f[Z].lastCount+E.length,E.mode)-g(f[Z].lastCount,E.mode),f[Z].lastCount+=E.length):(f[Z]&&(f[Z].lastCount=E.length),x[Z][z]=g(E.length,E.mode)+4+t.getCharCountIndicator(E.mode,d))}}j=M}for(let C=0;C<j.length;C++)x[j[C]].end=0;return{map:x,table:f}}function k(h,d){let f;const x=t.getBestModeForData(h);if(f=t.from(d,x),f!==t.BYTE&&f.bit<x.bit)throw new Error('"'+h+'" cannot be encoded with mode '+t.toString(f)+`.
 Suggested mode is: `+t.toString(x));switch(f===t.KANJI&&!o.isKanjiModeEnabled()&&(f=t.BYTE),f){case t.NUMERIC:return new n(h);case t.ALPHANUMERIC:return new r(h);case t.KANJI:return new i(h);case t.BYTE:return new l(h)}}e.fromArray=function(d){return d.reduce(function(f,x){return typeof x=="string"?f.push(k(x,null)):x.data&&f.push(k(x.data,x.mode)),f},[])},e.fromString=function(d,f){const x=y(d,o.isKanjiModeEnabled()),j=N(x),C=w(j,f),S=c.find_path(C.map,"start","end"),M=[];for(let b=1;b<S.length-1;b++)M.push(C.table[S[b]].node);return e.fromArray(v(M))},e.rawSplit=function(d){return e.fromArray(y(d,o.isKanjiModeEnabled()))}})(Sm);const ci=yt,qi=ii,Tg=og,Dg=cg,Mg=pm,Pg=gm,Za=xm,eo=ai,Ig=dg,$l=wm,Lg=bm,Rg=Cn,Zi=Sm;function Ag(e,t){const n=e.size,r=Pg.getPositions(t);for(let l=0;l<r.length;l++){const i=r[l][0],a=r[l][1];for(let o=-1;o<=7;o++)if(!(i+o<=-1||n<=i+o))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?e.set(i+o,a+c,!0,!0):e.set(i+o,a+c,!1,!0))}}function Og(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function _g(e,t){const n=Mg.getPositions(t);for(let r=0;r<n.length;r++){const l=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?e.set(l+a,i+o,!0,!0):e.set(l+a,i+o,!1,!0)}}function zg(e,t){const n=e.size,r=$l.getEncodedBits(t);let l,i,a;for(let o=0;o<18;o++)l=Math.floor(o/3),i=o%3+n-8-3,a=(r>>o&1)===1,e.set(l,i,a,!0),e.set(i,l,a,!0)}function ea(e,t,n){const r=e.size,l=Lg.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=(l>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function Fg(e,t){const n=e.size;let r=-1,l=n-1,i=7,a=0;for(let o=n-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!e.isReserved(l,o-c)){let u=!1;a<t.length&&(u=(t[a]>>>i&1)===1),e.set(l,o-c,u),i--,i===-1&&(a++,i=7)}if(l+=r,l<0||n<=l){l-=r,r=-r;break}}}function Ug(e,t,n){const r=new Tg;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Rg.getCharCountIndicator(c.mode,e)),c.write(r)});const l=ci.getSymbolTotalCodewords(e),i=eo.getTotalCodewordsCount(e,t),a=(l-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const o=(a-r.getLengthInBits())/8;for(let c=0;c<o;c++)r.put(c%2?17:236,8);return Bg(r,e,t)}function Bg(e,t,n){const r=ci.getSymbolTotalCodewords(t),l=eo.getTotalCodewordsCount(t,n),i=r-l,a=eo.getBlocksCount(t,n),o=r%a,c=a-o,u=Math.floor(r/a),p=Math.floor(i/a),y=p+1,g=u-p,v=new Ig(g);let N=0;const w=new Array(a),k=new Array(a);let h=0;const d=new Uint8Array(e.buffer);for(let S=0;S<a;S++){const M=S<c?p:y;w[S]=d.slice(N,N+M),k[S]=v.encode(w[S]),N+=M,h=Math.max(h,M)}const f=new Uint8Array(r);let x=0,j,C;for(j=0;j<h;j++)for(C=0;C<a;C++)j<w[C].length&&(f[x++]=w[C][j]);for(j=0;j<g;j++)for(C=0;C<a;C++)f[x++]=k[C][j];return f}function $g(e,t,n,r){let l;if(Array.isArray(e))l=Zi.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const p=Zi.rawSplit(e);u=$l.getBestVersionForData(p,n)}l=Zi.fromString(e,u||40)}else throw new Error("Invalid data");const i=$l.getBestVersionForData(l,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=Ug(t,n,l),o=ci.getSymbolSize(t),c=new Dg(o);return Ag(c,t),Og(c),_g(c,t),ea(c,n,0),t>=7&&zg(c,t),Fg(c,a),isNaN(r)&&(r=Za.getBestMask(c,ea.bind(null,c,n))),Za.applyMask(r,c),ea(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:l}}mm.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=qi.M,l,i;return typeof n<"u"&&(r=qi.from(n.errorCorrectionLevel,qi.M),l=$l.from(n.version),i=Za.from(n.maskPattern),n.toSJISFunc&&ci.setToSJISFunction(n.toSJISFunc)),$g(t,l,r,i)};var Cm={},lc={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const l=parseInt(r.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const l=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:l,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,l){return l.width&&l.width>=r+l.margin*2?l.width/(r+l.margin*2):l.scale},e.getImageWidth=function(r,l){const i=e.getScale(r,l);return Math.floor((r+l.margin*2)*i)},e.qrToImageData=function(r,l,i){const a=l.modules.size,o=l.modules.data,c=e.getScale(a,i),u=Math.floor((a+i.margin*2)*c),p=i.margin*c,y=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let v=0;v<u;v++){let N=(g*u+v)*4,w=i.color.light;if(g>=p&&v>=p&&g<u-p&&v<u-p){const k=Math.floor((g-p)/c),h=Math.floor((v-p)/c);w=y[o[k*a+h]?1:0]}r[N++]=w.r,r[N++]=w.g,r[N++]=w.b,r[N]=w.a}}})(lc);(function(e){const t=lc;function n(l,i,a){l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,o){let c=o,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=r()),c=t.getOptions(c);const p=t.getImageWidth(i.modules.size,c),y=u.getContext("2d"),g=y.createImageData(p,p);return t.qrToImageData(g.data,i,c),n(y,u,p),y.putImageData(g,0,0),u},e.renderToDataURL=function(i,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=e.render(i,a,c),p=c.type||"image/png",y=c.rendererOpts||{};return u.toDataURL(p,y.quality)}})(Cm);var Em={};const Hg=lc;function Au(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ta(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function Wg(e,t,n){let r="",l=0,i=!1,a=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);!c&&!i&&(i=!0),e[o]?(a++,o>0&&c>0&&e[o-1]||(r+=i?ta("M",c+n,.5+u+n):ta("m",l,0),l=0,i=!1),c+1<t&&e[o+1]||(r+=ta("h",a),a=0)):l++}return r}Em.render=function(t,n,r){const l=Hg.getOptions(n),i=t.modules.size,a=t.modules.data,o=i+l.margin*2,c=l.color.light.a?"<path "+Au(l.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+Au(l.color.dark,"stroke")+' d="'+Wg(a,i,l.margin)+'"/>',p='viewBox="0 0 '+o+" "+o+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,g),g};const Vg=ig,to=mm,Tm=Cm,Jg=Em;function ic(e,t,n,r,l){const i=[].slice.call(arguments,1),a=i.length,o=typeof i[a-1]=="function";if(!o&&!Vg())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(l=n,n=t,t=r=void 0):a===3&&(t.getContext&&typeof l>"u"?(l=r,r=void 0):(l=r,r=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=r=void 0):a===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,u){try{const p=to.create(n,r);c(e(p,t,r))}catch(p){u(p)}})}try{const c=to.create(n,r);l(null,e(c,t,r))}catch(c){l(c)}}Pr.create=to.create;Pr.toCanvas=ic.bind(null,Tm.render);Pr.toDataURL=ic.bind(null,Tm.renderToDataURL);Pr.toString=ic.bind(null,function(e,t,n){return Jg.render(e,n)});const Gg={},Ou=e=>{let t;const n=new Set,r=(p,y)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const v=t;t=y??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(N=>N(t,v))}},l=()=>t,c={setState:r,getState:l,getInitialState:()=>u,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Gg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,l,c);return c},Qg=e=>e?Ou(e):Ou;var Dm={exports:{}},Mm={},Pm={exports:{}},Im={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=m;function Yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xg=typeof Object.is=="function"?Object.is:Yg,Kg=Cr.useState,qg=Cr.useEffect,Zg=Cr.useLayoutEffect,ex=Cr.useDebugValue;function tx(e,t){var n=t(),r=Kg({inst:{value:n,getSnapshot:t}}),l=r[0].inst,i=r[1];return Zg(function(){l.value=n,l.getSnapshot=t,na(l)&&i({inst:l})},[e,n,t]),qg(function(){return na(l)&&i({inst:l}),e(function(){na(l)&&i({inst:l})})},[e]),ex(n),n}function na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xg(e,n)}catch{return!0}}function nx(e,t){return t()}var rx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nx:tx;Im.useSyncExternalStore=Cr.useSyncExternalStore!==void 0?Cr.useSyncExternalStore:rx;Pm.exports=Im;var sx=Pm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=m,lx=sx;function ix(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ax=typeof Object.is=="function"?Object.is:ix,ox=lx.useSyncExternalStore,cx=ui.useRef,ux=ui.useEffect,dx=ui.useMemo,fx=ui.useDebugValue;Mm.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var i=cx(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=dx(function(){function c(v){if(!u){if(u=!0,p=v,v=r(v),l!==void 0&&a.hasValue){var N=a.value;if(l(N,v))return y=N}return y=v}if(N=y,ax(p,v))return N;var w=r(v);return l!==void 0&&l(N,w)?(p=v,N):(p=v,y=w)}var u=!1,p,y,g=n===void 0?null:n;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,n,r,l]);var o=ox(e,i[0],i[1]);return ux(function(){a.hasValue=!0,a.value=o},[o]),fx(o),o};Dm.exports=Mm;var mx=Dm.exports;const hx=Gu(mx),Lm={},{useDebugValue:px}=uo,{useSyncExternalStoreWithSelector:gx}=hx;let _u=!1;const xx=e=>e;function vx(e,t=xx,n){(Lm?"production":void 0)!=="production"&&n&&!_u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_u=!0);const r=gx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return px(r),r}const zu=e=>{(Lm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qg(e):e,n=(r,l)=>vx(t,r,l);return Object.assign(n,t),n},di=e=>e?zu(e):zu,yx={};function wx(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=n.getItem(l))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(l,i)=>n.setItem(l,JSON.stringify(i,void 0)),removeItem:l=>n.removeItem(l)}}const ks=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ks(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ks(r)(n)}}}},Nx=(e,t)=>(n,r,l)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,h)=>({...h,...k}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,l);const p=ks(i.serialize),y=()=>{const k=i.partialize({...r()});let h;const d=p({state:k,version:i.version}).then(f=>u.setItem(i.name,f)).catch(f=>{h=f});if(h)throw h;return d},g=l.setState;l.setState=(k,h)=>{g(k,h),y()};const v=e((...k)=>{n(...k),y()},r,l);let N;const w=()=>{var k;if(!u)return;a=!1,o.forEach(d=>d(r()));const h=((k=i.onRehydrateStorage)==null?void 0:k.call(i,r()))||void 0;return ks(u.getItem.bind(u))(i.name).then(d=>{if(d)return i.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return i.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var f;return N=i.merge(d,(f=r())!=null?f:v),n(N,!0),y()}).then(()=>{h==null||h(N,void 0),a=!0,c.forEach(d=>d(N))}).catch(d=>{h==null||h(void 0,d)})};return l.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:k=>(o.add(k),()=>{o.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},w(),N||v},bx=(e,t)=>(n,r,l)=>{let i={storage:wx(()=>localStorage),partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,l);const p=()=>{const w=i.partialize({...r()});return u.setItem(i.name,{state:w,version:i.version})},y=l.setState;l.setState=(w,k)=>{y(w,k),p()};const g=e((...w)=>{n(...w),p()},r,l);l.getInitialState=()=>g;let v;const N=()=>{var w,k;if(!u)return;a=!1,o.forEach(d=>{var f;return d((f=r())!=null?f:g)});const h=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(w=r())!=null?w:g))||void 0;return ks(u.getItem.bind(u))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return[!0,i.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var f;const[x,j]=d;if(v=i.merge(j,(f=r())!=null?f:g),n(v,!0),x)return p()}).then(()=>{h==null||h(v,void 0),v=r(),a=!0,c.forEach(d=>d(v))}).catch(d=>{h==null||h(void 0,d)})};return l.persist={setOptions:w=>{i={...i,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},i.skipHydration||N(),v||g},jx=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((yx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Nx(e,t)):bx(e,t),Sx=jx,ac=di()(Sx(e=>({H:null,createdAt:null,errorPx:null,imageSize:null,anchors:null,setCalibration:t=>e(n=>({...n,...t})),reset:()=>e({H:null,createdAt:null,errorPx:null,imageSize:null,anchors:null})}),{name:"ndn-calibration-v1"})),Te={bullInner:6.35,bullOuter:15.9,trebleInner:99,trebleOuter:107,doubleInner:162,doubleOuter:170},kx=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5];function oc(e,t){const n=t.x,r=t.y,l=e[6]*n+e[7]*r+e[8],i=(e[0]*n+e[1]*r+e[2])/l,a=(e[3]*n+e[4]*r+e[5])/l;return{x:i,y:a}}function Cx(e,t,n){return[t*e[0],t*e[1],t*e[2],n*e[3],n*e[4],n*e[5],e[6],e[7],e[8]]}function Ex(e){const t=e,n=t[0],r=t[1],l=t[2],i=t[3],a=t[4],o=t[5],c=t[6],u=t[7],p=t[8],y=a*p-o*u,g=l*u-r*p,v=r*o-l*a,N=o*c-i*p,w=n*p-l*c,k=l*i-n*o,h=i*u-a*c,d=r*c-n*u,f=n*a-r*i,x=n*y+r*N+l*h;if(Math.abs(x)<1e-12)throw new Error("Singular homography");return[y/x,g/x,v/x,N/x,w/x,k/x,h/x,d/x,f/x]}function Tx(e,t){if(e.length!==4||t.length!==4)throw new Error("Need exactly 4 correspondences");const n=[],r=[];for(let a=0;a<4;a++){const{x:o,y:c}=e[a],{x:u,y:p}=t[a];n.push([o,c,1,0,0,0,-u*o,-u*c]),r.push(u),n.push([0,0,0,o,c,1,-p*o,-p*c]),r.push(p)}const l=Dx(n,r);return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],1]}function Dx(e,t){const n=e.length,r=e[0].length,l=Array.from({length:r},()=>new Array(r).fill(0)),i=new Array(r).fill(0);for(let a=0;a<n;a++)for(let o=0;o<r;o++){i[o]+=e[a][o]*t[a];for(let c=0;c<r;c++)l[o][c]+=e[a][o]*e[a][c]}return Mx(l,i)}function Mx(e,t){const n=t.length,r=e.map((i,a)=>i.concat([t[a]]));for(let i=0;i<n;i++){let a=i;for(let o=i+1;o<n;o++)Math.abs(r[o][i])>Math.abs(r[a][i])&&(a=o);if(Math.abs(r[a][i])<1e-12)throw new Error("Singular matrix");if(a!==i){const o=r[i];r[i]=r[a],r[a]=o}for(let o=i+1;o<n;o++){const c=r[o][i]/r[i][i];for(let u=i;u<=n;u++)r[o][u]-=c*r[i][u]}}const l=new Array(n).fill(0);for(let i=n-1;i>=0;i--){let a=r[i][n];for(let o=i+1;o<n;o++)a-=r[i][o]*l[o];l[i]=a/r[i][i]}return l}function Px(){const e=Te.doubleOuter;return[{x:0,y:-e},{x:e,y:0},{x:0,y:e},{x:-e,y:0}]}function Rm(e,t,n=256){const r=[];for(let l=0;l<n;l++){const i=l/n*Math.PI*2,a=oc(e,{x:t*Math.cos(i),y:t*Math.sin(i)});r.push(a)}return r}function Ix(e,t,n){let r=0;for(let l=0;l<t.length;l++){const i=oc(e,t[l]),a=i.x-n[l].x,o=i.y-n[l].y;r+=a*a+o*o}return Math.sqrt(r/t.length)}function Lx(e,t){const n=Ex(e);return oc(n,t)}function Rx(e){const t=Math.hypot(e.x,e.y);let r=Math.atan2(e.y,e.x)*180/Math.PI;r=(r+360+90)%360;const l=kx[Math.floor((360-r)%360/18)];return t<=Te.bullInner?{base:50,ring:"INNER_BULL"}:t<=Te.bullOuter?{base:25,ring:"BULL"}:t>=Te.doubleOuter?{base:0,ring:"MISS"}:t>=Te.doubleInner?{base:l*2,ring:"DOUBLE"}:t>=Te.trebleOuter?{base:l,ring:"SINGLE"}:t>=Te.trebleInner?{base:l*3,ring:"TRIPLE"}:{base:l,ring:"SINGLE"}}function Am(e,t,n="#10b981",r=2){if(t.length){e.save(),e.strokeStyle=n,e.lineWidth=r,e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let l=1;l<t.length;l++)e.lineTo(t[l].x,t[l].y);e.closePath(),e.stroke(),e.restore()}}function Ax(e,t,n="#f59e0b"){e.save(),e.strokeStyle=n,e.lineWidth=2,e.beginPath(),e.moveTo(t.x-8,t.y),e.lineTo(t.x+8,t.y),e.moveTo(t.x,t.y-8),e.lineTo(t.x,t.y+8),e.stroke(),e.restore()}function Hl(e,t,n){return Math.max(t,Math.min(n,e))}function Ox(e,t,n){const{width:r,data:l}=e,i=[[-1,0,1],[-2,0,2],[-1,0,1]],a=[[-1,-2,-1],[0,0,0],[1,2,1]];let o=0,c=0;for(let u=-1;u<=1;u++)for(let p=-1;p<=1;p++){const y=Hl(t+p,0,r-1),v=(Hl(n+u,0,e.height-1)*r+y)*4,N=l[v],w=l[v+1],k=l[v+2],h=.299*N+.587*w+.114*k;o+=h*i[u+1][p+1],c+=h*a[u+1][p+1]}return Math.hypot(o,c)}function _x(e,t,n=6){const l=e.getContext("2d").getImageData(0,0,e.width,e.height),i=Hl(Math.round(t.x),1,e.width-2),a=Hl(Math.round(t.y),1,e.height-2);let o={x:i,y:a,mag:-1};for(let c=a-n;c<=a+n;c++)for(let u=i-n;u<=i+n;u++){if(u<=0||c<=0||u>=e.width-1||c>=e.height-1)continue;const p=Ox(l,u,c);p>o.mag&&(o={x:u,y:c,mag:p})}return{x:o.x,y:o.y}}function zx(e,t,n=6){return t.map(r=>_x(e,r,n))}function Fx(){const e=m.useRef(null),t=m.useRef(null),n=m.useRef(null),[r,l]=m.useState(!1),[i,a]=m.useState("camera"),[o,c]=m.useState(()=>localStorage.getItem("ndn:cal:mode")||"local"),[u,p]=m.useState([]),[y,g]=m.useState(!1),{H:v,setCalibration:N,reset:w,errorPx:k}=ac(),[h,d]=m.useState(null),[f,x]=m.useState(null),[j,C]=m.useState(null),[S,M]=m.useState(Date.now()),[b,E]=m.useState(!1),[z,H]=m.useState(null),[Z,ce]=m.useState(""),[te,Pe]=m.useState(null),[K,L]=m.useState(null),[_,$]=m.useState(!0);m.useEffect(()=>{const D=window.location.hostname;(D==="localhost"||D==="127.0.0.1")&&fetch(`http://${D}:8787/api/hosts`).then(R=>R.json()).then(R=>{const V=Array.isArray(R==null?void 0:R.hosts)&&R.hosts.find(G=>G);V&&Pe(V)}).catch(()=>{}),fetch(`${window.location.protocol}//${window.location.hostname}:8787/api/https-info`).then(R=>R.json()).then(R=>{R&&typeof R.https=="boolean"&&L({https:!!R.https,port:Number(R.port)||8788})}).catch(()=>{})},[]),m.useEffect(()=>{o==="phone"&&!b&&!r&&q()},[o]);const X=m.useMemo(()=>{const D=te||window.location.hostname,R=f||"____",V=!!(K!=null&&K.https),G=V?(K==null?void 0:K.port)||8788:8787;return`${V?"https":"http"}://${D}:${G}/mobile-cam.html?code=${R}`},[f,te,K]);m.useEffect(()=>{localStorage.setItem("ndn:cal:mode",o)},[o]),m.useEffect(()=>{if(!f){ce("");return}Pr.toDataURL(X,{width:160,margin:1,color:{dark:"#000000",light:"#ffffff"}}).then(ce).catch(()=>ce(""))},[X,f]),m.useEffect(()=>{if(!j)return;const D=setInterval(()=>M(Date.now()),1e3);return()=>clearInterval(D)},[j]);const ne=m.useMemo(()=>j?Math.max(0,Math.ceil((j-S)/1e3)):null,[j,S]);m.useEffect(()=>{ne!==null&&ne<=0&&!b&&!r&&o==="phone"&&de()},[ne,b,r,o]),m.useEffect(()=>()=>ge(),[]);function he(){if(h&&h.readyState===WebSocket.OPEN)return h;const D=!!(K!=null&&K.https),R=D?"wss":"ws",V=D?(K==null?void 0:K.port)||8788:8787,G=new WebSocket(`${R}://${window.location.hostname}:${V}`);return d(G),G}async function q(){E(!1);const D=he();D.readyState===WebSocket.OPEN?D.send(JSON.stringify({type:"cam-create"})):D.onopen=()=>D.send(JSON.stringify({type:"cam-create"})),D.onerror=()=>{},D.onclose=()=>{},D.onmessage=async R=>{const V=JSON.parse(R.data);if(V.type==="cam-code")x(V.code),V.expiresAt&&C(V.expiresAt);else if(V.type==="cam-peer-joined"){E(!0);const G=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});H(G),G.onicecandidate=J=>{J.candidate&&f&&D.send(JSON.stringify({type:"cam-ice",code:f,payload:J.candidate}))},G.ontrack=J=>{var ee;if(e.current){const re=(ee=J.streams)==null?void 0:ee[0];re&&(e.current.srcObject=re,e.current.play().catch(()=>{}),l(!0),a("capture"))}};const Q=await G.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!0});await G.setLocalDescription(Q),f&&D.send(JSON.stringify({type:"cam-offer",code:f,payload:Q}))}else if(V.type==="cam-answer")z&&await z.setRemoteDescription(new RTCSessionDescription(V.payload));else if(V.type==="cam-ice"){if(z)try{await z.addIceCandidate(V.payload)}catch{}}else V.type==="cam-error"&&alert(V.code==="EXPIRED"?"Code expired. Generate a new code.":"Invalid code")}}async function Se(){if(o==="phone")return q();try{const D=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});e.current&&(e.current.srcObject=D,await e.current.play()),l(!0),a("capture")}catch{alert("Camera permission denied or not available.")}}function ge(){if(e.current&&e.current.srcObject&&(e.current.srcObject.getTracks().forEach(R=>R.stop()),e.current.srcObject=null,l(!1)),z){try{z.close()}catch{}H(null)}x(null),C(null),E(!1)}function de(){x(null),C(null),E(!1),h&&h.readyState===WebSocket.OPEN?h.send(JSON.stringify({type:"cam-create"})):q()}function xe(){if(!e.current||!t.current)return;const D=e.current,R=t.current;R.width=D.videoWidth,R.height=D.videoHeight,R.getContext("2d").drawImage(D,0,0,R.width,R.height),g(!0),a("select"),p([])}function Ie(D=u,R=null){if(!t.current||!n.current)return;const V=t.current,G=n.current;G.width=V.width,G.height=V.height;const Q=G.getContext("2d");Q.clearRect(0,0,G.width,G.height),D.forEach(ee=>Ax(Q,ee,"#f472b6"));const J=R||v;if(J){const ee=[Te.bullInner,Te.bullOuter,Te.trebleInner,Te.trebleOuter,Te.doubleInner,Te.doubleOuter];for(const re of ee){const Ce=Rm(J,re,360);Am(Q,Ce,re===Te.doubleOuter?"#22d3ee":"#a78bfa",re===Te.doubleOuter?3:2)}}}function T(D){if(i!=="select")return;const R=D.target.getBoundingClientRect(),V=D.clientX-R.left,G=D.clientY-R.top,Q=[...u,{x:V,y:G}];Q.length<=4&&(p(Q),Ie(Q))}function U(){const D=u.slice(0,-1);p(D),Ie(D)}function ue(){if(!t.current||u.length===0)return;const D=zx(t.current,u,8);p(D),Ie(D)}function oe(){if(!t.current)return;if(u.length!==4)return alert("Please click 4 points: TOP, RIGHT, BOTTOM, LEFT corners of the double rim.");const D=Px(),R=Tx(D,u);Ie(u,R);const V=Ix(R,D,u);N({H:R,createdAt:Date.now(),errorPx:V,imageSize:{w:t.current.width,h:t.current.height},anchors:{src:D,dst:u}}),a("computed")}function $e(){p([]),g(!1),a("camera"),Ie([]),w()}return m.useEffect(()=>{Ie()},[y,v]),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Board Calibrator"}),s.jsx("p",{className:"text-sm opacity-80 mb-3",children:"Click the four points where the outer edge of the double ring touches TOP, RIGHT, BOTTOM, LEFT. Then compute to fit the board overlay. Aim for error < 2px for best accuracy."}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:"Video Source:"}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx("button",{className:`btn px-2 py-1 ${o==="local"?"bg-emerald-600":""}`,onClick:()=>c("local"),children:"Local"}),s.jsx("button",{className:`btn px-2 py-1 ${o==="phone"?"bg-emerald-600":""}`,onClick:()=>c("phone"),children:"Phone"})]})]}),s.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-indigo-400/30 bg-black",children:[s.jsx("video",{ref:e,className:`w-full ${y?"opacity-0 absolute -z-10":"opacity-100"}`}),s.jsx("canvas",{ref:t,className:`${y?"opacity-100":"opacity-0 absolute -z-10"} w-full`}),s.jsx("canvas",{ref:n,onClick:T,className:"absolute inset-0 w-full h-full"})]}),o==="phone"&&!r&&s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-black/40 border border-white/10 text-white text-xs",children:[s.jsx("div",{children:"Open on your phone:"}),s.jsx("div",{className:"font-mono break-all",children:X}),s.jsxs("div",{className:"mt-1 opacity-80",children:["WS: ",h?h.readyState===1?"open":h.readyState===0?"connecting":h.readyState===2?"closing":"closed":"not started","  ",K!=null&&K.https?"HTTPS on":"HTTP only"]}),f&&s.jsxs("div",{children:["Code: ",s.jsx("span",{className:"font-mono",children:f})]}),Z&&s.jsx("img",{className:"mt-1 w-[160px] h-[160px] bg-white rounded",alt:"Scan to open",src:Z}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[ne!==null&&s.jsxs("span",{children:["Expires in ",ne,"s"]}),s.jsx("button",{className:"btn px-2 py-1 text-xs",onClick:de,children:"Regenerate"})]}),_&&s.jsxs("div",{className:"mt-2 p-2 rounded bg-slate-900/60 border border-slate-700/50 text-slate-200",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Troubleshooting"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[s.jsx("li",{children:"Phone and desktop must be on the same WiFi network."}),s.jsxs("li",{children:["Allow the server through your firewall (ports 8787 and ",K!=null&&K.https?K.port:8788,")."]}),s.jsx("li",{children:"On iPhone, use HTTPS links (QR will prefer https when enabled)."})]}),s.jsx("div",{className:"mt-2 text-right",children:s.jsx("button",{className:"btn btn--ghost px-2 py-1 text-xs",onClick:()=>$(!1),children:"Hide tips"})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[r?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:ge,children:"Stop Camera"}),s.jsx("button",{className:"btn",onClick:xe,disabled:!r,children:"Capture Frame"})]}):s.jsx("button",{className:"btn",onClick:Se,children:o==="local"?"Start Camera":"Pair Phone Camera"}),s.jsx("button",{className:"btn",disabled:u.length!==4,onClick:oe,children:"Compute"}),s.jsx("button",{className:"btn",disabled:u.length===0,onClick:U,children:"Undo"}),s.jsx("button",{className:"btn",disabled:u.length===0,onClick:ue,children:"Refine Points"}),s.jsx("button",{className:"btn",onClick:$e,children:"Reset"})]}),s.jsxs("div",{className:"mt-2 text-sm opacity-80",children:[s.jsxs("div",{children:["Phase: ",i]}),s.jsxs("div",{children:["Clicked: ",u.length," / 4"]}),k!=null&&s.jsxs("div",{children:["Fit error: ",k.toFixed(2)," px"]})]})]})})}const Ux=["D1","D2","D3","D4","D5","D6","D7","D8","D9","D10","D11","D12","D13","D14","D15","D16","D17","D18","D19","D20","DB"];function Bx(e){return e==="DB"?50:Number(e.slice(1))*2}function $x(e){return Ux.includes(e)?Bx(e):32}function Om(e,t="D16"){if(e>170||e<=1)return[];const n={170:["T20 T20 DB"],167:["T20 T19 DB"],164:["T20 T18 DB"],161:["T20 T17 DB"],160:["T20 T20 D20"],158:["T20 T20 D19"],157:["T20 T19 D20"],156:["T20 T20 D18"],155:["T20 T19 D19"],154:["T20 T18 D20"],153:["T20 T19 D18"],152:["T20 T20 D16"],151:["T20 T17 D20"],150:["T20 T18 D18"],149:["T20 T19 D16"],148:["T20 T16 D20"],147:["T20 T17 D18"],146:["T20 T18 D16"],145:["T20 T15 D20"],144:["T20 T20 D12"],141:["T20 T19 D12"],140:["T20 T20 D10"],137:["T20 T19 D10"],136:["T20 T20 D8"],132:["BULL T14 D20","T20 T12 D8"],130:["T20 T20 D5","T20 T18 D8"],129:["T19 T16 D12"],128:["T18 T14 D16"],127:["T20 T17 D8"],126:["T19 T19 D6"],121:["T20 11 D20","T20 T15 D8"],120:["T20 20 D20","T20 S20 D20"],110:["T20 10 D20"],100:["T20 D20"],99:["T19 10 D16","T19 S10 D16"],97:["T19 D20"],96:["T20 D18"],95:["T19 D19"],94:["T18 D20"],92:["T20 D16"],90:["T18 D18","T20 D15"],86:["T18 D16"],84:["T20 D12","T16 D18"],82:["BULL D16","T14 D20"],81:["T19 D12"],80:["T20 D10","D20 D20"],78:["T18 D12"],76:["T20 D8","T16 D14"],74:["T14 D16","T18 D10"],72:["T16 D12","T20 D6"],70:["T18 D8","S20 BULL"],68:["T20 D4","T16 D10"],66:["T10 D18","T14 D12"],64:["T16 D8","D16 D16"],62:["T10 D16","T12 D13"],60:["20 D20","S20 D20"],58:["18 D20","S18 D20"],56:["16 D20","S16 D20"],54:["14 D20","S14 D20"],52:["20 D16","S20 D16"],50:["BULL","10 D20"],48:["16 D16","S16 D16"],46:["14 D16"],44:["12 D16"],42:["10 D16"],40:["D20"],38:["D19"],36:["D18"],34:["D17"],32:["D16"],30:["D15"],28:["D14"],26:["D13"],24:["D12"],22:["D11"],20:["D10"],18:["D9"],16:["D8"],14:["D7"],12:["D6"],10:["D5"],8:["D4"],6:["D3"],4:["D2"],2:["D1"]};if(n[e])return n[e];const r=$x(t),l=[];for(const i of[60,57,54,51,48])if(e-i===r){l.push(`T${i/3} ${t}`);break}if(!l.length){for(const i of[20,19,18,17,16,15])if(e-i===r){l.push(`${i} ${t}`);break}}return l}function no(e,t,n,r,l){try{const i=window.speechSynthesis;if(!i)return;const a=new SpeechSynthesisUtterance,o=n<=170&&n>0;if(l!=null&&l.checkoutOnly&&!o)return;if(a.text=o?`${e}, you have ${n} remaining.`:`${t}`,r){const c=i.getVoices().find(u=>u.name===r);c&&(a.voice=c)}typeof(l==null?void 0:l.volume)=="number"&&(a.volume=Math.max(0,Math.min(1,l.volume))),a.rate=1,a.pitch=1,i.speak(a)}catch{}}const _m="ndn_user_settings";function ro(){try{const e=localStorage.getItem(_m);if(!e)return{favoriteDouble:"D16",callerEnabled:!0,callerVoice:"",callerVolume:1,speakCheckoutOnly:!1,avgMode:"all-time",autoStartOffline:!1,rememberLastOffline:!0,lastOffline:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!1,compactHeader:!1};const t=JSON.parse(e);return{favoriteDouble:t.favoriteDouble||"D16",callerEnabled:typeof t.callerEnabled=="boolean"?t.callerEnabled:!0,callerVoice:t.callerVoice||"",callerVolume:typeof t.callerVolume=="number"?Math.max(0,Math.min(1,t.callerVolume)):1,speakCheckoutOnly:!!t.speakCheckoutOnly,avgMode:t.avgMode==="24h"?"24h":"all-time",autoStartOffline:!!t.autoStartOffline,rememberLastOffline:typeof t.rememberLastOffline=="boolean"?t.rememberLastOffline:!0,lastOffline:t.lastOffline&&typeof t.lastOffline=="object"?{mode:t.lastOffline.mode||"X01",x01Start:Number(t.lastOffline.x01Start)||501,firstTo:Number(t.lastOffline.firstTo)||1,aiLevel:t.lastOffline.aiLevel||"None"}:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!!t.reducedMotion,compactHeader:!!t.compactHeader}}catch{return{favoriteDouble:"D16",callerEnabled:!0,callerVoice:"",callerVolume:1,speakCheckoutOnly:!1,avgMode:"all-time",autoStartOffline:!1,rememberLastOffline:!0,lastOffline:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!1,compactHeader:!1}}}function Pt(e){try{const t=ro();localStorage.setItem(_m,JSON.stringify({...t,...e}))}catch{}}const fi=di(e=>({...ro(),setFavoriteDouble:t=>{Pt({favoriteDouble:t}),e({favoriteDouble:t})},setCallerEnabled:t=>{Pt({callerEnabled:t}),e({callerEnabled:t})},setCallerVoice:t=>{Pt({callerVoice:t}),e({callerVoice:t})},setAvgMode:t=>{Pt({avgMode:t}),e({avgMode:t})},setCallerVolume:t=>{const n=Math.max(0,Math.min(1,t));Pt({callerVolume:n}),e({callerVolume:n})},setSpeakCheckoutOnly:t=>{Pt({speakCheckoutOnly:t}),e({speakCheckoutOnly:t})},setAutoStartOffline:t=>{Pt({autoStartOffline:t}),e({autoStartOffline:t})},setRememberLastOffline:t=>{Pt({rememberLastOffline:t}),e({rememberLastOffline:t})},setLastOffline:t=>{const r={...ro().lastOffline,...t};Pt({lastOffline:r}),e({lastOffline:r})},setReducedMotion:t=>{Pt({reducedMotion:t}),e({reducedMotion:t})},setCompactHeader:t=>{Pt({compactHeader:t}),e({compactHeader:t})}}));function zm({label:e,autoStart:t=!1}){const n=m.useRef(null),[r,l]=m.useState(!1),[i,a]=m.useState(null),[o,c]=m.useState(null),[u,p]=m.useState(null),[y,g]=m.useState(()=>localStorage.getItem("ndn:camera:mode")||"local"),[v,N]=m.useState(null),[w,k]=m.useState(Date.now()),[h,d]=m.useState(!1),[f,x]=m.useState(null),[j,C]=m.useState(null),[S,M]=m.useState(!0);m.useEffect(()=>{const L=window.location.hostname;(L==="localhost"||L==="127.0.0.1")&&fetch(`http://${L}:8787/api/hosts`).then(_=>_.json()).then(_=>{const $=Array.isArray(_==null?void 0:_.hosts)&&_.hosts.find(X=>X);$&&x($)}).catch(()=>{}),fetch(`${window.location.protocol}//${window.location.hostname}:8787/api/https-info`).then(_=>_.json()).then(_=>{_&&typeof _.https=="boolean"&&C({https:!!_.https,port:Number(_.port)||8788})}).catch(()=>{})},[]);const b=m.useMemo(()=>{const L=f||window.location.hostname,_=o||"____",$=!!(j!=null&&j.https),X=$?(j==null?void 0:j.port)||8788:8787;return`${$?"https":"http"}://${L}:${X}/mobile-cam.html?code=${_}`},[o,f,j]);m.useEffect(()=>{localStorage.setItem("ndn:camera:mode",y)},[y]);const[E,z]=m.useState("");m.useEffect(()=>{if(!o){z("");return}Pr.toDataURL(b,{width:160,margin:1,color:{dark:"#000000",light:"#ffffff"}}).then(z).catch(()=>z(""))},[b,o]),m.useEffect(()=>{if(!v)return;const L=setInterval(()=>k(Date.now()),1e3);return()=>clearInterval(L)},[v]);const H=m.useMemo(()=>v?Math.max(0,Math.ceil((v-w)/1e3)):null,[v,w]);m.useEffect(()=>{H!==null&&H<=0&&!h&&!r&&y==="phone"&&K()},[H,h,r,y]),m.useEffect(()=>{if(t)return Z().catch(()=>{}),()=>ce()},[t]);async function Z(){try{const L=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});n.current&&(n.current.srcObject=L,await n.current.play(),l(!0))}catch{}}function ce(){n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(_=>_.stop()),n.current.srcObject=null,l(!1))}function te(){if(i&&i.readyState===WebSocket.OPEN)return i;const L=window.location.protocol==="https:"?"wss":"ws",_=new WebSocket(`${L}://${window.location.hostname}:8787`);return a(_),_}async function Pe(){g("phone"),d(!1);const L=te();L.onopen=()=>L.send(JSON.stringify({type:"cam-create"})),L.onmessage=async _=>{const $=JSON.parse(_.data);if($.type==="cam-code")c($.code),$.expiresAt&&N($.expiresAt);else if($.type==="cam-peer-joined"){d(!0);const X=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});p(X),X.onicecandidate=he=>{he.candidate&&o&&L.send(JSON.stringify({type:"cam-ice",code:o,payload:he.candidate}))},X.ontrack=he=>{var q;if(n.current){const Se=(q=he.streams)==null?void 0:q[0];Se&&(n.current.srcObject=Se,n.current.play().catch(()=>{}),l(!0))}};const ne=await X.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!0});await X.setLocalDescription(ne),o&&L.send(JSON.stringify({type:"cam-offer",code:o,payload:ne}))}else if($.type==="cam-answer")u&&await u.setRemoteDescription(new RTCSessionDescription($.payload));else if($.type==="cam-ice"&&u)try{await u.addIceCandidate($.payload)}catch{}}}function K(){c(null),N(null),d(!1),i&&i.readyState===WebSocket.OPEN?i.send(JSON.stringify({type:"cam-create"})):Pe()}return s.jsxs("div",{className:"rounded-2xl overflow-hidden bg-black border border-slate-700 w-full",style:{aspectRatio:"3 / 2"},children:[s.jsx("video",{ref:n,className:"w-full h-full object-contain object-center bg-black"}),s.jsxs("div",{className:"p-1 flex items-center justify-between bg-black/60 text-white text-[10px] gap-1",children:[s.jsx("span",{className:"truncate",children:e||(r?y==="phone"?"PHONE LIVE":"LIVE":"Camera")}),s.jsxs("div",{className:"flex items-center gap-1",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:`px-1 py-0.5 rounded ${y==="local"?"bg-emerald-600":"bg-slate-700"}`,onClick:()=>{g("local"),Z()},children:"Local"}),s.jsx("button",{className:`px-1 py-0.5 rounded ${y==="phone"?"bg-emerald-600":"bg-slate-700"}`,onClick:Pe,children:"Phone"})]}),r?s.jsx("button",{className:"px-1 py-0.5 rounded bg-rose-600",onClick:()=>{ce(),c(null),d(!1),N(null),u&&(u.close(),p(null))},children:"Stop"}):null]})]}),y==="phone"&&o&&!r&&s.jsxs("div",{className:"p-2 text-white text-[10px] bg-black/50 border-t border-slate-700",children:[s.jsx("div",{children:"Open on your phone:"}),s.jsx("div",{className:"font-mono",children:b}),s.jsxs("div",{children:["Code: ",s.jsx("span",{className:"font-mono",children:o})]}),E&&s.jsx("img",{className:"mt-1 w-[160px] h-[160px] bg-white rounded",alt:"Scan to open",src:E}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[H!==null&&s.jsxs("span",{children:["Expires in ",H,"s"]}),s.jsx("button",{className:"px-1 py-0.5 rounded bg-slate-700",onClick:K,children:"Regenerate"})]}),S&&s.jsxs("div",{className:"mt-2 p-2 rounded bg-slate-900/60 border border-slate-700/50 text-slate-200",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Troubleshooting"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[s.jsx("li",{children:"Phone and desktop must be on the same WiFi network."}),s.jsxs("li",{children:["Allow the server through your firewall (ports 8787 and ",j!=null&&j.https?j.port:8788,")."]}),s.jsx("li",{children:"On iPhone, use HTTPS links (QR will prefer https when enabled)."})]}),s.jsx("div",{className:"mt-2 text-right",children:s.jsx("button",{className:"btn btn--ghost px-2 py-1 text-xs",onClick:()=>M(!1),children:"Hide tips"})})]})]})]})}const Hx=5,Wx={GBP:1,EUR:1.16,USD:1.26,AUD:1.92,NZD:2.08,CAD:1.73};function Fm(e,t=Hx){const n=(e||"GBP").toUpperCase(),r=Wx[n]??1,l=t*r;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:n}).format(l)}catch{return`${n} ${l.toFixed(2)}`}}function Um(){try{const e=new Intl.NumberFormat().resolvedOptions(),t=String(e.locale).toLowerCase();return t.includes("-gb")?"GBP":t.includes("-ie")||t.includes("-de")||t.includes("-fr")||t.includes("-es")||t.includes("-it")||t.includes("-nl")?"EUR":t.includes("-us")?"USD":t.includes("-au")?"AUD":t.includes("-nz")?"NZD":t.includes("-ca")?"CAD":"GBP"}catch{return"GBP"}}const Vx=e=>`ndn_stats_${e}`,Bm=e=>`ndn_stats_ts_${e}`;function Jx(e){try{const t=localStorage.getItem(Vx(e));if(!t)return{darts:0,scored:0};const n=JSON.parse(t);return{darts:Number(n.darts)||0,scored:Number(n.scored)||0}}catch{return{darts:0,scored:0}}}function gl(e){const{darts:t,scored:n}=Jx(e);return t?n/t*3:0}const $m="ndn_game_mode_stats";function cc(e){let t={};try{const n=localStorage.getItem($m);n&&(t=JSON.parse(n))}catch{}if(Array.isArray(e))for(const n of e)t[n]||(t[n]={played:0,won:0});return t}function Gx(e){try{localStorage.setItem($m,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("ndn:stats-updated",{detail:{gameModes:!0}}))}catch{}}function Qx(e,t){const n=cc(),r=n[e]||{played:0,won:0};r.played+=1,t&&(r.won+=1),n[e]=r,Gx(n)}function Hm(e){try{const t=localStorage.getItem(Bm(e));if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n.map(r=>({t:Number(r.t)||0,darts:Number(r.darts)||0,scored:Number(r.scored)||0})).filter(r=>r.t>0):[]}catch{return[]}}function Yx(e,t){try{localStorage.setItem(Bm(e),JSON.stringify(t)),window.dispatchEvent(new CustomEvent("ndn:stats-updated",{detail:{name:e}}))}catch{}}function Xx(e,t){const n=Date.now();return e.filter(r=>n-r.t<=t)}function or(e,t,n,r=Date.now()){if(t<=0)return;const l=Hm(e),i=Xx([...l,{t:r,darts:t,scored:n}],1e3*60*60*24*30);Yx(e,i)}function Kx(e,t=1e3*60*60*24){const n=Hm(e);if(!n.length)return 0;const r=Date.now();let l=0,i=0;for(const a of n)r-a.t<=t&&(l+=a.darts,i+=a.scored);return l<=0?0:i/l*3}function ss({storageKey:e,children:t,className:n,defaultWidth:r=520,defaultHeight:l,minWidth:i=360,minHeight:a=200,maxWidth:o=1100,maxHeight:c=900,fullScreen:u=!1,initialFitHeight:p=!1}){const[y,g]=m.useState(()=>{if(!u){try{const j=localStorage.getItem(e);if(j)return JSON.parse(j)}catch{}return{width:r,height:l}}return{}}),v=m.useRef(null);m.useEffect(()=>{if(u)return;function j(){var C;try{localStorage.removeItem(e)}catch{}if(p&&((C=d.current)!=null&&C.parentElement)){const S=d.current.parentElement,M=window.getComputedStyle(S),b=parseFloat(M.paddingTop||"0")||0,E=parseFloat(M.paddingBottom||"0")||0,z=Math.max(0,S.clientHeight-b-E),H=Math.max(a,Math.min(c,Math.round(z)));g({width:r,height:H});return}g({width:r,height:l})}return window.addEventListener("ndn:layout-reset",j),()=>window.removeEventListener("ndn:layout-reset",j)},[e,r,l,u]),m.useEffect(()=>{if(!u)try{localStorage.setItem(e,JSON.stringify(y))}catch{}},[y,e,u]),m.useEffect(()=>{var z;if(u||!p)return;const j=(z=d.current)==null?void 0:z.parentElement;if(!j)return;const C=window.getComputedStyle(j),S=parseFloat(C.paddingTop||"0")||0,M=parseFloat(C.paddingBottom||"0")||0,b=Math.max(0,j.clientHeight-S-M),E=Math.max(a,Math.min(c,Math.round(b)));try{const H=localStorage.getItem(e);if(H){const Z=JSON.parse(H),ce=(Z==null?void 0:Z.height)||0;(!ce||ce<E)&&g(te=>({...te,height:E}));return}}catch{}g(H=>({...H,height:E}))},[p,u,e,a,c]);function N(j,C,S){return Math.max(C,Math.min(S,j))}function w(j,C){j.preventDefault();const S=d.current;if(!S)return;const M=S.getBoundingClientRect();v.current={x:j.clientX,y:j.clientY,w:M.width,h:M.height,dir:C},window.addEventListener("mousemove",k),window.addEventListener("mouseup",h)}function k(j){var te;const C=v.current;if(!C)return;const S=j.clientX-C.x,M=j.clientY-C.y,b=C.dir;let E=C.w,z=C.h,H=1/0;const Z=(te=d.current)==null?void 0:te.parentElement;if(Z){const Pe=window.getComputedStyle(Z),K=parseFloat(Pe.paddingTop||"0")||0,L=parseFloat(Pe.paddingBottom||"0")||0;H=Math.max(0,Z.clientHeight-K-L)}const ce=Math.min(c,isFinite(H)?H:c);b.includes("e")&&(E=N(C.w+S,i,o)),b.includes("s")&&(z=N(C.h+M,a,ce)),b.includes("w")&&(E=N(C.w-S,i,o)),b.includes("n")&&(z=N(C.h-M,a,ce)),g({width:Math.round(E),height:Math.round(z)})}function h(){window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",h),v.current=null}const d=m.useRef(null),f=u?{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"}:{width:y.width?`${y.width}px`:void 0,height:y.height?`${y.height}px`:void 0,maxWidth:`${o}px`,maxHeight:"100%"},x=u?"card relative ndn-modal-full":"card relative";return s.jsxs("div",{ref:d,className:`${x} ${n||""}`,style:f,children:[t,!u&&s.jsx("div",{className:"resizer resizer-nw",onMouseDown:j=>w(j,"nw")}),!u&&s.jsx("div",{className:"resizer resizer-ne",onMouseDown:j=>w(j,"ne")}),!u&&s.jsx("div",{className:"resizer resizer-sw",onMouseDown:j=>w(j,"sw")}),!u&&s.jsx("div",{className:"resizer resizer-se",onMouseDown:j=>w(j,"se")}),!u&&s.jsx("div",{className:"resizer-edge resizer-s",onMouseDown:j=>w(j,"s")})]})}const Fu=["X01","Double Practice"],qx=["Around the Clock","Cricket","Halve It","Shanghai","Killer","Golf","Tic Tac Toe","High Score","Low Score","Treble 20","Treble 19","Treble 18","Treble 17","Treble 16","Treble 15","Treble 14","Treble 13","Treble 12","Treble 11","Treble 10","Treble 9","Treble 8","Treble 7","Treble 6","Treble 5","Treble 4","Treble 3","Treble 2","Treble 1"],Zx=["Easy","Medium","Hardened"];function ls(e,t,n){return Math.max(t,Math.min(n,e))}function ev(e,t){let n=0;if(t==="Easy"){const r=[22,26,41,45,60];n=r[Math.floor(Math.random()*r.length)]}else t==="Medium"?n=Math.round(ls(60+(Math.random()*30-15),30,100)):n=Math.round(ls(80+(Math.random()*20-10),50,120));return e<=0?0:n>e?[100,85,81,60,57,45,41,26,22,20,1].find(l=>l<=e)??0:n}function tv({onClose:e}){return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"card max-w-lg w-full relative",children:[s.jsx("button",{className:"absolute top-2 right-2 btn px-2 py-1",onClick:e,children:"Close"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"X01 Rules & Regulations"}),s.jsxs("ul",{className:"list-disc pl-5 text-left mb-2",children:[s.jsx("li",{children:"Double In: Start scoring only after hitting a double."}),s.jsx("li",{children:"Double Out: Finish the game by hitting a double to reach exactly zero."}),s.jsx("li",{children:"Best Of: Play a set number of legs, winner is first to reach majority."}),s.jsx("li",{children:"First To: Play until a player reaches a set number of legs."}),s.jsx("li",{children:"No Cheating: All scores must be valid, no manual score changes mid-leg."}),s.jsx("li",{children:"Competitive Standard: Follow latest WDF/PDC rules for match play."})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"For full details, see official darts governing body rules."})]})})}function nv({user:e}){const[t,n]=m.useState("X01"),[r,l]=m.useState(501),[i,a]=m.useState("None"),[o,c]=m.useState(!1),[u,p]=m.useState(!1),[y,g]=m.useState(r),[v,N]=m.useState(r),[w,k]=m.useState(!1),[h,d]=m.useState(!1),[f,x]=m.useState(1),[j,C]=m.useState(0),[S,M]=m.useState(0),[b,E]=m.useState(null),[z,H]=m.useState(1),[Z,ce]=m.useState(1),[te,Pe]=m.useState([]),[K,L]=m.useState(2e3),[_,$]=m.useState(!1),[X,ne]=m.useState(!0),[he,q]=m.useState(!1),[Se,ge]=m.useState(1),[de,xe]=m.useState(!0),[Ie,T]=m.useState(0),[U,ue]=m.useState(0),[oe,$e]=m.useState(0),[D,R]=m.useState(0),[V,G]=m.useState(r),[Q,J]=m.useState(0),[ee,re]=m.useState(0),[Ce,Ve]=m.useState(0);m.useRef(null);const[Je,B]=m.useState(0),[me,pe]=m.useState(0),[ut,dt]=m.useState(0),[Tt,wt]=m.useState(0),[Hn,Wn]=m.useState(0),[Vt,Is]=m.useState(0),[Ls,Ir]=m.useState(0),[Lr,Rr]=m.useState(0),[En,P]=m.useState(0),[A,Y]=m.useState(0),[se,F]=m.useState(0),[Oe,_e]=m.useState(0),[ft,Rs]=m.useState(0),[mi,Tn]=m.useState(0),[Ym,hi]=m.useState(0),[Xm,pi]=m.useState(0),[Km,gi]=m.useState(0),[qm,xi]=m.useState(0),[Zm,fc]=m.useState(0),[eh,mc]=m.useState(0),[th,vi]=m.useState(!1),[hc,yi]=m.useState(""),{favoriteDouble:nh,callerEnabled:rh,callerVoice:sh,callerVolume:lh,speakCheckoutOnly:ih,rememberLastOffline:ah,setLastOffline:oh,autoStartOffline:pc}=fi(),Vn=m.useRef(null),Jn=m.useRef(null);m.useEffect(()=>{if(!he){ge(1);return}const I=()=>{const ze=Vn.current,Dt=Jn.current;if(!ze||!Dt)return;const Ar=ze.clientHeight,Qn=Dt.getBoundingClientRect(),we=Se||1,Ne=Qn.height/we,Nt=Math.min(1,Math.max(.5,Ar/Ne));ge(Nt)};I();const ie=window.ResizeObserver,ye=ie?new ie(()=>I()):null;return ye&&Vn.current&&ye.observe(Vn.current),ye&&Jn.current&&ye.observe(Jn.current),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I);try{ye&&Vn.current&&ye.unobserve(Vn.current)}catch{}try{ye&&Jn.current&&ye.unobserve(Jn.current)}catch{}}},[he,Se]),m.useEffect(()=>{const I=ie=>{var ze;const ye=(ze=ie==null?void 0:ie.detail)==null?void 0:ze.mode;ye&&(n(ye),Gn())};return window.addEventListener("ndn:auto-start",I),()=>window.removeEventListener("ndn:auto-start",I)},[]),m.useEffect(()=>{if(!pc)return;const I=setTimeout(()=>Gn(),50);return()=>clearTimeout(I)},[pc]),m.useEffect(()=>{if(!_||de||i==="None"||Ce<=0)return;let I,ie=performance.now();const ye=ze=>{const Dt=ze-ie;ie=ze,Ve(Ar=>{const Qn=Ar-Dt;if(Qn<=0){let we=0,Ne=v;for(;we<3&&Ne>0;){const Nt=ev(Ne,i),Xe=ls(Nt-we*20,0,Math.min(60,Ne)),ji=Ne-Xe;if(pe(Xe),B(Jt=>Jt+1),Y(Jt=>Jt+1),ji<0){Ne=v,dt(0),wt(0);break}dt(Jt=>Jt+Xe),_e(Jt=>Jt+Xe);const wc=Ne,fh=ji;if(wc>50&&fh<=50?wt(1):wc<=50&&wt(Jt=>Jt+1),Ne=ji,we+=1,Ne===0)break}if(N(Ne),Ne===0){ut===180?pi(Xe=>Xe+1):ut>=140?gi(Xe=>Xe+1):ut>=100&&xi(Xe=>Xe+1);const Nt=v;Nt<=170&&mc(Xe=>Math.max(Xe,Nt)),v<=50&&(Ir(Xe=>Xe+(Tt>0?Tt:1)),Rr(Xe=>Xe+1)),dt(0),wt(0),E("ai"),d(!0)}return Ne>0&&we>=3&&(ut===180?pi(Nt=>Nt+1):ut>=140?gi(Nt=>Nt+1):ut>=100&&xi(Nt=>Nt+1),dt(0),wt(0)),xe(!0),0}return Qn}),Ce>0&&(I=requestAnimationFrame(ye))};return I=requestAnimationFrame(ye),()=>cancelAnimationFrame(I)},[_,de,i,Ce,v]);function Gn(){if(p(!0),g(r),N(r),k(!1),$(!0),xe(!0),T(0),ue(0),$e(0),R(0),G(r),J(0),re(0),Ve(0),B(0),pe(0),dt(0),E(null),C(0),M(0),Pe([]),P(0),Y(0),F(0),_e(0),Rs(0),Tn(0),hi(0),pi(0),gi(0),xi(0),fc(0),mc(0),Wn(0),Is(0),Ir(0),Rr(0),ah)try{oh({mode:t,x01Start:r,firstTo:f,aiLevel:i})}catch{}}function ch(){g(r),N(r),k(!1),$(!0),xe(!0),T(0),ue(0),$e(0),R(0),G(r),J(0),re(0),Ve(0),B(0),pe(0),dt(0),E(null)}function gc(I){R(0),G(I===0?r:y),re(0),i!=="None"?(xe(!1),Ve(K)):xe(!1)}function wi(I){const ie=y-I,ye=D+1;if($e(I),ue(we=>we+1),P(we=>we+1),ie<0){g(V),gc(V),T(0),J(0),re(0);return}g(ie),rh&&no((e==null?void 0:e.username)||"Player",I,Math.max(ie,0),sh,{volume:lh,checkoutOnly:ih}),R(ye),J(we=>we+I),F(we=>we+I),T(0);const ze=y,Dt=ie,Ar=ze>50&&Dt<=50,Qn=ze<=50;if(Ar?re(1):Qn&&re(we=>we+1),ie===0){Q+I===180?Rs(Ne=>Ne+1):Q+I>=140?Tn(Ne=>Ne+1):Q+I>=100&&hi(Ne=>Ne+1);const we=V;we<=170&&fc(Ne=>Math.max(Ne,we)),ze<=50&&(Wn(Ne=>Ne+(ee>0?ee:1)),Is(Ne=>Ne+1)),E("player"),d(!0);return}ye>=3&&(Q+I===180?Rs(we=>we+1):Q+I>=140?Tn(we=>we+1):Q+I>=100&&hi(we=>we+1),gc(ie),J(0),re(0))}function xc(){const I=ls(Math.round(Number(Ie)||0),0,60);wi(I)}function vc(){const I=hc.trim().toUpperCase();if(!I)return null;if(I==="50"||I==="BULL"||I==="DBULL"||I==="IBULL")return 50;if(I==="25"||I==="OBULL")return 25;const ie=I.match(/^(S|D|T)?\s*(\d{1,2})$/);if(!ie)return null;const ye=ie[1]||"S",ze=parseInt(ie[2],10);return ze<1||ze>20?null:ze*(ye==="S"?1:ye==="D"?2:3)}function Ni(){const I=vc();if(I==null){alert("Enter like T20, D16, 5, 25, 50");return}wi(I),yi("")}function uh(){D!==0&&(g(I=>I+oe),R(I=>Math.max(0,I-1)))}function yc(){const I=vc();if(I==null){alert("Enter like T20, D16, 5, 25, 50");return}if(D===0){Ni();return}const ie=oe;g(ye=>ye+ie),R(ye=>Math.max(0,ye-1)),setTimeout(()=>wi(I),0),yi("")}function dh(){const I=b??"player",ie=I==="player"?ee||void 0:Tt||void 0;Pe([...te,{winner:I,doubleDarts:z,checkoutDarts:Z,doublesAtt:ie,doublesHit:1}]),d(!1);let ze=j,Dt=S;if(b==="player"?ze+=1:b==="ai"&&(Dt+=1),C(ze),M(Dt),E(null),ze>=f||Dt>=f){try{Qx(t,I==="player")}catch{}$(!1),p(!1),g(r),N(r),vi(!0);return}ch()}const bi=!Fu.includes(t)&&!(e!=null&&e.fullAccess||e!=null&&e.admin);return s.jsxs("div",{className:"card relative overflow-hidden",children:[s.jsx("h2",{className:"text-2xl font-bold text-brand-700 mb-4",children:"Offline Game Modes"}),s.jsxs("div",{className:"mb-4 flex flex-col gap-3",children:[s.jsx("label",{className:"font-semibold",children:"Select game mode:"}),s.jsxs("select",{className:"input w-full",value:t,onChange:I=>n(I.target.value),children:[Fu.map(I=>s.jsx("option",{value:I,children:I},I)),qx.map(I=>s.jsxs("option",{value:I,disabled:!(e!=null&&e.fullAccess||e!=null&&e.admin),children:[I," ",e!=null&&e.fullAccess||e!=null&&e.admin?"":"(Premium)"]},I))]}),!(e!=null&&e.fullAccess)&&s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-slate-800/40 border border-slate-700/40 text-slate-200 text-sm flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Only X01 and Double Practice are free. Advanced modes (Killer, Cricket, Shanghai, etc.) require PREMIUM."})]}),t==="X01"&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"font-semibold mt-2",children:"Enter starting score (1-1001):"}),s.jsx("input",{className:"input w-full",type:"number",min:1,max:1001,value:r,onChange:I=>l(Number(I.target.value))}),s.jsx("label",{className:"font-semibold mt-2",children:"Play against AI bot?"}),s.jsxs("select",{className:"input w-full",value:i,onChange:I=>a(I.target.value),children:[s.jsx("option",{value:"None",children:"None"}),Zx.map(I=>s.jsx("option",{value:I,children:I},I))]}),i!=="None"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end mt-2",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"font-semibold",children:"AI throw delay (seconds)"}),s.jsx("input",{className:"input w-full",type:"number",min:.5,max:10,step:.5,value:K/1e3,onChange:I=>L(Math.round(Number(I.target.value)*1e3))})]}),s.jsx("div",{className:"text-sm text-slate-300",children:"Controls how long the AI waits before its visit."})]}),s.jsx("button",{className:"btn mt-2",onClick:()=>c(!0),children:"X01 Rules & Regulations!"})]}),t==="Double Practice"&&s.jsx("div",{className:"mt-2 text-brand-600",children:"Hit every double from 1 to 20 and bullseye in as few darts as possible."})]}),!u&&s.jsx("button",{className:"btn",disabled:bi,title:bi?"PREMIUM required for this mode":"",onClick:Gn,children:"Start Match"}),_&&s.jsx("div",{className:`absolute inset-0 z-[1000] ${X?"":"flex items-center justify-center p-3 sm:p-4"}`,children:s.jsx(ss,{storageKey:"ndn:modal:offline-match",className:`${X?"w-full h-full ndn-modal-tight":""} relative flex flex-col overflow-hidden`,fullScreen:X,defaultWidth:1100,defaultHeight:720,minWidth:720,minHeight:480,maxWidth:1600,maxHeight:1200,initialFitHeight:!0,children:s.jsxs("div",{className:"flex-1 min-h-0 overflow-x-hidden pr-1 pt-3 pb-6 md:pb-8",style:{overflowY:he?"hidden":"auto"},ref:I=>{Vn.current=I},children:[s.jsxs("div",{className:"sticky top-0 relative overflow-hidden flex items-center justify-between gap-2 mb-3 px-3 py-2.5 rounded-xl bg-white/10 border border-white/10 z-10 backdrop-blur-sm",children:[s.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-slate-900/30 via-slate-900/10 to-transparent"}),s.jsxs("div",{className:"flex items-center gap-2 text-base leading-none whitespace-nowrap",children:[s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-500/20 text-indigo-200 border border-indigo-400/30 font-semibold text-xs",children:"Game Mode"}),s.jsxs("span",{className:"font-bold",children:[t,t==="X01"?` / ${r}`:""]}),s.jsxs("span",{className:"text-sm opacity-70",children:["First to ",f,"  Legs ",j,"-",S]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn--ghost",title:he?"Actual Size":"Fit All",onClick:()=>q(I=>!I),children:he?"Actual Size":"Fit All"}),s.jsx("button",{className:"btn btn--ghost",title:X?"Restore":"Maximize",onClick:()=>ne(I=>!I),children:X?"Restore":"Maximize"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>{Gn()},children:"Restart"}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:()=>{$(!1),p(!1)},children:"Quit"})]})]}),s.jsxs("div",{ref:I=>{Jn.current=I},className:"will-change-transform",style:he?{transform:`scale(${Se})`,transformOrigin:"top center",width:"100%"}:void 0,children:[s.jsx("h3",{className:"text-xl font-bold mb-2 mt-2",children:t==="Double Practice"?"Double Practice":"X01 Match"}),s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs flex-wrap",children:[s.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/10",children:["Mode: ",t]}),s.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/10",children:["Start: ",r]}),s.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-0.5 rounded-full bg-white/10 border border-white/10",children:[s.jsx("span",{children:"Format:"}),s.jsx("select",{className:"bg-transparent outline-none text-white",value:f,onChange:I=>x(parseInt(I.target.value,10)),disabled:y!==r||v!==r||D>0,children:[1,2,3,4,5].map(I=>s.jsxs("option",{value:I,children:["First to ",I]},I))})]}),s.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/10",children:["Legs: ",j,"",S]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:[grid-template-columns:1fr_1.5fr_1fr] gap-3 mb-3 items-start min-w-0",children:[s.jsxs("div",{className:"p-3 rounded-2xl glass text-white border border-white/10 min-w-0",children:[s.jsxs("div",{className:"text-xs text-slate-600 flex items-center justify-between",children:[s.jsx("span",{className:"opacity-80",children:"You Remain"}),de?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold",children:"THROWING"}):s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold",children:"WAITING TO THROW"})]}),s.jsx("div",{className:"text-3xl font-extrabold tracking-tight",children:y}),s.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400/70",style:{width:`${Math.max(0,Math.min(100,(1-y/r)*100))}%`}})}),s.jsxs("div",{className:"text-sm mt-1 opacity-90",children:["Last dart: ",s.jsx("span",{className:"font-semibold",children:oe})]}),s.jsxs("div",{className:"text-sm opacity-90",children:["3-Dart Avg: ",s.jsx("span",{className:"font-semibold",children:U>0?((r-y)/U*3).toFixed(1):"0.0"})]}),s.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[s.jsxs("span",{children:["Darts thrown: ",U]}),s.jsx("span",{className:"inline-flex items-center gap-1","aria-label":"Visit darts",children:[0,1,2].map(I=>s.jsx("span",{className:`w-2 h-2 rounded-full ${I<D?"bg-emerald-400":"bg-white/20"}`},I))})]}),s.jsxs("div",{className:"text-xs opacity-80 mt-1",children:["Doubles: ",s.jsxs("span",{className:"font-semibold",children:["Att ",Hn,"  Hit ",Vt]})]}),y<=170&&y>0&&(()=>{const ie=Om(y,nh)[0]||"";return s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 text-white text-sm",children:[s.jsx("span",{className:"opacity-70",children:"Checkout"}),s.jsx("span",{className:"font-semibold",children:ie})]})})()]}),s.jsx("div",{className:"flex items-stretch justify-center md:px-4 min-w-0",children:s.jsx("div",{className:"w-full max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl min-w-0",children:s.jsx(zm,{label:"Your Board",autoStart:!1})})}),s.jsxs("div",{className:"p-3 rounded-2xl glass text-white border border-white/10 min-w-0",children:[s.jsxs("div",{className:"text-xs flex items-center justify-between opacity-80",children:[s.jsxs("span",{children:[i==="None"?"Opponent":`${i} AI`," Remain"]}),de?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-200 text-xs font-bold",children:"WAITING TO THROW"}):s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-bold",children:"THROWING"})]}),s.jsx("div",{className:"text-3xl font-extrabold tracking-tight",children:i!=="None"?v:"N/A"}),i!=="None"&&s.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full mt-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-fuchsia-400/70",style:{width:`${Math.max(0,Math.min(100,(1-v/r)*100))}%`}})}),s.jsxs("div",{className:"text-sm mt-1 opacity-90",children:["Last dart: ",s.jsx("span",{className:"font-semibold",children:i==="None"?0:me})]}),s.jsxs("div",{className:"text-sm opacity-90",children:["3-Dart Avg: ",s.jsx("span",{className:"font-semibold",children:i!=="None"?Je>0?((r-v)/Je*3).toFixed(1):"0.0":""})]}),i!=="None"&&s.jsxs("div",{className:"text-xs opacity-70",children:["Darts thrown: ",Je]}),i!=="None"&&s.jsxs("div",{className:"text-xs opacity-80 mt-1",children:["Doubles: ",s.jsxs("span",{className:"font-semibold",children:["Att ",Ls,"  Hit ",Lr]})]})]})]}),t==="Double Practice"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:"Aim for doubles 120 and bull"}),s.jsx("div",{className:"text-sm opacity-80",children:"This is a placeholder flow using manual darts like X01; we can add the full progression next."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input w-28",type:"number",min:0,max:60,value:Ie,onChange:I=>T(Number(I.target.value||0))}),s.jsx("button",{className:"btn",onClick:()=>{const I=ls(Math.round(Number(Ie)||0),0,60);$e(I),ue(ie=>ie+1),T(0)},children:"Add Dart"})]})]}):de?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-semibold",children:"Your Turn"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input w-28",type:"number",min:0,max:60,value:Ie,onChange:I=>T(Number(I.target.value||0)),onKeyDown:I=>{I.key==="Enter"&&(I.shiftKey?uh():xc())}}),s.jsx("button",{className:"btn",onClick:xc,children:"Add Dart"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input w-48",placeholder:"Manual (T20, D16, 5, 25, 50)",value:hc,onChange:I=>yi(I.target.value),onKeyDown:I=>{I.key==="Enter"&&(I.shiftKey?yc():Ni())}}),s.jsx("button",{className:"btn btn--ghost",onClick:yc,disabled:D===0,children:"Replace Last"}),s.jsx("button",{className:"btn",onClick:Ni,children:"Add"})]})]}),s.jsx("div",{className:"text-xs text-slate-300",children:"Tip: Enter to Add  Shift+Enter to Replace Last"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"font-semibold",children:[i==="None"?"Opponent":`${i} AI`," Turn"]}),i!=="None"?s.jsxs("div",{className:"text-sm text-slate-300",children:["Throwing in ",Math.ceil(Ce/1e3),"s..."]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"btn",onClick:()=>xe(!0),children:"Switch Back to You"})})]}),s.jsx("div",{className:"h-1"})]})]})})}),o&&s.jsx(tv,{onClose:()=>c(!1)}),bi&&s.jsxs("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-slate-900/40"}),s.jsxs("div",{className:"relative z-10 p-4 rounded-xl bg-black/60 border border-slate-700 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-semibold",children:"Premium mode locked"}),s.jsx("div",{className:"text-sm text-slate-200/80",children:"Upgrade to PREMIUM to play modes like Killer, Cricket, Shanghai, and more."}),s.jsxs("a",{href:"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk",target:"_blank",rel:"noopener noreferrer",className:"btn mt-3 bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold",children:["Upgrade to PREMIUM  ",Fm(Um(),5)]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs(ss,{storageKey:"ndn:modal:offline-win",className:"w-full relative",defaultWidth:420,defaultHeight:360,minWidth:360,minHeight:300,maxWidth:800,maxHeight:700,children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Leg Won!"}),s.jsx("label",{className:"block mb-1",children:"Darts to hit double:"}),s.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3].map(I=>s.jsx("button",{className:`btn ${z===I?"bg-brand-600":""}`,onClick:()=>H(I),children:I},I))}),s.jsx("label",{className:"block mb-1",children:"Darts for checkout:"}),s.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3].map(I=>s.jsx("button",{className:`btn ${Z===I?"bg-brand-600":""}`,onClick:()=>ce(I),children:I},I))}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mt-2",children:[s.jsx("button",{className:"btn w-full",onClick:dh,children:"Submit"}),s.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700 w-full",onClick:()=>{d(!1),Gn()},children:"Rematch"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800 w-full",onClick:()=>{d(!1),$(!1),p(!1)},children:"Back to Menu"})]})]})}),th&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",children:s.jsxs(ss,{storageKey:"ndn:modal:offline-summary",className:"w-full relative",defaultWidth:820,defaultHeight:520,minWidth:600,minHeight:400,maxWidth:1400,maxHeight:1e3,children:[s.jsx("h3",{className:"text-xl font-extrabold mb-2",children:"Match Summary"}),s.jsxs("div",{className:"text-xs opacity-80 mb-3",children:[t,"  ",r," start  First to ",f]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-2xl glass border border-white/10",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"You"}),s.jsx("div",{className:"text-3xl font-extrabold",children:j}),s.jsx("div",{className:"text-xs opacity-80",children:"Legs Won"}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"3-Dart Avg"}),s.jsx("div",{className:"font-semibold",children:En>0?(se/En*3).toFixed(1):"0.0"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"1-Dart Avg"}),s.jsx("div",{className:"font-semibold",children:En>0?(se/En).toFixed(2):"0.00"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"180s"}),s.jsx("div",{className:"font-semibold",children:ft})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"140+"}),s.jsx("div",{className:"font-semibold",children:mi})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"100+"}),s.jsx("div",{className:"font-semibold",children:Ym})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"High Checkout"}),s.jsx("div",{className:"font-semibold",children:Zm||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"Dbl Att"}),s.jsx("div",{className:"font-semibold",children:Hn})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"Dbl Hit"}),s.jsx("div",{className:"font-semibold",children:Vt})]})]})]}),s.jsx("div",{className:"hidden md:flex items-center justify-center",children:s.jsxs("div",{className:"text-4xl font-black",children:[j,"  ",S]})}),s.jsxs("div",{className:"p-3 rounded-2xl glass border border-white/10",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:i==="None"?"Opponent":`${i} AI`}),s.jsx("div",{className:"text-3xl font-extrabold",children:S}),s.jsx("div",{className:"text-xs opacity-80",children:"Legs Won"}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"3-Dart Avg"}),s.jsx("div",{className:"font-semibold",children:A>0?(Oe/A*3).toFixed(1):"0.0"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"1-Dart Avg"}),s.jsx("div",{className:"font-semibold",children:A>0?(Oe/A).toFixed(2):"0.00"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"180s"}),s.jsx("div",{className:"font-semibold",children:Xm})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"140+"}),s.jsx("div",{className:"font-semibold",children:Km})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"100+"}),s.jsx("div",{className:"font-semibold",children:qm})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"High Checkout"}),s.jsx("div",{className:"font-semibold",children:eh||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"Dbl Att"}),s.jsx("div",{className:"font-semibold",children:Ls})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:"Dbl Hit"}),s.jsx("div",{className:"font-semibold",children:Lr})]})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Legs Timeline"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:te.map((I,ie)=>s.jsxs("div",{className:`px-3 py-1 rounded-full border text-xs ${I.winner==="player"?"bg-emerald-500/15 border-emerald-400/30":"bg-fuchsia-500/15 border-fuchsia-400/30"}`,children:["Leg ",ie+1,": ",I.winner==="player"?"You":i==="None"?"Opp":"AI","  Dbl ",I.doubleDarts,"  CO ",I.checkoutDarts]},ie))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>vi(!1),children:"Close"}),s.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:()=>{vi(!1),Gn()},children:"Rematch"})]})]})}),te.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Leg Stats"}),s.jsx("ul",{children:te.map((I,ie)=>s.jsxs("li",{children:["Leg ",ie+1,": Double darts: ",I.doubleDarts,", Checkout darts: ",I.checkoutDarts]},ie))})]})]})}let rv=1;const so=di(e=>({toasts:[],push:(t,n)=>e(r=>{const l=rv++,i={id:l,message:t,type:(n==null?void 0:n.type)||"info",timeout:(n==null?void 0:n.timeout)??3e3};return i.timeout&&i.timeout>0&&setTimeout(()=>{e(a=>({toasts:a.toasts.filter(o=>o.id!==l)}))},i.timeout),{toasts:[...r.toasts,i]}}),remove:t=>e(n=>({toasts:n.toasts.filter(r=>r.id!==t)})),clear:()=>e({toasts:[]})}));function uc(){return so(t=>t.push)}function sv(e){if(!e)return"";const t=Math.floor((Date.now()-e)/1e3);if(t<60)return`${t}s ago`;const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function lv({user:e}){const t=uc(),n=String((e==null?void 0:e.email)||"").toLowerCase(),[r,l]=m.useState([]),[i,a]=m.useState([]),[o,c]=m.useState([]),[u,p]=m.useState(""),[y,g]=m.useState("all"),[v,N]=m.useState(!1);async function w(){if(n)try{const[x,j]=await Promise.all([fetch(`/api/friends/list?email=${encodeURIComponent(n)}`).then(C=>C.json()),fetch(`/api/friends/suggested?email=${encodeURIComponent(n)}`).then(C=>C.json())]);l(x.friends||[]),a(j.suggestions||[])}catch{}}m.useEffect(()=>{w()},[n]);async function k(x){if(p(x),!x){c([]);return}try{const C=await(await fetch(`/api/friends/search?q=${encodeURIComponent(x)}`)).json();c(C.results||[])}catch{}}async function h(x){if(!(!n||!x)){N(!0);try{await fetch("/api/friends/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,friend:x})}),await w(),p(""),c([]),t("Friend added",{type:"success"})}finally{N(!1)}}}async function d(x){if(!(!n||!x)){N(!0);try{await fetch("/api/friends/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,friend:x})}),await w(),t("Friend removed",{type:"info"})}finally{N(!1)}}}const f=m.useMemo(()=>y==="all"?r:r.filter(x=>(x.status||"offline")===y),[r,y]);return s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold text-brand-700 mb-2",children:"Friends"}),s.jsx("p",{className:"mb-2 text-brand-600",children:"Manage your friends. See whos online, in-game, or offline; find new teammates; and invite people to play."}),s.jsxs("div",{className:"text-xs opacity-70 mb-3",children:["Online: ",r.filter(x=>x.status==="online").length,"  In-game: ",r.filter(x=>x.status==="ingame").length,"  Offline: ",r.filter(x=>!x.status||x.status==="offline").length]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:"md:col-span-2 p-3 rounded-xl bg-slate-50/10 border border-slate-200/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Your Friends"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`btn ${y==="all"?"bg-brand-600":""}`,onClick:()=>g("all"),children:"All"}),s.jsx("button",{className:`btn ${y==="online"?"bg-brand-600":""}`,onClick:()=>g("online"),children:"Online"}),s.jsx("button",{className:`btn ${y==="ingame"?"bg-brand-600":""}`,onClick:()=>g("ingame"),children:"In-Game"}),s.jsx("button",{className:`btn ${y==="offline"?"bg-brand-600":""}`,onClick:()=>g("offline"),children:"Offline"})]})]}),s.jsxs("ul",{className:"space-y-2",children:[f.map(x=>s.jsxs("li",{className:"p-2 rounded bg-black/20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${x.status==="online"?"bg-emerald-400":x.status==="ingame"?"bg-amber-400":"bg-slate-400"}`}),s.jsx("span",{className:"font-semibold",children:x.username||x.email}),s.jsxs("span",{className:"text-xs opacity-70",children:[x.status||"offline",x.status!=="online"&&x.lastSeen?`  ${sv(x.lastSeen)}`:""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn",disabled:v||x.status!=="online"&&x.status!=="ingame",onClick:async()=>{N(!0);try{const C=await(await fetch("/api/friends/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromEmail:n,toEmail:x.email,game:"X01",mode:"bestof",value:3,startingScore:501})})).json().catch(()=>({}));C!=null&&C.delivered?t("Invite sent",{type:"success"}):t("Friend is offline; invite queued",{type:"info"})}finally{N(!1)}},children:"Invite"}),s.jsx("button",{className:"btn",disabled:v,onClick:async()=>{const j=prompt("Message:");if(j){N(!0);try{await fetch("/api/friends/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromEmail:n,toEmail:x.email,message:j})}),t("Message sent",{type:"success"})}finally{N(!1)}}},children:"Message"}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",disabled:v,onClick:()=>d(x.email),children:"Remove"})]})]},x.email)),f.length===0&&s.jsxs("li",{className:"text-sm opacity-70",children:["No friends ",y!=="all"?`in ${y}`:""," yet."]})]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-slate-50/10 border border-slate-200/20",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Find Friends"}),s.jsx("input",{className:"input w-full mb-2",placeholder:"Search by name or email",value:u,onChange:x=>k(x.target.value)}),s.jsxs("ul",{className:"space-y-1 mb-3 max-h-48 overflow-auto",children:[o.map(x=>s.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-black/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${x.status==="online"?"bg-emerald-400":x.status==="ingame"?"bg-amber-400":"bg-slate-400"}`}),s.jsx("span",{children:x.username||x.email})]}),s.jsx("button",{className:"btn",disabled:v,onClick:()=>h(x.email),children:"Add"})]},x.email)),o.length===0&&s.jsx("li",{className:"text-xs opacity-60",children:"Type to search"})]}),s.jsx("div",{className:"font-semibold mb-1",children:"Suggested"}),s.jsxs("ul",{className:"space-y-1 max-h-48 overflow-auto",children:[i.map(x=>s.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-black/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${x.status==="online"?"bg-emerald-400":x.status==="ingame"?"bg-amber-400":"bg-slate-400"}`}),s.jsx("span",{children:x.username||x.email})]}),s.jsx("button",{className:"btn",disabled:v,onClick:()=>h(x.email),children:"Add"})]},x.email)),i.length===0&&s.jsx("li",{className:"text-xs opacity-60",children:"No suggestions right now."})]})]})]})]})}function iv(){const e=so(n=>n.toasts),t=so(n=>n.remove);return e.length?s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(n=>s.jsx("div",{className:`p-3 rounded-lg shadow-lg border text-sm ${n.type==="error"?"bg-rose-700/80 border-rose-500/60 text-white":n.type==="success"?"bg-emerald-700/80 border-emerald-500/60 text-white":"bg-black/70 border-slate-700 text-slate-100"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex-1",children:n.message}),s.jsx("button",{className:"btn btn--ghost px-2 py-1 text-xs",onClick:()=>t(n.id),children:"Dismiss"})]})},n.id))}):null}function lo({data:e,height:t=220,barWidth:n=28,gap:r=6,showValues:l=!1}){const i=Math.max(1,...e.map(o=>o.value)),a=e.length*(n+r);return s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx("div",{className:"relative",style:{height:t,width:Math.max(600,a)},children:s.jsx("div",{className:"absolute inset-0 flex items-end",children:e.map((o,c)=>{const u=Math.round(o.value/i*(t-40));return s.jsxs("div",{className:"flex flex-col items-center justify-end",style:{width:n,marginRight:r},children:[s.jsx("div",{className:"w-full rounded-t-md bg-gradient-to-b from-indigo-400 to-fuchsia-500 shadow-sm",style:{height:u},title:`${o.label}: ${o.value}`}),l&&s.jsx("div",{className:"text-[10px] mt-1 opacity-80",children:o.value}),s.jsx("div",{className:"text-[10px] mt-1 opacity-70 select-none",children:o.label})]},c)})})})})}const av=["X01","Double Practice"],sn=["Around the Clock","Cricket","Halve It","Shanghai","High-Low","Killer"],Er=[...av,...sn],Uu="daviesfamily108@gmail.com";function Wm({user:e}){var de,xe,Ie;const[t,n]=m.useState([]),[r,l]=m.useState(""),[i,a]=m.useState(null),[o,c]=m.useState(""),[u,p]=m.useState(!1),[y,g]=m.useState([]),[v,N]=m.useState([]),[w,k]=m.useState({title:"Official Tournament",game:"X01",mode:"bestof",value:3,description:"",startAt:new Date(Date.now()+2*60*60*1e3).toISOString().slice(0,16),checkinMinutes:30,capacity:16,prizeType:"premium",prizeAmount:0,currency:"GBP",prizeNotes:""}),[h,d]=m.useState({reset:{},reminder:{},confirmEmail:{},changed:{}}),[f,x]=m.useState({open:!1}),j=((de=e==null?void 0:e.email)==null?void 0:de.toLowerCase())===Uu,[C,S]=m.useState(0);m.useEffect(()=>{const T=()=>S(U=>U+1);return window.addEventListener("ndn:stats-updated",T),()=>window.removeEventListener("ndn:stats-updated",T)},[]);const M=m.useMemo(()=>cc(Er),[C]),b=m.useMemo(()=>Er.map(T=>{var U,ue;return{label:T,value:((U=M[T])==null?void 0:U.played)||0,won:((ue=M[T])==null?void 0:ue.won)||0}}),[M]);async function E(){try{const U=await(await fetch("/api/admins")).json();if(n(Array.isArray(U.admins)?U.admins:[]),j){const ue=await fetch(`/api/admin/status?requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`);ue.ok&&a(await ue.json());const oe=await fetch(`/api/admin/tournaments?requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`);if(oe.ok){const D=await oe.json();g(Array.isArray(D.tournaments)?D.tournaments:[])}const $e=await fetch(`/api/admin/wallet/withdrawals?requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`);if($e.ok){const D=await $e.json();N(Array.isArray(D.withdrawals)?D.withdrawals:[])}}}catch{}}m.useEffect(()=>{E()},[]);async function z(){r&&(await fetch("/api/admins/grant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,requesterEmail:e==null?void 0:e.email})}),l(""),E())}async function H(T){await fetch("/api/admins/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:T,requesterEmail:e==null?void 0:e.email})}),E()}async function Z(T){p(!0);try{await fetch("/api/admin/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:T,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function ce(){if(o.trim()){p(!0);try{await fetch("/api/admin/announce",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o,requesterEmail:e==null?void 0:e.email})}),c(""),await E()}finally{p(!1)}}}async function te(T){p(!0);try{await fetch("/api/admin/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullAccess:T,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function Pe(){p(!0);try{const T=new Date(w.startAt).getTime();await fetch("/api/tournaments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w.title,game:w.game,mode:w.mode,value:Number(w.value),description:w.description,startAt:T,checkinMinutes:Number(w.checkinMinutes),capacity:Number(w.capacity),creatorEmail:e==null?void 0:e.email,creatorName:e==null?void 0:e.username,requesterEmail:e==null?void 0:e.email,official:!0,prizeType:w.prizeType,prizeAmount:Number(w.prizeAmount||0),currency:w.currency,prizeNotes:w.prizeNotes})}),await E()}finally{p(!1)}}async function K(T,U){p(!0);try{await fetch("/api/admin/tournaments/winner",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:T,winnerEmail:U,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function L(T){p(!0);try{await fetch("/api/admin/tournaments/mark-paid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:T,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function _(T){p(!0);try{await fetch("/api/admin/tournaments/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:T,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function $(){p(!0);try{await fetch("/api/admin/tournaments/reseed-weekly",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function X(T,U){p(!0);try{await fetch("/api/admin/wallet/withdrawals/decide",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:T,approve:U,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function ne(T){p(!0);try{await fetch("/api/admin/matches/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:T,requesterEmail:e==null?void 0:e.email})}),await E()}finally{p(!1)}}async function he(){try{const T=await fetch(`/api/admin/email-copy?requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`);if(T.ok){const U=await T.json();U!=null&&U.ok&&d(U.copy||h)}}catch{}}m.useEffect(()=>{j&&he()},[j]);async function q(T,U){await fetch("/api/admin/email-copy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requesterEmail:e==null?void 0:e.email,kind:T,...U})}),await he()}async function Se(T){try{const ue=await(await fetch(`/api/email/preview?kind=${encodeURIComponent(T)}&requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`)).text();x({open:!0,kind:T,html:ue})}catch{x({open:!0,kind:T,html:'<!doctype html><html><body style="font-family:sans-serif;padding:16px">Failed to load preview.</body></html>'})}}m.useEffect(()=>{if(!f.open)return;function T(U){U.key==="Escape"&&x({open:!1})}return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[f.open]);function ge({kind:T,label:U}){const ue=T==="confirm-email"?"confirmEmail":T==="changed"?"changed":T,oe=(h==null?void 0:h[ue])||{title:"",intro:"",buttonLabel:""},[$e,D]=m.useState(oe.title||""),[R,V]=m.useState(oe.intro||""),[G,Q]=m.useState(oe.buttonLabel||"");return m.useEffect(()=>{D(oe.title||""),V(oe.intro||""),Q(oe.buttonLabel||"")},[oe.title,oe.intro,oe.buttonLabel]),s.jsxs("div",{className:"p-2 rounded bg-black/20 space-y-2",children:[s.jsx("div",{className:"font-semibold",children:U}),s.jsx("input",{className:"input w-full",placeholder:"Title (optional)",value:$e,onChange:J=>D(J.target.value)}),s.jsx("textarea",{className:"input w-full",rows:2,placeholder:"Intro line (optional)",value:R,onChange:J=>V(J.target.value)}),s.jsx("input",{className:"input w-full",placeholder:"Button label (optional)",value:G,onChange:J=>Q(J.target.value)}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("a",{className:"btn",href:`/api/email/preview?kind=${encodeURIComponent(T)}&requesterEmail=${encodeURIComponent((e==null?void 0:e.email)||"")}`,target:"_blank",rel:"noreferrer",children:"Preview"}),s.jsx("button",{className:"btn",type:"button",onClick:()=>Se(T),children:"Popup"}),s.jsx("button",{className:"btn",onClick:()=>q(T,{title:$e,intro:R,buttonLabel:G}),children:"Save"})]})]})}return j?s.jsxs("div",{className:"space-y-4",children:[j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Game Usage"}),s.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Bar height shows total plays per mode. Wins are listed under each label. This helps decide which modes to keep or iterate on."}),s.jsxs("div",{className:"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3",children:[s.jsx(lo,{data:b.map(T=>({label:T.label,value:T.value}))}),s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 text-[11px] opacity-80",children:b.map((T,U)=>s.jsxs("div",{className:"flex items-center justify-between px-2 py-1 rounded-md bg-white/5 border border-white/10",children:[s.jsx("span",{className:"truncate mr-2",children:T.label}),s.jsxs("span",{className:"whitespace-nowrap",children:["Played ",T.value,"  Won ",T.won]})]},U))})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control"}),s.jsx("div",{className:"text-sm opacity-80 mb-3",children:"Grant or revoke Admin to trusted users. Only the owner can perform these actions."}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{className:"input flex-1",placeholder:"user@example.com",value:r,onChange:T=>l(T.target.value)}),s.jsx("button",{className:"btn",onClick:z,disabled:!r,children:"Grant Admin"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Current Admins"}),s.jsxs("ul",{className:"space-y-1",children:[t.map(T=>s.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-black/20",children:[s.jsx("span",{children:T}),T.toLowerCase()!==Uu&&s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:()=>H(T),children:"Revoke"})]},T)),t.length===0&&s.jsx("li",{className:"text-sm opacity-60",children:"No admins yet."})]})]})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Server status"}),i!=null&&i.ok?s.jsxs("div",{className:"text-sm grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:["Clients: ",s.jsx("span",{className:"font-semibold",children:i.server.clients})]}),s.jsxs("div",{children:["Open matches: ",s.jsx("span",{className:"font-semibold",children:i.server.matches})]}),s.jsxs("div",{children:["Rooms: ",s.jsx("span",{className:"font-semibold",children:i.server.rooms})]}),s.jsxs("div",{children:["Premium: ",s.jsx("span",{className:"font-semibold",children:i.server.premium?"ON":"OFF"})]}),s.jsxs("div",{children:["Maintenance: ",s.jsx("span",{className:"font-semibold",children:i.server.maintenance?"ON":"OFF"})]})]}):s.jsx("div",{className:"text-sm opacity-70",children:"Loading"})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Operations"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-3",children:[s.jsx("button",{className:"btn",disabled:u,onClick:()=>{var T;return Z(!((T=i==null?void 0:i.server)!=null&&T.maintenance))},children:(xe=i==null?void 0:i.server)!=null&&xe.maintenance?"Disable Maintenance":"Enable Maintenance"}),s.jsx("button",{className:"btn",disabled:u,onClick:()=>{var T;return te(!((T=i==null?void 0:i.server)!=null&&T.premium))},children:(Ie=i==null?void 0:i.server)!=null&&Ie.premium?"Disable PREMIUM":"Enable PREMIUM"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"input flex-1",placeholder:"Announcement message",value:o,onChange:T=>c(T.target.value)}),s.jsx("button",{className:"btn",disabled:u||!o.trim(),onClick:ce,children:"Broadcast"})]})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Tournaments Management"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-2",children:"Create Official"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{className:"input w-full",placeholder:"Title",value:w.title,onChange:T=>k(U=>({...U,title:T.target.value}))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("select",{className:"input",value:w.game,onChange:T=>k(U=>({...U,game:T.target.value})),children:["X01","Around the Clock","Cricket","Halve It","Shanghai","High-Low"].map(T=>s.jsx("option",{value:T,children:T},T))}),s.jsxs("select",{className:"input",value:w.mode,onChange:T=>k(U=>({...U,mode:T.target.value})),children:[s.jsx("option",{value:"bestof",children:"Best of"}),s.jsx("option",{value:"firstto",children:"First to"})]}),s.jsx("input",{className:"input",type:"number",min:1,value:w.value,onChange:T=>k(U=>({...U,value:Number(T.target.value)}))})]}),s.jsx("textarea",{className:"input w-full",rows:2,placeholder:"Description",value:w.description,onChange:T=>k(U=>({...U,description:T.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{className:"input",type:"datetime-local",value:w.startAt,onChange:T=>k(U=>({...U,startAt:T.target.value}))}),s.jsx("input",{className:"input",type:"number",min:0,value:w.checkinMinutes,onChange:T=>k(U=>({...U,checkinMinutes:Number(T.target.value)}))})]}),s.jsx("input",{className:"input w-full",type:"number",min:6,max:64,value:w.capacity,onChange:T=>k(U=>({...U,capacity:Number(T.target.value)}))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[s.jsxs("select",{className:"input",value:w.prizeType,onChange:T=>k(U=>({...U,prizeType:T.target.value})),children:[s.jsx("option",{value:"premium",children:"PREMIUM month"}),s.jsx("option",{value:"cash",children:"Cash"})]}),s.jsx("input",{className:"input",type:"number",min:0,disabled:w.prizeType!=="cash",value:w.prizeAmount,onChange:T=>k(U=>({...U,prizeAmount:Number(T.target.value)}))}),s.jsxs("select",{className:"input",disabled:w.prizeType!=="cash",value:w.currency,onChange:T=>k(U=>({...U,currency:T.target.value})),children:[s.jsx("option",{value:"GBP",children:"GBP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"CAD",children:"CAD"}),s.jsx("option",{value:"AUD",children:"AUD"})]})]}),s.jsx("input",{className:"input w-full",placeholder:"Prize notes (optional)",value:w.prizeNotes,onChange:T=>k(U=>({...U,prizeNotes:T.target.value}))}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn",disabled:u,onClick:Pe,children:"Create"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-2",children:"Existing"}),s.jsxs("ul",{className:"space-y-2",children:[y.map(T=>s.jsxs("li",{className:"p-2 rounded bg-black/20 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:T.title}),s.jsx("div",{className:"opacity-70",children:T.status})]}),s.jsxs("div",{className:"opacity-80",children:[T.game,"  ",T.mode==="firstto"?"FT":"BO"," ",T.value,"  ",new Date(T.startAt).toLocaleString(),"  ",T.capacity," cap"]}),T.prize&&s.jsxs("div",{className:"text-xs mt-1",children:["Prize: ",T.prizeType==="cash"&&T.prizeAmount?`${T.currency||"USD"} ${T.prizeAmount}`:"1 month PREMIUM"," ",T.prizeType==="cash"&&T.status==="completed"&&T.payoutStatus&&s.jsx("span",{className:`ml-2 px-1.5 py-0.5 rounded ${T.payoutStatus==="paid"?"bg-emerald-600":"bg-amber-600"}`,children:T.payoutStatus})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Withdrawals"}),s.jsxs("ul",{className:"space-y-2",children:[v.map(U=>s.jsxs("li",{className:"p-2 rounded bg-black/20 text-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono text-xs",children:U.id}),s.jsxs("div",{children:[U.email,"  ",U.currency," ",(U.amountCents/100).toFixed(2)]}),s.jsxs("div",{className:"opacity-70",children:[U.status,"  ",new Date(U.requestedAt).toLocaleString()]})]}),s.jsx("div",{className:"flex gap-2",children:U.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",disabled:u,onClick:()=>X(U.id,!0),children:"Approve"}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",disabled:u,onClick:()=>X(U.id,!1),children:"Reject"})]})})]},U.id)),v.length===0&&s.jsx("li",{className:"opacity-60",children:"No withdrawal requests."})]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx("button",{className:"btn",disabled:u||T.status!=="scheduled",onClick:()=>K(T.id,prompt("Winner email?")||""),children:"Set Winner"}),T.prizeType==="cash"&&T.status==="completed"&&T.payoutStatus!=="paid"&&s.jsx("button",{className:"btn",disabled:u,onClick:()=>L(T.id),children:"Mark Paid"}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",disabled:u,onClick:()=>_(T.id),children:"Delete"})]})]},T.id)),y.length===0&&s.jsx("li",{className:"opacity-60",children:"No tournaments."})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"btn",disabled:u,onClick:$,children:"Reseed Weekly Giveaway"})})]})]})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Open Matches"}),s.jsxs("ul",{className:"space-y-1",children:[((i==null?void 0:i.matches)||[]).map(T=>s.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-black/20 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-mono text-xs",children:T.id}),s.jsx("span",{className:"opacity-80",children:T.creatorName}),s.jsxs("span",{className:"opacity-60",children:[T.game," ",T.mode==="firstto"?"FT":"BO"," ",T.value," ",T.game==="X01"?`/${T.startingScore}`:""]})]}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",disabled:u,onClick:()=>ne(T.id),children:"Remove"})]},T.id)),(!(i!=null&&i.matches)||i.matches.length===0)&&s.jsx("li",{className:"text-sm opacity-60",children:"No open matches."})]})]}),j&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Email Templates"}),s.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Customize titles, intro lines, and button text. Previews open in a new tab or as a popup."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(ge,{kind:"reset",label:"Password reset"}),s.jsx(ge,{kind:"reminder",label:"Password reset reminder"}),s.jsx(ge,{kind:"confirm-email",label:"Confirm new email"}),s.jsx(ge,{kind:"changed",label:"Password changed notice"})]})]}),f.open&&s.jsxs("div",{className:"fixed inset-0 z-[1000]",onClick:()=>x({open:!1}),children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsx("div",{className:"absolute inset-0 p-4 md:p-8 overflow-auto flex items-start md:items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-3xl bg-[#0b1020] rounded-2xl border border-indigo-500/40 shadow-2xl",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-indigo-500/20",children:[s.jsxs("div",{className:"font-semibold",children:["Preview: ",f.kind]}),s.jsx("button",{className:"btn",onClick:()=>x({open:!1}),children:"Close"})]}),s.jsx("div",{className:"p-0 bg-black/30",children:s.jsx("iframe",{title:"Email Preview",style:{width:"100%",height:"70vh",border:"0",background:"transparent"},srcDoc:f.html||""})}),s.jsx("div",{className:"px-4 py-3 border-t border-indigo-500/20 text-xs opacity-70",children:"Click outside this panel or press Esc to close."})]})})]})]}):s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin"}),s.jsx("div",{className:"text-sm opacity-80",children:"You dont have permission to manage admins."})]})}const Vm=m.createContext({theme:"default",setTheme:e=>{}}),Bu="ndn_theme";function ov({children:e}){const[t,n]=m.useState("default");return m.useEffect(()=>{try{const r=localStorage.getItem(Bu);r&&n(r)}catch{}},[]),m.useEffect(()=>{try{localStorage.setItem(Bu,t)}catch{}},[t]),s.jsx(Vm.Provider,{value:{theme:t,setTheme:n},children:s.jsx("div",{className:`theme-${t}`,children:e})})}function cv(){return m.useContext(Vm)}const $u=["DartsWithG","BullseyeChamp","SharpShooter"],uv="https://buy.stripe.com/test_8wM8yK7wA0gQeEw5kk",tl=["Focus on your stance and grip for consistency.","Practice doubles and finishing combinations regularly.","Keep your eyes on the target, not the dart.","Track your stats to identify areas for improvement.","Warm up before matches to get your rhythm.","Stay calm and confident, even under pressure."];function dv({user:e}){var Je;const{theme:t,setTheme:n}=cv(),[r,l]=m.useState(""),[i,a]=m.useState("");m.useEffect(()=>{try{const B=localStorage.getItem("ndn:avatar");B&&a(B)}catch{}},[]);const[o,c]=m.useState("English"),[u,p]=m.useState(!0),[y,g]=m.useState(!1),[v,N]=m.useState(0),[w,k]=m.useState(0),[h,d]=m.useState(""),[f,x]=m.useState(!1),[j,C]=m.useState(null),[S,M]=m.useState("GBP"),[b,E]=m.useState(""),[z,H]=m.useState("");function Z(B){var ut;const me=B.target,pe=(ut=me==null?void 0:me.files)==null?void 0:ut[0];if(pe){const dt=new FileReader;dt.onload=()=>{const Tt=dt.result;a(Tt);try{localStorage.setItem("ndn:avatar",Tt)}catch{}try{window.dispatchEvent(new CustomEvent("ndn:avatar-updated",{detail:Tt}))}catch{}try{me&&(me.value="")}catch{}},dt.readAsDataURL(pe)}}const{favoriteDouble:ce,setFavoriteDouble:te,callerEnabled:Pe,setCallerEnabled:K,callerVoice:L,setCallerVoice:_,callerVolume:$,setCallerVolume:X,speakCheckoutOnly:ne,setSpeakCheckoutOnly:he,avgMode:q,setAvgMode:Se,autoStartOffline:ge,setAutoStartOffline:de,rememberLastOffline:xe,setRememberLastOffline:Ie,lastOffline:T,setLastOffline:U,reducedMotion:ue,setReducedMotion:oe,compactHeader:$e,setCompactHeader:D}=fi(),R=typeof window<"u"&&window.speechSynthesis?window.speechSynthesis.getVoices():[];function V(B){d("");const me=B.target.value;l(me),$u.includes(me)&&d("This username is already taken. Please choose another.")}function G(){if(d(""),$u.includes(r)){d("This username is already taken. Please choose another.");return}w<2?(k(w+1),d("Display name changed successfully!")):x(!0)}const Q=((Je=e==null?void 0:e.email)==null?void 0:Je.toLowerCase())==="daviesfamily108@gmail.com",[J,ee]=m.useState("settings");function re(){try{window.dispatchEvent(new Event("ndn:layout-reset"))}catch{}}async function Ce(){if(!(e!=null&&e.email)){C(null);return}try{const me=await(await fetch(`/api/wallet/balance?email=${encodeURIComponent(e.email)}`)).json();me!=null&&me.ok&&C(me.wallet)}catch{}}m.useEffect(()=>{Ce()},[e==null?void 0:e.email]);async function Ve(){if(H(""),!(e!=null&&e.email)){H("Please sign in.");return}const B=Number(b);if(!Number.isFinite(B)||B<=0){H("Enter a valid amount.");return}try{const me=await fetch("/api/wallet/withdraw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,currency:S,amount:B})});if(!me.ok){const pe=await me.json().catch(()=>null);H((pe==null?void 0:pe.error)||"Request failed");return}H("Withdrawal requested. Admin will review shortly."),E(""),await Ce()}catch{H("Network error")}}return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-brand-700 flex items-center gap-2",children:[s.jsx(Xi,{className:"w-6 h-6 text-brand-400"})," Settings"]}),Q&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:`btn ${J==="settings"?"bg-brand-600":""}`,onClick:()=>ee("settings"),children:"Settings"}),s.jsx("button",{className:`btn ${J==="admin"?"bg-brand-600":""}`,onClick:()=>ee("admin"),children:"Admin"})]})]}),J==="admin"&&Q?s.jsx("div",{className:"mt-2",children:s.jsx(Wm,{user:e})}):s.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(Y0,{className:"w-5 h-5 text-brand-400"})," Profile avatar:"]}),s.jsx("input",{className:"input w-full mb-2",type:"file",accept:"image/*",onChange:Z}),i&&s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("img",{src:i,alt:"Avatar",className:"rounded-full w-16 h-16"}),s.jsx("button",{type:"button",className:"btn bg-rose-600 hover:bg-rose-700",onClick:()=>{a("");try{localStorage.removeItem("ndn:avatar")}catch{}try{window.dispatchEvent(new CustomEvent("ndn:avatar-updated",{detail:""}))}catch{}},title:"Remove custom avatar",children:"Remove"})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(Xi,{className:"w-5 h-5 text-brand-400"})," Change display name:"]}),s.jsx("input",{className:"input w-full mb-2",type:"text",value:r,onChange:V,placeholder:"New display name"}),s.jsx("button",{className:"btn bg-brand-600 text-white mb-2",onClick:G,children:w<2?`Change Name (${2-w} free left)`:"Pay to Change Name"}),h&&s.jsx("div",{className:"text-red-500 font-bold mb-2",children:h}),f&&s.jsxs("div",{className:"mb-2",children:[s.jsx("a",{href:uv,target:"_blank",rel:"noopener noreferrer",className:"btn bg-pink-600 text-white w-full font-bold",children:"Pay via Stripe"}),s.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"After payment, you can change your name again."})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(Q0,{className:"w-5 h-5 text-brand-400"})," Language:"]}),s.jsxs("select",{className:"input w-full mb-2",value:o,onChange:B=>c(B.target.value),children:[s.jsx("option",{children:"English"}),s.jsx("option",{children:"Spanish"}),s.jsx("option",{children:"French"}),s.jsx("option",{children:"German"}),s.jsx("option",{children:"Chinese"})]}),s.jsx("label",{className:"block font-semibold mb-1",children:"Theme:"}),s.jsxs("select",{className:"input w-full mb-4",value:t,onChange:B=>n(B.target.value),children:[s.jsx("option",{value:"default",children:"Default"}),s.jsx("option",{value:"light",children:"Light"}),s.jsx("option",{value:"dark",children:"Dark"})]}),s.jsxs("div",{className:"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:[s.jsxs("div",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(tg,{className:"w-4 h-4"})," Caller & Checkout"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:Pe,onChange:B=>K(B.target.checked)}),"Enable score caller"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[s.jsx("div",{className:"text-slate-600 col-span-1",children:"Caller volume"}),s.jsx("input",{className:"col-span-2",type:"range",min:0,max:1,step:.05,value:$,onChange:B=>X(parseFloat(B.target.value))})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:ne,onChange:B=>he(B.target.checked)}),"Speak checkout reminders only"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"Average mode (header)"}),s.jsxs("select",{className:"input w-full",value:q,onChange:B=>Se(B.target.value),children:[s.jsx("option",{value:"all-time",children:"All-time (cumulative)"}),s.jsx("option",{value:"24h",children:"Last 24 hours (rolling)"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"Favorite double for checkouts"}),s.jsx("select",{className:"input w-full",value:ce,onChange:B=>te(B.target.value),children:["D1","D2","D3","D4","D5","D6","D7","D8","D9","D10","D11","D12","D13","D14","D15","D16","D17","D18","D19","D20","DB"].map(B=>s.jsx("option",{value:B,children:B},B))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"Caller voice (optional)"}),s.jsxs("select",{className:"input w-full",value:L,onChange:B=>_(B.target.value),children:[s.jsx("option",{value:"",children:"System Default"}),R.map(B=>s.jsxs("option",{value:B.name,children:[B.name," (",B.lang,")"]},`${B.name}-${B.lang}`))]}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Uses your browser's built-in speech synthesis voices."})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10 mb-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Offline match defaults"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm mb-1",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:ge,onChange:B=>de(B.target.checked)}),"Auto-start last offline match when I pick Offline"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm mb-3",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:xe,onChange:B=>Ie(B.target.checked)}),"Remember last offline setup"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"Mode"}),s.jsx("select",{className:"input w-full",value:T.mode,onChange:B=>U({mode:B.target.value}),children:["X01","Double Practice","Around the Clock","Cricket","Halve It","Shanghai","High-Low","Killer"].map(B=>s.jsx("option",{value:B,children:B},B))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"X01 start"}),s.jsx("input",{className:"input w-full",type:"number",value:T.x01Start,onChange:B=>U({x01Start:parseInt(B.target.value||"501")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"First to"}),s.jsx("input",{className:"input w-full",type:"number",value:T.firstTo,onChange:B=>U({firstTo:parseInt(B.target.value||"1")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-600 mb-1",children:"AI Level"}),s.jsx("select",{className:"input w-full",value:T.aiLevel,onChange:B=>U({aiLevel:B.target.value}),children:["None","Easy","Medium","Hardened"].map(B=>s.jsx("option",{value:B,children:B},B))})]})]})]}),s.jsxs("div",{className:"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10 mb-4",children:[s.jsxs("div",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(ng,{className:"w-4 h-4"})," Wallet"]}),s.jsx("div",{className:"text-sm mb-2",children:"Tournament cash prizes accrue here. You can request a withdrawal when you have sufficient balance."}),s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Balances"}),j&&Object.keys(j.balances||{}).length>0?s.jsx("ul",{className:"mt-1 space-y-0.5",children:Object.entries(j.balances).map(([B,me])=>s.jsxs("li",{children:[B," ",(me/100).toFixed(2)]},B))}):s.jsx("div",{className:"opacity-70",children:"No funds yet."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[s.jsxs("select",{className:"input",value:S,onChange:B=>M(B.target.value),children:[s.jsx("option",{value:"GBP",children:"GBP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"CAD",children:"CAD"}),s.jsx("option",{value:"AUD",children:"AUD"})]}),s.jsx("input",{className:"input",placeholder:"Amount",value:b,onChange:B=>E(B.target.value)}),s.jsxs("button",{className:"btn flex items-center gap-1",onClick:Ve,children:[s.jsx(V0,{className:"w-4 h-4"})," Withdraw"]})]}),z&&s.jsx("div",{className:"text-xs mt-2",children:z})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(B0,{className:"w-5 h-5 text-brand-400"})," Notification preferences:"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("button",{className:`btn ${u?"bg-brand-600":"bg-slate-400"}`,onClick:()=>p(!0),children:"On"}),s.jsx("button",{className:`btn ${u?"bg-slate-400":"bg-brand-600"}`,onClick:()=>p(!1),children:"Off"})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(W0,{className:"w-5 h-5 text-brand-400"})," Help & Support:"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("a",{href:"#",className:"btn",children:"FAQ"}),s.jsx("a",{href:"#",className:"btn",children:"Contact Us"})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(Xi,{className:"w-5 h-5 text-brand-400"})," Account management:"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("button",{className:"btn",children:"Change Password"}),s.jsx("button",{className:"btn bg-red-500",children:"Delete Account"})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(eg,{className:"w-5 h-5 text-brand-400"})," Layout:"]}),s.jsx("div",{className:"flex gap-2 mb-2",children:s.jsx("button",{className:"btn",onClick:re,children:"Revert modal sizes to default"})}),s.jsxs("div",{className:"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Accessibility & Layout"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:ue,onChange:B=>oe(B.target.checked)}),"Reduce motion & animations"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm mt-1",children:[s.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:$e,onChange:B=>D(B.target.checked)}),"Compact header height"]})]})]})]}),s.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[s.jsx(Mu,{className:"w-5 h-5 text-cyan-300"})," Darts Tips:"]}),s.jsx("button",{className:"btn mb-4",onClick:()=>g(!0),children:"Show Tips to Improve Your Game"}),s.jsx("button",{className:"btn w-full",children:"Save Settings"}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"card max-w-md w-full relative text-left bg-[#2d2250] text-white p-6 rounded-xl shadow-xl",children:[s.jsx("button",{className:"absolute top-2 right-2 btn px-2 py-1 bg-purple-500 text-white font-bold",onClick:()=>g(!1),children:"Close"}),s.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2 text-white",children:[s.jsx(Mu,{className:"w-6 h-6 text-cyan-300"})," Darts Tips"]}),s.jsx("div",{className:"mb-4 text-lg font-semibold text-indigo-200",children:tl[v]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold",onClick:()=>N((v-1+tl.length)%tl.length),children:"Previous"}),s.jsx("button",{className:"btn bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold",onClick:()=>N((v+1)%tl.length),children:"Next"})]})]})})]})}const Hu="daviesfamily108@gmail.com",Wu="DartsWithG",Vu="Cymru-2015";function fv({onAuth:e}){const[t,n]=m.useState("signin"),[r,l]=m.useState(""),[i,a]=m.useState(""),[o,c]=m.useState(""),[u,p]=m.useState(""),[y,g]=m.useState(""),[v,N]=m.useState(!1);function w(d){d.preventDefault(),console.log("Sign in attempt:",{username:i,password:o}),i===Wu&&o===Vu?e({email:Hu,username:i,admin:!0}):g("Invalid credentials or not admin.")}function k(d){if(d.preventDefault(),o!==Vu){g("Password must be Cymru-2015 for admin.");return}if(!r||!i){g("Email and username required.");return}r===Hu&&i===Wu?e({email:r,username:i,admin:!0}):g("Only admin can sign up in demo.")}function h(d){d.preventDefault(),g("Password reset link sent to email (demo).")}return s.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[s.jsx("div",{className:"background-animated"}),s.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s.jsxs("form",{className:"card w-full space-y-4",onSubmit:t==="signin"?w:t==="signup"?k:h,children:[s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-2 text-center",children:[s.jsx("h1",{className:"logo text-center",children:"NINE-DART-NATION "}),s.jsx("span",{className:"badge",children:"Welcome"})]}),s.jsx("h2",{className:"text-2xl font-bold",children:t==="signin"?"Sign In":t==="signup"?"Create Account":"Reset Password"}),t==="signup"&&s.jsx("input",{className:"input w-full",type:"email",placeholder:"Email",value:r,onChange:d=>l(d.target.value),required:!0}),s.jsx("input",{className:"input w-full",type:"text",placeholder:"Username",value:i,onChange:d=>a(d.target.value),required:!0}),t!=="reset"&&s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"input w-full pr-10",type:v?"text":"password",placeholder:"Password",value:o,onChange:d=>c(d.target.value),required:!0,onFocus:()=>N(!1),onBlur:()=>N(!1)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-300 hover:text-white",tabIndex:-1,onMouseDown:d=>{d.preventDefault(),N(!0)},onMouseUp:d=>{d.preventDefault(),N(!1)},onMouseLeave:()=>N(!1),"aria-label":"Toggle password visibility",children:v?s.jsx(J0,{className:"w-5 h-5"}):s.jsx(G0,{className:"w-5 h-5"})})]}),t==="signup"&&s.jsx("input",{className:"input w-full",type:"text",placeholder:"Password Reminder (optional)",value:u,onChange:d=>p(d.target.value)}),y&&s.jsx("div",{className:"text-red-400 font-semibold text-sm",children:y}),s.jsx("button",{className:"btn w-full",type:"submit",children:t==="signin"?"Sign In":t==="signup"?"Sign Up":"Send Reset Link"}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("button",{type:"button",className:"underline",onClick:()=>n(t==="signin"?"signup":"signin"),children:t==="signin"?"Need an account? Sign Up":"Already have an account? Sign In"}),s.jsx("button",{type:"button",className:"underline",onClick:()=>n("reset"),children:"Forgot password?"})]}),s.jsx("div",{className:"text-xs text-slate-200/80",children:"Tip: Use the admin demo credentials to explore admin features."})]}),s.jsxs("aside",{className:"card w-full",children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:"Whats inside"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Ka,{className:"w-5 h-5 text-indigo-300 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Online & Friends"}),s.jsx("div",{className:"text-sm text-slate-200/90",children:"Challenge friends, chat, and join leagues."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(H0,{className:"w-5 h-5 text-indigo-300 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Deep Stats"}),s.jsx("div",{className:"text-sm text-slate-200/90",children:"Track 3-dart averages, best legs, and more."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(hl,{className:"w-5 h-5 text-indigo-300 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Game Modes"}),s.jsx("div",{className:"text-sm text-slate-200/90",children:"Start with 3 free online games upon signup. After that, PREMIUM is required to play all games."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Z0,{className:"w-5 h-5 text-indigo-300 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Premium Perks"}),s.jsx("div",{className:"text-sm text-slate-200/90",children:"Polished UI, upcoming features, and early access."})]})]})]}),s.jsxs("a",{href:"https://discord.gg/8GtbZ6RU",target:"_blank",rel:"noopener noreferrer",className:"btn mt-4 flex items-center justify-center gap-2",children:[s.jsx(Xa,{className:"w-5 h-5"})," Join BullseyeDartsLeague"]})]})]})]})}const Jm=m.createContext(null);function Gm({children:e}){const[t,n]=m.useState(!1),[r,l]=m.useState("connecting"),i=m.useRef(null),a=m.useRef(new Set),o=m.useRef(!0),c=m.useRef(0),u=m.useRef(null),p=m.useRef(null),y=m.useRef(null),g=m.useRef(0),v=()=>{if(y.current)return y.current;const x=window.location.protocol==="https:"?"wss":"ws",j=window.location.hostname,C=[`${x}://${j}:8787`,`${x}://${j}:3000`,`${x}://${j}${window.location.port?"":":8787"}`];return y.current=Array.from(new Set(C)),y.current},N=()=>{const x=v();return g.current=(g.current+1)%x.length,x[g.current]},w=()=>{const x=v();return x[g.current]||x[0]},k=m.useCallback(()=>{if(i.current&&(i.current.readyState===WebSocket.OPEN||i.current.readyState===WebSocket.CONNECTING))return;l("connecting");const j=`${w()}`,C=new WebSocket(j);i.current=C,C.onopen=()=>{n(!0),l("connected"),c.current=0,p.current&&clearInterval(p.current),p.current=setInterval(()=>{var S,M;try{((S=i.current)==null?void 0:S.readyState)===WebSocket.OPEN&&((M=i.current)==null||M.send(JSON.stringify({type:"ping",t:Date.now()})))}catch{}},2e4)},C.onmessage=S=>{try{const M=JSON.parse(S.data);a.current.forEach(b=>{try{b(M)}catch{}})}catch{}},C.onerror=()=>{},C.onclose=()=>{if(n(!1),l("disconnected"),p.current&&(clearInterval(p.current),p.current=null),!o.current)return;const S=(c.current||0)+1;c.current=S,S%2===0&&N();const M=1e3*Math.pow(2,S-1),b=Math.floor(Math.random()*1e3);let E=Math.min(3e4,M+b);S===1&&(E=0),u.current&&clearTimeout(u.current),E===0?k():u.current=setTimeout(k,E)}},[]);m.useEffect(()=>{o.current=!0,k();const x=()=>{var C;o.current=!1;try{(C=i.current)==null||C.close()}catch{}};window.addEventListener("beforeunload",x);const j=()=>{document.visibilityState==="visible"&&(t||k())};return document.addEventListener("visibilitychange",j),window.addEventListener("online",k),()=>{var C;o.current=!1,u.current&&clearTimeout(u.current),p.current&&clearInterval(p.current);try{(C=i.current)==null||C.close()}catch{}document.removeEventListener("visibilitychange",j),window.removeEventListener("online",k),window.removeEventListener("beforeunload",x)}},[k,t]);const h=m.useCallback(x=>{try{i.current&&i.current.readyState===WebSocket.OPEN&&i.current.send(typeof x=="string"?x:JSON.stringify(x))}catch{}},[]),d=m.useCallback(x=>(a.current.add(x),()=>{a.current.delete(x)}),[]),f=m.useMemo(()=>({connected:t,status:r,send:h,addListener:d}),[t,r,h,d]);return s.jsx(Jm.Provider,{value:f,children:e})}function dc(){const e=m.useContext(Jm);if(!e)throw new Error("useWS must be used within WSProvider");return e}function mv({status:e,title:t,size:n=12}){const r=n;return e==="connecting"?s.jsx("span",{role:"img","aria-label":"Connecting",title:t||"Connecting",className:"inline-flex items-center justify-center",style:{width:r,height:r},children:s.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",className:"animate-spin","aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#A7F3D0",strokeWidth:"3",fill:"none",opacity:"0.35"}),s.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"#34D399",strokeWidth:"3",strokeLinecap:"round",fill:"none"})]})}):e==="connected"?s.jsx("span",{role:"img","aria-label":"Connected",title:t||"Connected",className:"inline-flex items-center justify-center",style:{width:r,height:r},children:s.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#34D399"})})}):s.jsx("span",{role:"img","aria-label":"Disconnected",title:t||"Not connected",className:"inline-flex items-center justify-center",style:{width:r,height:r},children:s.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#F87171",opacity:"0.15"}),s.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#F87171",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"6",y:"11",width:"12",height:"2",rx:"1",fill:"#F87171"})]})})}function hv(e){return e.dartsThrown===0?0:(e.totalScoreStart-e.totalScoreRemaining)/e.dartsThrown*3}function pv(e){const t=hv(e),n=e.finished;return{avg:t,isCompleted:n,darts:e.dartsThrown,checkout:e.checkoutScore??0}}function gv(e){if(e.legs.length===0)return;const t=[];let n,r=e.bestCheckout??0;for(const l of e.legs){if(!l.finished)continue;const i=pv(l);t.push(i.avg),(!n||i.darts<n.darts||i.darts===n.darts&&(l.endTime??0)<n.timestamp)&&(n={darts:i.darts,timestamp:l.endTime??Date.now()}),i.checkout>r&&(r=i.checkout)}t.length&&(e.bestThreeDartAvg=Math.max(...t),e.worstThreeDartAvg=Math.min(...t)),n&&(e.bestNineDart=n),e.bestCheckout=r}const is=di((e,t)=>({roomId:"",players:[],currentPlayerIdx:0,startingScore:501,inProgress:!1,newMatch:(n,r,l="")=>e(()=>({players:n.map((a,o)=>({id:`${o}`,name:a,legsWon:0,legs:[]})),currentPlayerIdx:0,startingScore:r,inProgress:!0,roomId:l,bestLegThisMatch:void 0})),addVisit:(n,r)=>e(l=>{if(!l.inProgress)return l;const i=l.players[l.currentPlayerIdx];let a=i.legs[i.legs.length-1];return(!a||a.finished)&&(a={visits:[],totalScoreStart:l.startingScore,totalScoreRemaining:l.startingScore,dartsThrown:0,finished:!1,checkoutScore:null,startTime:Date.now()},i.legs.push(a)),a.visits.push({darts:r,score:n}),a.dartsThrown+=r,a.totalScoreRemaining=Math.max(0,a.totalScoreRemaining-n),{...l}}),undoVisit:()=>e(n=>{const r=n.players[n.currentPlayerIdx],l=r.legs[r.legs.length-1];if(!l||l.finished||l.visits.length===0)return n;const i=l.visits.pop();return l.dartsThrown-=i.darts,l.totalScoreRemaining+=i.score,{...n}}),endLeg:n=>e(r=>{const l=r.players[r.currentPlayerIdx],i=l.legs[l.legs.length-1];if(!i||i.finished)return r;if(i.finished=!0,i.checkoutScore=n,i.endTime=Date.now(),i.totalScoreRemaining===0){l.legsWon+=1;const a=r.bestLegThisMatch;(!a||i.dartsThrown<a.darts)&&(r.bestLegThisMatch={playerId:l.id,darts:i.dartsThrown,timestamp:i.endTime})}return{...r}}),nextPlayer:()=>e(n=>({...n,currentPlayerIdx:(n.currentPlayerIdx+1)%n.players.length})),endGame:()=>e(n=>{for(const r of n.players)gv(r);return{...n,inProgress:!1}}),importState:n=>e(()=>({...n}))}));function xv(e,t){const n=Lx(e,t);return Rx(n)}function vv({storageKey:e,children:t,className:n,defaultWidth:r=640,defaultHeight:l=360,minWidth:i=320,minHeight:a=200,maxWidth:o=1600,maxHeight:c=1200}){const[u,p]=m.useState(()=>{try{const d=localStorage.getItem(e);if(d)return JSON.parse(d)}catch{}return{width:r,height:l}}),y=m.useRef(null),g=m.useRef(null);m.useEffect(()=>{function d(){try{localStorage.removeItem(e)}catch{}p({width:r,height:l})}return window.addEventListener("ndn:layout-reset",d),window.addEventListener("ndn:camera-reset",d),()=>{window.removeEventListener("ndn:layout-reset",d),window.removeEventListener("ndn:camera-reset",d)}},[e,r,l]),m.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(u))}catch{}},[u,e]);function v(d,f,x){return Math.max(f,Math.min(x,d))}function N(d,f){d.preventDefault();const x=g.current;if(!x)return;const j=x.getBoundingClientRect();y.current={x:d.clientX,y:d.clientY,w:j.width,h:j.height,dir:f},window.addEventListener("mousemove",w),window.addEventListener("mouseup",k)}function w(d){const f=y.current;if(!f)return;const x=d.clientX-f.x,j=d.clientY-f.y;let C=f.w,S=f.h;f.dir.includes("e")&&(C=v(f.w+x,i,o)),f.dir.includes("s")&&(S=v(f.h+j,a,c)),f.dir.includes("w")&&(C=v(f.w-x,i,o)),f.dir.includes("n")&&(S=v(f.h-j,a,c)),p({width:Math.round(C),height:Math.round(S)})}function k(){window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",k),y.current=null}const h={width:u.width?`${u.width}px`:void 0,height:u.height?`${u.height}px`:void 0,maxWidth:"100%",maxHeight:"80vh",position:"relative"};return s.jsxs("div",{ref:g,className:`${n||""}`,style:h,children:[t,s.jsx("div",{className:"resizer resizer-nw",onMouseDown:d=>N(d,"nw")}),s.jsx("div",{className:"resizer resizer-ne",onMouseDown:d=>N(d,"ne")}),s.jsx("div",{className:"resizer resizer-sw",onMouseDown:d=>N(d,"sw")}),s.jsx("div",{className:"resizer resizer-se",onMouseDown:d=>N(d,"se")})]})}function yv({onVisitCommitted:e}){const t=m.useRef(null),n=m.useRef(null),r=m.useRef(null),[l,i]=m.useState(!1),[a,o]=m.useState(null),{H:c,imageSize:u,reset:p}=ac(),[y,g]=m.useState(""),[v,N]=m.useState(""),[w,k]=m.useState(0),[h,d]=m.useState("MISS"),[f,x]=m.useState(0),[j,C]=m.useState(0),[S,M]=m.useState([]),b=is(D=>D.addVisit),E=is(D=>D.endLeg),z=is(D=>D),[H,Z]=m.useState("S"),[ce,te]=m.useState(0),[Pe,K]=m.useState(!1),[L,_]=m.useState(!1);m.useEffect(()=>()=>X(),[]);async function $(){try{const D=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});t.current&&(t.current.srcObject=D,await t.current.play()),i(!0)}catch{alert("Camera permission denied or not available.")}}function X(){t.current&&t.current.srcObject&&(t.current.srcObject.getTracks().forEach(R=>R.stop()),t.current.srcObject=null,i(!1))}function ne(){if(!t.current||!n.current)return;const D=t.current,R=n.current;R.width=D.videoWidth,R.height=D.videoHeight,R.getContext("2d").drawImage(D,0,0,R.width,R.height);const G=R.toDataURL("image/png");o(G)}function he(){if(!r.current||!t.current||!c||!u)return;const D=r.current,R=t.current,V=R.clientWidth,G=R.clientHeight;D.width=V,D.height=G;const Q=D.getContext("2d");Q.clearRect(0,0,V,G);const J=V/u.w,ee=G/u.h,re=Cx(c,J,ee),Ce=[Te.bullInner,Te.bullOuter,Te.trebleInner,Te.trebleOuter,Te.doubleInner,Te.doubleOuter];for(const Ve of Ce){const Je=Rm(re,Ve,360);Am(Q,Je,Ve===Te.doubleOuter?"#22d3ee":"#a78bfa",Ve===Te.doubleOuter?3:2)}}m.useEffect(()=>{const D=setInterval(he,250);return()=>clearInterval(D)},[c,u,l]);function q(D){if(!r.current||!c||!u)return;const R=r.current.getBoundingClientRect(),V=D.clientX-R.left,G=D.clientY-R.top,Q=r.current.width/u.w,J=r.current.height/u.h,ee={x:V/Q,y:G/J},re=xv(c,ee),Ce=`${re.ring} ${re.base>0?re.base:""}`.trim();g(Ce),k(re.base),d(re.ring),_(!0)}function Se(D){const R=D.trim().toUpperCase();if(!R)return null;const V=R==="BULL"||R==="50"||R==="DBULL"||R==="IBULL",G=R==="25"||R==="OBULL";if(V)return{label:"INNER_BULL 50",value:50,ring:"INNER_BULL"};if(G)return{label:"BULL 25",value:25,ring:"BULL"};const Q=R.match(/^(S|D|T)?\s*(\d{1,2})$/);if(!Q)return null;const J=Q[1]||"S",ee=parseInt(Q[2],10);if(ee<1||ee>20)return null;const re=J==="S"?1:J==="D"?2:3,Ce=J==="S"?"SINGLE":J==="D"?"DOUBLE":"TRIPLE";return{label:`${J}${ee} ${ee*re}`,value:ee*re,ring:Ce}}function ge(){const D=z;if(!D.players.length)return D.startingScore;const R=D.players[D.currentPlayerIdx],V=R.legs[R.legs.length-1];return V?V.totalScoreRemaining:D.startingScore}function de(D,R,V){if(f>=3)return;const G=f+1,Q=j+D,ee=ge()-Q,re=ee===0&&(V==="DOUBLE"||V==="INNER_BULL");if(ee<0||ee===1||ee===0&&!re){b(0,G),x(0),C(0),M([]),e&&e(0,G,!1);return}if(x(G),C(Q),M(Ve=>[...Ve,{label:R,value:D,ring:V}]),re){b(Q,G),E(Q),x(0),C(0),M([]),e&&e(Q,G,!0);return}G>=3&&(b(Q,G),x(0),C(0),M([]),e&&e(Q,G,!1))}function xe(){y&&(de(w,y,h),te(0),_(!1))}function Ie(){const D=Se(v);if(!D){alert("Enter like T20, D16, 5, 25, 50");return}if(!L||!y||h==="MISS"||w===0){const R=ce+1;te(R),R>=3&&K(!0)}else te(0);de(D.value,D.label,D.ring),N(""),_(!1)}function T(){var Je,B,me;const D=Se(v);if(!D){alert("Enter like T20, D16, 5, 25, 50");return}if(f===0||S.length===0){Ie();return}if(!L||!y||h==="MISS"||w===0){const pe=ce+1;te(pe),pe>=3&&K(!0)}else te(0);const R=S[S.length-1],V=f-1,G=j-((R==null?void 0:R.value)||0),Q=ge(),J=G+D.value,ee=V+1,re=Q-J,Ce=re===0&&(D.ring==="DOUBLE"||D.ring==="INNER_BULL");if(re<0||re===1||re===0&&!Ce){b(0,ee);try{const pe=(Je=z.players[z.currentPlayerIdx])==null?void 0:Je.name;pe&&or(pe,ee,0)}catch{}x(0),C(0),M([]),e&&e(0,ee,!1),N(""),_(!1);return}if(x(ee),C(J),M(pe=>[...pe.slice(0,-1),{label:D.label,value:D.value,ring:D.ring}]),Ce){b(J,ee),E(J);try{const pe=(B=z.players[z.currentPlayerIdx])==null?void 0:B.name;pe&&or(pe,ee,J)}catch{}x(0),C(0),M([]),e&&e(J,ee,!0),N(""),_(!1);return}if(ee>=3){b(J,ee);try{const pe=(me=z.players[z.currentPlayerIdx])==null?void 0:me.name;pe&&or(pe,ee,J)}catch{}x(0),C(0),M([]),e&&e(J,ee,!1)}N(""),_(!1)}function U(){K(!1),te(0);try{window.dispatchEvent(new CustomEvent("ndn:request-calibrate"))}catch{}}function ue(){p(),K(!1),te(0)}function oe(){if(f===0)return;const D=S[S.length-1];x(R=>R-1),C(R=>R-((D==null?void 0:D.value)||0)),M(R=>R.slice(0,-1))}function $e(){var D;if(f!==0){b(j,f);try{const R=(D=z.players[z.currentPlayerIdx])==null?void 0:D.name;R&&or(R,f,j)}catch{}x(0),C(0),M([]),e&&e(j,f,!1)}}return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Camera"}),s.jsxs(vv,{storageKey:"ndn:camera:size",className:"relative rounded-2xl overflow-hidden bg-black",defaultWidth:720,defaultHeight:405,minWidth:480,minHeight:270,maxWidth:1600,maxHeight:900,children:[s.jsx("video",{ref:t,className:"w-full h-full object-cover"}),s.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full",onClick:q})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[l?s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:X,children:"Stop Camera"}):s.jsx("button",{className:"btn",onClick:$,children:"Start Camera"}),s.jsx("button",{className:"btn",onClick:ne,disabled:!l,children:"Capture Still"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>{try{window.dispatchEvent(new Event("ndn:camera-reset"))}catch{}},children:"Reset Camera Size"})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Snapshot"}),a?s.jsx("img",{src:a,className:"rounded-2xl w-full"}):s.jsx("p",{className:"text-slate-600",children:"No snapshot yet. Start camera and press Capture."}),s.jsx("canvas",{ref:n,className:"hidden"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Autoscore  Manual Correction"}),s.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Click the camera overlay to autoscore. If its off, type a correction and replace the last dart."}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-semibold",children:"Last auto:"}),s.jsx("span",{children:y||""}),s.jsx("button",{className:"btn",onClick:xe,disabled:f>=3,children:"Add Auto Dart"}),ce>0&&s.jsxs("span",{className:"text-sm opacity-80",children:["No-registers: ",ce,"/3"]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1",placeholder:"Manual (T20, D16, 5, 25, 50)",value:v,onChange:D=>N(D.target.value),onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),Ie()),D.key==="Enter"&&D.shiftKey&&(D.preventDefault(),T())}}),s.jsx("button",{className:"btn btn--ghost",onClick:T,disabled:f===0,children:"Replace Last"}),s.jsx("button",{className:"btn",onClick:Ie,disabled:f>=3,children:"Add"})]}),s.jsx("div",{className:"text-xs opacity-70",children:"Press Enter to Add  Shift+Enter to Replace Last"})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Quick entry"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("button",{className:`btn ${H==="S"?"tab--active":""}`,onClick:()=>Z("S"),children:"S"}),s.jsx("button",{className:`btn ${H==="D"?"tab--active":""}`,onClick:()=>Z("D"),children:"D"}),s.jsx("button",{className:`btn ${H==="T"?"tab--active":""}`,onClick:()=>Z("T"),children:"T"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[["20","19","18","17","16","15"].map(D=>s.jsxs("button",{className:"btn",disabled:f>=3,onClick:()=>{const R=H,G=parseInt(D,10)*(R==="S"?1:R==="D"?2:3),Q=R==="S"?"SINGLE":R==="D"?"DOUBLE":"TRIPLE";if(!L||!y||h==="MISS"||w===0){const J=ce+1;te(J),J>=3&&K(!0)}else te(0);de(G,`${R}${D} ${G}`,Q),_(!1)},children:[H,D]},D)),s.jsx("button",{className:"btn",disabled:f>=3,onClick:()=>{if(!L||!y||h==="MISS"||w===0){const D=ce+1;te(D),D>=3&&K(!0)}else te(0);de(25,"BULL 25","BULL"),_(!1)},children:"25"}),s.jsx("button",{className:"btn",disabled:f>=3,onClick:()=>{if(!L||!y||h==="MISS"||w===0){const D=ce+1;te(D),D>=3&&K(!0)}else te(0);de(50,"INNER_BULL 50","INNER_BULL"),_(!1)},children:"50"})]})]})]}),Pe&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"card max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Recalibration Recommended"}),s.jsx("p",{className:"opacity-80 mb-3",children:"We detected 3 incorrect autoscores in a row. You can recalibrate now or reset calibration and try again."}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"btn",onClick:U,children:"Go to Calibrate"}),s.jsx("button",{className:"btn",onClick:ue,children:"Reset Calibration"}),s.jsx("button",{className:"btn bg-gray-200 text-gray-800",onClick:()=>{K(!1),te(0)},children:"Dismiss"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Pending Visit"}),s.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Up to 3 darts per visit."}),s.jsx("ul",{className:"text-sm mb-2 list-disc pl-5",children:S.length===0?s.jsx("li",{className:"opacity-60",children:"No darts yet"}):S.map((D,R)=>s.jsx("li",{children:D.label},R))}),s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsxs("div",{className:"font-semibold",children:["Darts: ",f,"/3"]}),s.jsxs("div",{className:"font-semibold",children:["Total: ",j]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn",onClick:oe,disabled:f===0,children:"Undo Dart"}),s.jsx("button",{className:"btn",onClick:$e,disabled:f===0,children:"Commit Visit"}),s.jsx("button",{className:"btn",onClick:()=>{x(0),C(0),M([])},disabled:f===0,children:"Clear"})]})]})]})}function wv({user:e}){var Ir,Lr,Rr,En;const t=(()=>{try{return dc()}catch{return null}})(),[n,r]=m.useState("room-1"),[l,i]=m.useState(!1),[a,o]=m.useState([]),[c,u]=m.useState(null),p=m.useRef(null),y=m.useRef(0),g=m.useRef(null),v=m.useRef(!0),N=m.useRef(0),w=m.useRef(!1),k=is(),{favoriteDouble:h,callerEnabled:d,callerVoice:f,callerVolume:x,speakCheckoutOnly:j}=fi(),[C,S]=m.useState(!1),[M,b]=m.useState([]),[E,z]=m.useState(0),[H,Z]=m.useState(0),[ce,te]=m.useState(!1),[Pe,K]=m.useState([]),[L,_]=m.useState("bestof"),[$,X]=m.useState(5),[ne,he]=m.useState(501),[q,Se]=m.useState(null),[ge,de]=m.useState(""),[xe,Ie]=m.useState(null),[T,U]=m.useState(null),ue=uc(),[oe,$e]=m.useState("X01"),[D,R]=m.useState("X01"),[V,G]=m.useState(!1),Q=e!=null&&e.username&&!(e!=null&&e.fullAccess)?dm(e.username):1/0,J=!(e!=null&&e.fullAccess)&&Q<=0,[ee,re]=m.useState("all"),[Ce,Ve]=m.useState("all"),[Je,B]=m.useState("all"),[me,pe]=m.useState(!1),[ut,dt]=m.useState(10),{H:Tt}=ac(),wt=e!=null&&e.username?gl(e.username):0,Hn=(Pe||[]).filter(P=>!(ee!=="all"&&P.mode!==ee||Ce!=="all"&&Number(P.startingScore)!==Number(Ce)||Je!=="all"&&P.game!==Je||me&&(!wt||!P.creatorAvg||Math.abs(Number(P.creatorAvg)-Number(wt))>ut)));m.useEffect(()=>(v.current=!0,Wn(),()=>{var P;v.current=!1,g.current&&clearTimeout(g.current);try{(P=p.current)==null||P.close()}catch{}}),[]);function Wn(){if(t){t.connected&&(t.send({type:"join",roomId:n}),t.send({type:"presence",username:(e==null?void 0:e.username)||"guest",email:((e==null?void 0:e.email)||"").toLowerCase()}),t.send({type:"list-matches"}),i(!0));return}try{if(p.current&&(p.current.readyState===WebSocket.OPEN||p.current.readyState===WebSocket.CONNECTING))return}catch{}const P=window.location.protocol==="https:"?"wss":"ws",A=window.location.hostname,Y=new WebSocket(`${P}://${A}:8787`);p.current=Y,Y.onopen=()=>{i(!0),y.current=0,w.current?ue("Reconnected to lobby",{type:"success"}):(ue("Connected to lobby",{type:"success"}),w.current=!0),Y.send(JSON.stringify({type:"join",roomId:n})),Y.send(JSON.stringify({type:"presence",username:(e==null?void 0:e.username)||"guest",email:((e==null?void 0:e.email)||"").toLowerCase()})),Y.send(JSON.stringify({type:"list-matches"}))},Y.onmessage=se=>{var Oe;const F=JSON.parse(se.data);if(F.type==="state")k.importState(F.payload);else if(F.type==="joined")F.id&&u(F.id);else if(F.type==="presence"||F.type==="peer-joined")b(_e=>{const ft=new Set(_e);return F.id&&ft.add(F.id),Array.from(ft)});else if(F.type==="chat"){const _e=F.from&&c&&F.from===c?(e==null?void 0:e.username)||"me":F.from||"peer";o(ft=>[...ft,{from:_e,message:F.message}])}else if(F.type==="matches")K(Array.isArray(F.matches)?F.matches:[]);else if(F.type==="invite")Se({matchId:F.matchId,fromId:F.fromId,fromName:F.fromName,calibrated:!!F.calibrated,boardPreview:F.boardPreview||null,game:F.game,mode:F.mode,value:F.value,startingScore:F.startingScore});else if(F.type==="match-start")r(F.roomId),Y.send(JSON.stringify({type:"join",roomId:F.roomId})),S(!0),te(!1),(Oe=F.match)!=null&&Oe.game&&R(F.match.game),e!=null&&e.username&&!(e!=null&&e.fullAccess)&&Iu(e.username);else if(F.type==="declined")ue("Invite declined",{type:"info"});else if(F.type==="error"){const _e=typeof F.message=="string"?F.message:"Action not allowed";de(_e),F.code==="NOT_FOUND"&&xe&&U({game:xe.game,mode:xe.mode,value:xe.value,startingScore:xe.startingScore}),setTimeout(()=>de(""),3500)}else F.type==="friend-invite"?confirm(`${F.fromName||F.fromEmail} invited you to play ${F.game||"X01"} (${F.mode==="firstto"?"First To":"Best Of"} ${F.value||1}${F.game==="X01"&&F.startingScore?`  ${F.startingScore}`:""}). Accept?`)?Y.send(JSON.stringify({type:"start-friend-match",toEmail:F.fromEmail,game:F.game,mode:F.mode,value:F.value,startingScore:F.startingScore})):ue("Invite declined",{type:"info"}):F.type==="friend-message"&&ue(`${F.from}: ${F.message}`,{type:"info"})},Y.onclose=()=>{if(i(!1),!v.current)return;const se=(y.current||0)+1;y.current=se;const F=Math.min(3e4,1e3*Math.pow(2,se-1)),Oe=Date.now();Oe-N.current>4e3&&(ue(`Disconnected. Reconnecting in ${Math.round(F/1e3)}s...`,{type:"error"}),N.current=Oe),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{Wn()},F)}}m.useEffect(()=>{if(!t)return;i(t.connected);const P=t.addListener(A=>{var Y;try{if(A.type==="state")k.importState(A.payload);else if(A.type==="joined")A.id&&u(A.id);else if(A.type==="presence"||A.type==="peer-joined")b(se=>Array.from(new Set([...se||[],A.id].filter(Boolean))));else if(A.type==="chat"){const se=A.from&&c&&A.from===c?(e==null?void 0:e.username)||"me":A.from||"peer";o(F=>[...F,{from:se,message:A.message}])}else if(A.type==="matches")K(Array.isArray(A.matches)?A.matches:[]);else if(A.type==="invite")Se({matchId:A.matchId,fromId:A.fromId,fromName:A.fromName,calibrated:!!A.calibrated,boardPreview:A.boardPreview||null,game:A.game,mode:A.mode,value:A.value,startingScore:A.startingScore});else if(A.type==="match-start")r(A.roomId),t.send({type:"join",roomId:A.roomId}),S(!0),te(!1),(Y=A.match)!=null&&Y.game&&R(A.match.game),e!=null&&e.username&&!(e!=null&&e.fullAccess)&&Iu(e.username);else if(A.type==="declined")ue("Invite declined",{type:"info"});else if(A.type==="error"){const se=typeof A.message=="string"?A.message:"Action not allowed";de(se),A.code==="NOT_FOUND"&&xe&&U({game:xe.game,mode:xe.mode,value:xe.value,startingScore:xe.startingScore}),setTimeout(()=>de(""),3500)}else A.type==="friend-invite"?confirm(`${A.fromName||A.fromEmail} invited you to play ${A.game||"X01"} (${A.mode==="firstto"?"First To":"Best Of"} ${A.value||1}${A.game==="X01"&&A.startingScore?`  ${A.startingScore}`:""}). Accept?`)?t.send({type:"start-friend-match",toEmail:A.fromEmail,game:A.game,mode:A.mode,value:A.value,startingScore:A.startingScore}):ue("Invite declined",{type:"info"}):A.type==="friend-message"&&ue(`${A.from}: ${A.message}`,{type:"info"})}catch{}});return t.connected&&(t.send({type:"join",roomId:n}),t.send({type:"presence",username:(e==null?void 0:e.username)||"guest",email:((e==null?void 0:e.email)||"").toLowerCase()}),t.send({type:"list-matches"})),()=>{P()}},[t==null?void 0:t.connected]);function Vt(){if(t){t.send({type:"state",payload:{...k,_turnIdx:E,_participants:M}});return}const P=p.current;!P||P.readyState!==WebSocket.OPEN||P.send(JSON.stringify({type:"state",payload:{...k,_turnIdx:E,_participants:M}}))}function Is(P){if(t){t.send({type:"chat",message:P});return}const A=p.current;!A||A.readyState!==WebSocket.OPEN||A.send(JSON.stringify({type:"chat",message:P}))}async function Ls(){var P,A;try{const Y=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1}),se=(P=Y.getVideoTracks)==null?void 0:P.call(Y)[0],F=document.createElement("video");F.srcObject=Y,await F.play().catch(()=>{}),await new Promise(Tn=>setTimeout(Tn,120));const Oe=Math.min(320,F.videoWidth||320),_e=Math.max(1,Math.floor((F.videoHeight||180)*(Oe/Math.max(1,F.videoWidth||320)))),ft=document.createElement("canvas");ft.width=Oe,ft.height=_e,ft.getContext("2d").drawImage(F,0,0,Oe,_e);const mi=ft.toDataURL("image/jpeg",.7);try{se&&se.stop()}catch{}try{(A=Y.getTracks)==null||A.call(Y).forEach(Tn=>Tn.stop())}catch{}return mi}catch{return null}}return s.jsxs("div",{className:"card flex flex-col min-h-[75vh] relative overflow-hidden",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Online Play"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{className:"input",value:n,onChange:P=>r(P.target.value),placeholder:"Room ID"}),l?s.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",disabled:!0,children:"Connected"}):s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:Wn,children:"Disconnected"}),s.jsx("button",{className:"btn",onClick:Vt,disabled:!l,children:"Sync State"}),l&&s.jsx("button",{className:"btn",onClick:()=>S(!0),disabled:J,title:J?"Weekly free games used":"",children:"Open Match"})]}),s.jsx("div",{className:`mt-3 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40 flex items-center justify-end ${!l||J?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,role:"button",title:l?J?"Weekly free games used":"Create a new match":"Connect to the lobby first",onClick:()=>{var P;!l||J||(te(!0),t?t.send({type:"list-matches"}):(P=p.current)==null||P.send(JSON.stringify({type:"list-matches"})))},children:s.jsx("button",{className:"btn",disabled:!l||J,children:"Create Match +"})}),s.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"Open this app on another device and join the same Room ID to sync scores."}),!(e!=null&&e.fullAccess)&&s.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Weekly free online games remaining: ",Q===1/0?"":Q]}),!(e!=null&&e.fullAccess)&&Q!==1/0&&Q<=0&&s.jsx("div",{className:"mt-2 p-2 rounded-lg bg-rose-700/30 border border-rose-600/40 text-rose-200 text-sm",children:"You've used your 3 free online games this week. PREMIUM required to continue."}),ge&&s.jsx("div",{className:"mt-2 p-2 rounded-lg bg-amber-700/30 border border-amber-600/40 text-amber-200 text-sm",children:ge}),T&&s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-indigo-700/30 border border-indigo-600/40 text-indigo-100 text-sm flex items-center justify-between gap-2",children:[s.jsx("div",{children:"That room is full or no longer available. Create a new clean room with the same settings?"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn px-3 py-1 text-sm",onClick:()=>{var Oe,_e;const{game:P,mode:A,value:Y,startingScore:se}=T,F=e!=null&&e.username?gl(e.username):0;t?(t.send({type:"create-match",game:P,mode:A,value:Y,startingScore:se||501,creatorAvg:F}),t.send({type:"list-matches"})):((Oe=p.current)==null||Oe.send(JSON.stringify({type:"create-match",game:P,mode:A,value:Y,startingScore:se||501,creatorAvg:F})),(_e=p.current)==null||_e.send(JSON.stringify({type:"list-matches"}))),U(null)},children:"Create New Match"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800 px-3 py-1 text-sm",onClick:()=>U(null),children:"Dismiss"})]})]}),l&&s.jsxs("div",{className:"mt-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10 flex-1 overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"font-semibold",children:"World Lobby"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-xs opacity-80",children:["Matches: ",Hn.length]}),s.jsx("button",{className:"btn px-3 py-1 text-sm",onClick:()=>{var P;return t?t.send({type:"list-matches"}):(P=p.current)==null?void 0:P.send(JSON.stringify({type:"list-matches"}))},children:"Refresh"}),s.jsx("button",{className:"btn px-3 py-1 text-sm",title:l?J?"Weekly free games used":"Create a new match":"Connect to the lobby first",disabled:!l||J,onClick:()=>{var P;!l||J||(te(!0),t?t.send({type:"list-matches"}):(P=p.current)==null||P.send(JSON.stringify({type:"list-matches"})))},children:"Create Match +"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs opacity-70 mb-1",children:"Mode"}),s.jsxs("select",{className:"input w-full",value:ee,onChange:P=>re(P.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"bestof",children:"Best Of"}),s.jsx("option",{value:"firstto",children:"First To"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs opacity-70 mb-1",children:"Game"}),s.jsxs("select",{className:"input w-full",value:Je,onChange:P=>B(P.target.value),children:[s.jsx("option",{value:"all",children:"All"}),Er.map(P=>s.jsx("option",{value:P,children:P},P))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs opacity-70 mb-1",children:"Starting Score"}),s.jsxs("select",{className:"input w-full",value:Ce,onChange:P=>{const A=P.target.value;Ve(A==="all"?"all":Number(A))},disabled:Je!=="all"&&Je!=="X01",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"301",children:"301"}),s.jsx("option",{value:"501",children:"501"}),s.jsx("option",{value:"701",children:"701"})]})]}),s.jsx("div",{className:"flex items-end gap-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"nearavg",type:"checkbox",className:"accent-purple-500",checked:me,onChange:P=>pe(P.target.checked),disabled:!wt}),s.jsxs("label",{htmlFor:"nearavg",className:`text-sm ${wt?"":"opacity-50"}`,children:["Near my avg",wt?` (${wt.toFixed(1)})`:""]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs opacity-70 mb-1 ${me?"":"opacity-40"}`,children:"Avg tolerance ()"}),s.jsx("input",{className:"w-full",type:"range",min:1,max:50,value:ut,onChange:P=>dt(parseInt(P.target.value||"10")),disabled:!me}),s.jsxs("div",{className:"text-xs opacity-70 mt-1",children:[" ",ut]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{className:"btn px-3 py-1 text-sm",onClick:()=>{re("all"),B("all"),Ve("all"),pe(!1),dt(10)},children:"Reset"})})]}),Hn.length===0?s.jsx("div",{className:"text-sm text-slate-300",children:"No games waiting. Create one!"}):s.jsx("div",{className:"space-y-2",children:Hn.map(P=>s.jsxs("div",{className:"p-2 rounded-lg bg-black/20 flex items-center justify-between relative",children:[c&&P.creatorId===c&&s.jsx("button",{className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow",title:"Close this match",onClick:()=>{var A;t?t.send({type:"cancel-match",matchId:P.id}):(A=p.current)==null||A.send(JSON.stringify({type:"cancel-match",matchId:P.id}))},"aria-label":"Close match",children:""}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:P.creatorName}),"  ",P.game||"X01","  ",P.mode==="bestof"?`Best Of ${P.value}`:`First To ${P.value}`," ",P.game==="X01"?` X01 ${P.startingScore}`:""]}),P.requireCalibration&&s.jsx("div",{className:"text-[11px] inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300 border border-emerald-600/30 mt-1",children:"Calibration required"}),P.creatorAvg?s.jsxs("div",{className:"text-xs opacity-70",children:["Creator avg: ",Number(P.creatorAvg).toFixed(1)]}):null,s.jsxs("div",{className:"text-xs opacity-70",children:["ID: ",P.id]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"btn px-3 py-1 text-sm bg-rose-600 hover:bg-rose-700",disabled:J||!(e!=null&&e.fullAccess)&&sn.includes(P.game)||!!P.requireCalibration&&!Tt,title:!(e!=null&&e.fullAccess)&&sn.includes(P.game)?"PREMIUM game":J?"Weekly free games used":P.requireCalibration&&!Tt?"Calibration required":"",onClick:async()=>{var se;Ie({game:P.game,mode:P.mode,value:P.value,startingScore:P.startingScore});const A=!!Tt,Y=await Ls();t?t.send({type:"join-match",matchId:P.id,calibrated:A,boardPreview:Y}):(se=p.current)==null||se.send(JSON.stringify({type:"join-match",matchId:P.id,calibrated:A,boardPreview:Y}))},children:"Join Now!"})})]},P.id))})]}),!(e!=null&&e.fullAccess)&&Q!==1/0&&Q<=0&&s.jsxs("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-slate-900/40"}),s.jsxs("div",{className:"relative z-10 p-4 rounded-xl bg-black/60 border border-slate-700 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-semibold",children:"Online play locked"}),s.jsx("div",{className:"text-sm text-slate-200/80",children:"Youve used your 3 free online games this week. Upgrade to PREMIUM to play all modes."}),s.jsxs("a",{href:"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk",target:"_blank",rel:"noopener noreferrer",className:"btn mt-3 bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold",children:["Upgrade to PREMIUM  ",Fm(Um(),5)]})]})]}),C&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"card w-full max-w-3xl relative",children:[s.jsx("button",{className:"absolute top-2 right-2 btn px-2 py-1",onClick:()=>S(!1),children:"Close"}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:"Online Match"}),s.jsxs("div",{className:"text-sm text-slate-300 mb-2",children:["Room: ",n]}),s.jsxs("div",{className:"mb-2 text-sm",children:["Participants: ",M.length||1]}),k.players.length>=1&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:k.players.map((P,A)=>{const Y=P.legs[P.legs.length-1],se=Y?Y.totalScoreRemaining:k.startingScore,F=(e==null?void 0:e.username)&&P.name===e.username,Oe=Y&&Y.visits.length?Y.visits[Y.visits.length-1].score:0,_e=Y?Y.dartsThrown:0,ft=_e>0?(((Y==null?void 0:Y.totalScoreStart)??k.startingScore)-se)/_e*3:0;return s.jsxs("div",{className:"p-3 rounded-xl bg-brand-50 text-black",children:[s.jsxs("div",{className:"text-xs text-slate-600 flex items-center justify-between",children:[s.jsx("span",{children:F?"Your Remaining":`${P.name} Remaining`}),A===k.currentPlayerIdx?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-300 text-xs font-bold",children:"THROWING"}):s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-300 text-xs font-bold",children:"WAITING TO THROW"})]}),s.jsx("div",{className:"text-3xl font-extrabold",children:se}),s.jsxs("div",{className:"text-sm mt-1",children:["Last score: ",s.jsx("span",{className:"font-semibold",children:Oe})]}),s.jsxs("div",{className:"text-sm",children:["3-Dart Avg: ",s.jsx("span",{className:"font-semibold",children:ft.toFixed(1)})]}),F&&A===k.currentPlayerIdx&&se<=170&&se>0&&s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-indigo-50 border border-indigo-200 text-indigo-900 text-sm",children:["Checkout suggestions (fav ",h,"): ",Om(se,h).join("    ")||""]})]},`summary-${P.id}`)})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:k.players.map((P,A)=>{const Y=P.legs[P.legs.length-1],se=Y?Y.totalScoreRemaining:k.startingScore;return s.jsxs("div",{className:`p-3 rounded-xl ${A===k.currentPlayerIdx?"ring-2 ring-brand-400":""} bg-brand-50 text-black`,children:[s.jsxs("div",{className:"text-xs text-slate-600 flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold",children:P.name}),A===k.currentPlayerIdx?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-300 text-xs font-bold",children:"THROWING"}):s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-500/20 text-slate-300 text-xs font-bold",children:"WAITING TO THROW"})]}),s.jsx("div",{className:"text-3xl font-extrabold",children:se})]},P.id)})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-3",children:e!=null&&e.username&&((Ir=k.players[k.currentPlayerIdx])==null?void 0:Ir.name)===e.username?s.jsx(zm,{label:"Your Board",autoStart:!1}):s.jsx("div",{className:"text-xs opacity-60",children:"Opponent's camera will appear here when supported"})}),s.jsxs("div",{className:"font-semibold",children:["Current: ",((Lr=k.players[k.currentPlayerIdx])==null?void 0:Lr.name)||""]}),D==="X01"&&(e!=null&&e.username)&&((Rr=k.players[k.currentPlayerIdx])==null?void 0:Rr.name)===e.username?s.jsxs(s.Fragment,{children:[s.jsx(yv,{onVisitCommitted:(P,A,Y)=>{if(d){const F=k.players[k.currentPlayerIdx],Oe=F==null?void 0:F.legs[F.legs.length-1],_e=Oe?Oe.totalScoreRemaining:k.startingScore;no((e==null?void 0:e.username)||"Player",P,Math.max(0,_e),f,{volume:x,checkoutOnly:j})}const se=k.players[k.currentPlayerIdx];e!=null&&e.username&&(se==null?void 0:se.name)===e.username&&or(e.username,A,P),Y||k.nextPlayer(),Vt()}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input w-28",type:"number",min:0,value:H,onChange:P=>Z(parseInt(P.target.value||"0"))}),s.jsx("button",{className:"btn",onClick:()=>{const P=Math.max(0,H|0);k.addVisit(P,3),Z(0);const A=k.players[k.currentPlayerIdx],Y=A.legs[A.legs.length-1];if(Y&&Y.totalScoreRemaining===0?k.endLeg(P):k.nextPlayer(),d){const se=Y?Y.totalScoreRemaining:k.startingScore;no((e==null?void 0:e.username)||"Player",P,Math.max(0,se),f,{volume:x,checkoutOnly:j})}e!=null&&e.username&&(A==null?void 0:A.name)===e.username&&or(e.username,3,P),Vt()},children:"Submit Visit (Manual)"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>{k.undoVisit(),Vt()},children:"Undo"})]}),s.jsxs("div",{className:"mt-3 p-2 rounded-lg bg-slate-800/30 border border-slate-700/40",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Quick Chat"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Good luck!","Good game!","Nice darts!","Well played!","Ready?"].map(P=>s.jsx("button",{className:"btn px-3 py-1 text-sm",onClick:()=>Is(P),disabled:!l,children:P},P))})]})]}):e!=null&&e.username&&((En=k.players[k.currentPlayerIdx])==null?void 0:En.name)===e.username?s.jsxs("div",{className:"p-3 rounded-xl bg-black/20",children:[s.jsxs("div",{className:"text-sm mb-2",children:[D," (online)  manual turn entry"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input w-28",type:"number",min:0,value:H,onChange:P=>Z(parseInt(P.target.value||"0"))}),s.jsx("button",{className:"btn",onClick:()=>{const P=Math.max(0,H|0);k.addVisit(P,3),Z(0),k.nextPlayer(),Vt()},children:"Submit"}),s.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>{k.undoVisit(),Vt()},children:"Undo"})]})]}):s.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/40 text-center text-slate-300 font-semibold",children:"WAITING TO THROW"}),s.jsxs("div",{className:"mt-3 p-2 rounded-lg bg-black/20 border border-slate-700/40",children:[s.jsx("div",{className:"text-xs text-slate-300 mb-1",children:"Messages"}),s.jsx("div",{className:"h-20 overflow-auto text-sm",children:a.length===0?s.jsx("div",{className:"opacity-60",children:"No messages yet."}):a.slice(-10).map((P,A)=>s.jsxs("div",{children:[s.jsxs("span",{className:"text-slate-400",children:["[",P.from,"]"]})," ",s.jsx("span",{className:"text-white",children:P.message})]},A))})]})]})]})}),ce&&s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50",children:s.jsx("div",{className:"w-full h-full flex items-stretch justify-stretch p-0",children:s.jsxs(ss,{storageKey:"ndn:modal:create-match",className:"w-full h-full rounded-none !border-0 !shadow-none relative",fullScreen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-slate-900/80 backdrop-blur border-b border-slate-700 z-10 px-2 py-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Create Match"}),s.jsx("button",{className:"btn px-2 py-1",onClick:()=>te(!1),children:"Close"})]}),s.jsxs("div",{className:"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4 overflow-auto px-2",style:{maxHeight:"calc(100vh - 120px)"},children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Game"}),s.jsx("select",{className:"input w-full",value:oe,onChange:P=>$e(P.target.value),children:Er.map(P=>s.jsxs("option",{value:P,disabled:!(e!=null&&e.fullAccess)&&sn.includes(P),children:[P," ",!(e!=null&&e.fullAccess)&&sn.includes(P)?"(PREMIUM)":""]},P))})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Mode"}),s.jsxs("select",{className:"input w-full",value:L,onChange:P=>_(P.target.value),children:[s.jsx("option",{value:"bestof",children:"Best Of"}),s.jsx("option",{value:"firstto",children:"First To"})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Value"}),s.jsx("input",{className:"input w-full",type:"number",min:1,value:$,onChange:P=>X(parseInt(P.target.value||"1"))}),s.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Example: Best Of 5  first to 3"})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Starting Score"}),oe==="X01"?s.jsx("select",{className:"input w-full",value:ne,onChange:P=>he(parseInt(P.target.value||"501")),children:[301,501,701].map(P=>s.jsx("option",{value:P,children:P},P))}):s.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Starting score applies to X01 only"})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Require Calibration"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"calibreq",type:"checkbox",className:"accent-purple-500",checked:V,onChange:P=>G(P.target.checked)}),s.jsx("label",{htmlFor:"calibreq",className:"text-sm opacity-80",children:"Players must be calibrated"})]})]}),s.jsx("div",{className:"col-span-1",children:s.jsxs("div",{className:"p-3 rounded-lg bg-black/20 border border-slate-700/40",children:[s.jsx("div",{className:"text-xs text-slate-300 uppercase tracking-wide mb-1",children:"Summary"}),s.jsxs("div",{className:"text-sm font-semibold",children:[oe,"  ",L==="bestof"?`Best Of ${$}`:`First To ${$}`," ",oe==="X01"?` ${ne}`:""]}),!(e!=null&&e.fullAccess)&&sn.includes(oe)&&s.jsx("div",{className:"text-xs text-rose-300 mt-1",children:"PREMIUM required"})]})}),s.jsx("div",{className:"md:col-span-2"})]}),s.jsx("div",{className:"sticky bottom-0 bg-slate-900/80 backdrop-blur border-t border-slate-700 z-10 px-2 py-2",children:s.jsx("button",{className:"btn w-full",disabled:!(e!=null&&e.fullAccess)&&sn.includes(oe),title:!(e!=null&&e.fullAccess)&&sn.includes(oe)?"PREMIUM game":"",onClick:()=>{var A,Y;const P=e!=null&&e.username?gl(e.username):0;t?(t.send({type:"create-match",game:oe,mode:L,value:$,startingScore:ne,creatorAvg:P,requireCalibration:V}),te(!1),t.send({type:"list-matches"})):((A=p.current)==null||A.send(JSON.stringify({type:"create-match",game:oe,mode:L,value:$,startingScore:ne,creatorAvg:P,requireCalibration:V})),te(!1),(Y=p.current)==null||Y.send(JSON.stringify({type:"list-matches"})))},children:"START GAME!"})})]})})}),q&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(ss,{storageKey:"ndn:modal:invite",className:"w-full relative",defaultWidth:620,defaultHeight:420,minWidth:520,minHeight:320,maxWidth:1e3,maxHeight:800,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:"Incoming Match Request"}),s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"font-semibold",children:q.fromName})," wants to join your match.",s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${q.calibrated?"bg-emerald-500/20 text-emerald-300 border border-emerald-600/30":"bg-amber-500/20 text-amber-200 border border-amber-600/30"}`,children:q.calibrated?"Calibrated":"Not calibrated"})]}),(q.game||q.mode)&&s.jsxs("div",{className:"text-xs opacity-80 mb-3",children:[q.game||"X01","  ",q.mode==="firstto"?`First To ${q.value}`:`Best Of ${q.value}`," ",q.game==="X01"&&q.startingScore?` ${q.startingScore}`:""]}),q.boardPreview?s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:q.boardPreview,alt:"Board preview",className:"rounded-lg w-full max-h-64 object-contain bg-black/40 border border-slate-700"})}):s.jsx("div",{className:"mb-3 text-xs opacity-60",children:"No camera preview provided."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:()=>{var P;t?t.send({type:"invite-response",matchId:q.matchId,accept:!0,toId:q.fromId}):(P=p.current)==null||P.send(JSON.stringify({type:"invite-response",matchId:q.matchId,accept:!0,toId:q.fromId})),Se(null)},children:"Accept"}),s.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700",onClick:()=>{var P;t?t.send({type:"invite-response",matchId:q.matchId,accept:!1,toId:q.fromId}):(P=p.current)==null||P.send(JSON.stringify({type:"invite-response",matchId:q.matchId,accept:!1,toId:q.fromId})),Se(null)},children:"Decline"})]})]})})]})}function Ju(e){return(e??0).toFixed(2)}function Nv(){const{players:e,inProgress:t,startingScore:n,newMatch:r}=is(),[l,i]=m.useState("x01"),[a,o]=m.useState("Player 1, Player 2"),[c,u]=m.useState(501),p=m.useMemo(()=>{const g=new Map;if(l==="x01")for(const N of e)for(const w of N.legs)for(const k of w.visits){const h=Math.max(0,Math.min(180,k.score));g.set(h,(g.get(h)??0)+1)}const v=Array.from(g.entries()).sort((N,w)=>N[0]-w[0]);return v.length===0&&l==="x01"?([0,26,41,60,81,100,120,140,160,180].forEach(N=>g.set(N,0)),Array.from(g.entries()).sort((N,w)=>N[0]-w[0]).map(([N,w])=>({label:N,value:w}))):v.map(([N,w])=>({label:N,value:w}))},[e,l]),y=m.useMemo(()=>{const g=cc(Er);return Er.map(v=>{const N=g[v]||{played:0,won:0};return{label:v,value:N.played,extra:N.won}})},[l]);return m.useEffect(()=>{const g=()=>i(v=>v);return window.addEventListener("ndn:stats-updated",g),()=>window.removeEventListener("ndn:stats-updated",g)},[]),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Match Stats"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm opacity-80",children:"Game:"}),s.jsxs("select",{className:"input py-1",value:l,onChange:g=>i(g.target.value),children:[s.jsx("option",{value:"x01",children:"X01 (1701001)"}),s.jsx("option",{value:"other",children:"Other Modes"})]})]})]}),e.length===0&&s.jsxs("div",{className:"mb-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:[s.jsx("div",{className:"font-semibold mb-2",children:"No match data yet"}),s.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Start a quick X01 match to generate stats. Stats like Best/Worst 3-dart are finalized when you end the game."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-300 mb-1",children:"Players (comma separated)"}),s.jsx("input",{className:"input w-full",value:a,onChange:g=>o(g.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-300 mb-1",children:"Starting Score"}),s.jsx("input",{className:"input w-full",type:"number",value:c,onChange:g=>u(parseInt(g.target.value||"501"))})]}),s.jsx("div",{children:s.jsx("button",{className:"btn w-full",onClick:()=>{const g=a.split(",").map(v=>v.trim()).filter(Boolean);if(!g.length)return alert("Enter at least one player");r(g,c)},children:"Start Match"})})]})]}),t&&s.jsx("div",{className:"mb-3 p-2 rounded-lg text-sm border border-amber-500/40 bg-amber-500/10 text-amber-200",children:"Note: Detailed leg stats are finalized at the end of the game."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(g=>s.jsxs("div",{className:"p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:[s.jsx("div",{className:"font-semibold mb-2",children:g.name}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10",children:[s.jsx("div",{className:"text-slate-300",children:"Best 3-Dart"}),s.jsx("div",{className:"font-semibold",children:Ju(g.bestThreeDartAvg)})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10",children:[s.jsx("div",{className:"text-slate-300",children:"Worst 3-Dart"}),s.jsx("div",{className:"font-semibold",children:Ju(g.worstThreeDartAvg)})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10",children:[s.jsx("div",{className:"text-slate-300",children:"Best 9-Dart (fewest darts)"}),s.jsx("div",{className:"font-semibold",children:g.bestNineDart?`${g.bestNineDart.darts} darts`:""})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10",children:[s.jsx("div",{className:"text-slate-300",children:"Best Checkout"}),s.jsx("div",{className:"font-semibold",children:g.bestCheckout??""})]})]})]},g.id))}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"mb-2 text-sm opacity-80",children:["Score Distribution (",l.toUpperCase(),"): Visits by scored points"]}),s.jsx("div",{className:"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3",children:s.jsx(lo,{data:p,showValues:!1})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 text-sm opacity-80",children:"Other Modes: games played (bar height) with wins shown beneath each label"}),s.jsxs("div",{className:"rounded-xl border border-indigo-500/40 bg-indigo-500/10 p-3",children:[s.jsx(lo,{data:y.map(g=>({label:g.label,value:g.value})),showValues:!1}),s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 text-[11px] opacity-80",children:y.map((g,v)=>s.jsxs("div",{className:"flex items-center justify-between px-2 py-1 rounded-md bg-white/5 border border-white/10",children:[s.jsx("span",{className:"truncate mr-2",children:g.label}),s.jsxs("span",{className:"whitespace-nowrap",children:["Played ",g.value,"  Won ",g.extra]})]},v))})]})]})]})}function bv({user:e}){const t=uc(),n=(()=>{try{return dc()}catch{return null}})(),[r,l]=m.useState([]),[i,a]=m.useState(!1),[o,c]=m.useState(""),[u,p]=m.useState(null),[y,g]=m.useState(!1),[v,N]=m.useState({title:"Community X01 Tournament",game:"X01",mode:"bestof",value:3,description:"",startAt:new Date(Date.now()+2*60*60*1e3).toISOString().slice(0,16),checkinMinutes:15,capacity:8,startingScore:501});async function w(){try{const E=await(await fetch("/api/tournaments")).json();l(Array.isArray(E.tournaments)?E.tournaments:[])}catch{}}m.useEffect(()=>{w()},[]),m.useEffect(()=>{if(!n)return;const b=n.addListener(E=>{try{E.type==="tournaments"&&l(E.tournaments||[])}catch{}});return()=>{b()}},[n==null?void 0:n.connected]);const k=String((e==null?void 0:e.email)||"").toLowerCase();m.useEffect(()=>{let b=!1;async function E(){if(!k){p(null);return}try{const H=await(await fetch(`/api/subscription?email=${encodeURIComponent(k)}`)).json();b||((H==null?void 0:H.source)==="tournament"&&typeof H.expiresAt=="number"&&H.expiresAt>Date.now()?p(H.expiresAt):p(null))}catch{b||p(null)}}return E(),()=>{b=!0}},[k]);function h(b){var E;return!!((E=b.participants)!=null&&E.some(z=>z.email===k))}async function d(b){if(k&&confirm("Delete this tournament?")){a(!0);try{let E=await fetch("/api/tournaments/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:b.id,requesterEmail:k})});if(!E.ok&&E.status===403&&String(k)==="daviesfamily108@gmail.com"&&(E=await fetch("/api/admin/tournaments/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:b.id,requesterEmail:k})})),!E.ok){let z="Delete failed";try{const H=await E.json();H!=null&&H.error&&(z=`Delete failed: ${String(H.error)}`)}catch{}t(z,{type:"error"});return}t("Tournament deleted",{type:"success"}),await w()}finally{a(!1)}}}async function f(b){if(k){a(!0);try{const E=await fetch("/api/tournaments/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:b.id,email:k,username:e==null?void 0:e.username})});if(!E.ok){let z={};try{z=await E.json()}catch{}(z==null?void 0:z.error)==="WINNER_COOLDOWN"&&typeof z.until=="number"?(c(`You're a recent NDN tournament winner. You can re-enter after ${M(z.until)}.`),setTimeout(()=>c(""),6e3),t("Join blocked: winner cooldown active",{type:"error"})):z!=null&&z.error&&(c(String(z.error)),setTimeout(()=>c(""),3500),t(`Join failed: ${String(z.error)}`,{type:"error"}));return}t("Joined tournament",{type:"success"}),await w()}finally{a(!1)}}}async function x(){a(!0);try{const b=new Date(v.startAt).getTime();await fetch("/api/tournaments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:v.title,game:v.game,mode:v.mode,value:Number(v.value),description:v.description,startAt:b,checkinMinutes:Number(v.checkinMinutes),capacity:Number(v.capacity),startingScore:v.game==="X01"?Number(v.startingScore||501):void 0,creatorEmail:e==null?void 0:e.email,creatorName:e==null?void 0:e.username})}),g(!1),t("Tournament created",{type:"success"}),await w()}finally{a(!1)}}m.useEffect(()=>{if(!y)return;const b=E=>{E.key==="Escape"&&g(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[y]);const j=m.useMemo(()=>r.filter(b=>b.official),[r]),C=m.useMemo(()=>r.filter(b=>!b.official),[r]),S=m.useMemo(()=>j.filter(E=>E.status==="scheduled").sort((E,z)=>E.startAt-z.startAt)[0]||null,[j]);function M(b){return new Date(b).toLocaleString()}return s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h2",{className:"text-2xl font-bold",children:"Tournaments"})}),s.jsx("div",{className:"mb-3 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/40 flex items-center justify-end",children:s.jsx("button",{className:"btn",onClick:()=>g(!0),children:"Create Tournament +"})}),s.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-300",children:"World Lobby"}),S&&s.jsx("div",{className:"mb-4 p-3 rounded-xl border border-indigo-500/40 bg-indigo-500/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm uppercase tracking-wide text-indigo-300 font-semibold",children:"Weekly Official Tournament"}),s.jsx("div",{className:"font-bold",children:S.title}),s.jsxs("div",{className:"text-sm opacity-80",children:[S.game,S.game==="X01"&&S.startingScore?`/${S.startingScore}`:"","  ",S.mode==="firstto"?"First to":"Best of"," ",S.value,"  Starts ",M(S.startAt),"  Cap ",S.capacity,"  Joined ",S.participants.length]}),S.prize&&s.jsxs("div",{className:"text-xs mt-1",children:["Prize: ",S.prizeType==="cash"&&S.prizeAmount?`${S.currency||"USD"} ${S.prizeAmount}`:"1 month PREMIUM"]}),S.status!=="scheduled"&&s.jsxs("div",{className:"text-xs",children:["Status: ",S.status]}),u&&u>Date.now()&&s.jsxs("div",{className:"text-xs text-rose-300",children:["Recent winners can re-enter after ",M(u),"."]})]}),s.jsx("div",{className:"shrink-0",children:s.jsx("button",{className:`btn ${h(S)?"bg-emerald-600 hover:bg-emerald-600":""}`,title:S.official&&u&&u>Date.now()?`Recent winners can re-enter after ${M(u)}`:"",disabled:i||h(S)||S.status!=="scheduled"||S.participants.length>=S.capacity||!!u&&u>Date.now(),onClick:()=>f(S),"aria-label":h(S)?"Already Joined":"Join Now",children:h(S)?"Already Joined!":"Join Now"})})]})}),o&&s.jsx("div",{className:"mb-3 p-2 rounded-lg bg-amber-700/30 border border-amber-600/40 text-amber-200 text-sm",children:o}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Official"}),s.jsx("div",{className:"text-xs opacity-70 mb-2",children:u&&u>Date.now()?s.jsxs(s.Fragment,{children:["Youre a recent NDN tournament winner  to keep it fair, you can re-enter after ",M(u),"."]}):s.jsx(s.Fragment,{children:"Note: Weekly winners can re-enter once their prize month of PREMIUM ends."})}),s.jsxs("ul",{className:"space-y-2",children:[j.map(b=>s.jsxs("li",{className:"p-3 rounded bg-black/10 flex items-center justify-between relative",children:[b.status==="scheduled"&&k&&b.creatorEmail&&String(b.creatorEmail).toLowerCase()===k&&s.jsx("button",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow",title:"Delete this tournament",onClick:()=>d(b),"aria-label":"Delete tournament",children:""}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"font-semibold",children:[b.title," ",b.prize&&s.jsxs("span",{className:"inline-flex items-center gap-1 ml-2 align-middle",children:[s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-amber-500 text-black",children:"Prize"}),s.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-slate-600 text-white text-[10px] leading-none cursor-help",title:b.prizeType==="cash"?"Official cash prize tournament  payout handled by admin.":"Weekly winners get 1 month of PREMIUM and can re-enter once their prize month ends.","aria-label":"Prize info",children:"i"})]})]}),s.jsxs("div",{className:"text-sm opacity-80",children:[b.game,b.game==="X01"&&b.startingScore?`/${b.startingScore}`:"","  ",b.mode==="firstto"?"First to":"Best of"," ",b.value,"  ",M(b.startAt),"  Cap ",b.capacity,"  Joined ",b.participants.length]}),b.prize&&s.jsxs("div",{className:"text-xs",children:["Prize: ",b.prizeType==="cash"&&b.prizeAmount?`${b.currency||"USD"} ${b.prizeAmount}`:"1 month PREMIUM",b.status==="completed"&&b.prizeType==="cash"&&b.payoutStatus&&s.jsx("span",{className:`ml-2 px-2 py-0.5 rounded ${b.payoutStatus==="paid"?"bg-emerald-600":"bg-amber-600"}`,children:b.payoutStatus==="paid"?"Paid":"Pending"})]}),b.status!=="scheduled"&&s.jsxs("div",{className:"text-xs",children:["Status: ",b.status]}),h(b)&&s.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Already Joined"}),b.official&&u&&u>Date.now()&&s.jsxs("div",{className:"text-xs text-rose-300",children:["Cooldown active until ",M(u),"."]})]}),s.jsx("div",{children:s.jsx("button",{className:`btn ${h(b)?"bg-emerald-600 hover:bg-emerald-600":""}`,title:b.official&&u&&u>Date.now()?`Recent winners can re-enter after ${M(u)}`:"",disabled:i||h(b)||b.status!=="scheduled"||b.participants.length>=b.capacity||b.official&&!!u&&u>Date.now(),onClick:()=>f(b),"aria-label":h(b)?"Already Joined":"Join Now",children:h(b)?"Already Joined!":"Join Now"})})]},b.id)),j.length===0&&s.jsx("li",{className:"text-sm opacity-60",children:"No official tournaments yet."})]})]}),s.jsxs("section",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Community"}),s.jsxs("ul",{className:"space-y-2",children:[C.map(b=>s.jsxs("li",{className:"p-3 rounded bg-black/10 flex items-center justify-between relative",children:[b.status==="scheduled"&&k&&b.creatorEmail&&String(b.creatorEmail).toLowerCase()===k&&s.jsx("button",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-rose-600 hover:bg-rose-700 text-white text-xs flex items-center justify-center shadow",title:"Delete this tournament",onClick:()=>d(b),"aria-label":"Delete tournament",children:""}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-semibold",children:b.title}),s.jsxs("div",{className:"text-sm opacity-80",children:[b.game,b.game==="X01"&&b.startingScore?`/${b.startingScore}`:"","  ",b.mode==="firstto"?"First to":"Best of"," ",b.value,"  ",M(b.startAt),"  Cap ",b.capacity,"  Joined ",b.participants.length]}),b.description&&s.jsx("div",{className:"text-xs opacity-80",children:b.description}),h(b)&&s.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Already Joined"})]}),s.jsx("div",{children:s.jsx("button",{className:"btn",disabled:i||h(b)||b.status!=="scheduled"||b.participants.length>=b.capacity,onClick:()=>f(b),children:h(b)?"Already Joined":"Join Now"})})]},b.id)),C.length===0&&s.jsx("li",{className:"text-sm opacity-60",children:"No community tournaments yet."})]})]})]}),y&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"card relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Create Tournament"}),s.jsx("button",{className:"btn",onClick:()=>g(!1),children:"Close"})]}),s.jsxs("div",{className:"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4 pr-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Title"}),s.jsx("input",{className:"input w-full",value:v.title,onChange:b=>N(E=>({...E,title:b.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Game"}),s.jsx("select",{className:"input w-full",value:v.game,onChange:b=>N(E=>({...E,game:b.target.value})),children:["X01","Around the Clock","Cricket","Halve It","Shanghai","High-Low","Killer"].map(b=>s.jsx("option",{value:b,children:b},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Mode"}),s.jsxs("select",{className:"input w-full",value:v.mode,onChange:b=>N(E=>({...E,mode:b.target.value})),children:[s.jsx("option",{value:"bestof",children:"Best of"}),s.jsx("option",{value:"firstto",children:"First to"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Number"}),s.jsx("input",{className:"input w-full",type:"number",min:1,value:v.value,onChange:b=>N(E=>({...E,value:Number(b.target.value)}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Description"}),s.jsx("textarea",{className:"input w-full",rows:5,value:v.description,onChange:b=>N(E=>({...E,description:b.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Start time"}),s.jsx("input",{className:"input w-full",type:"datetime-local",value:v.startAt,onChange:b=>N(E=>({...E,startAt:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Check-in reminder (min)"}),s.jsx("input",{className:"input w-full",type:"number",min:0,value:v.checkinMinutes,onChange:b=>N(E=>({...E,checkinMinutes:Number(b.target.value)}))})]})]}),v.game==="X01"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"X01 Starting Score"}),s.jsx("select",{className:"input w-full",value:String(v.startingScore),onChange:b=>N(E=>({...E,startingScore:Number(b.target.value)})),children:[301,501,701].map(b=>s.jsx("option",{value:b,children:b},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Capacity"}),s.jsx("input",{className:"input w-full",type:"number",min:6,max:64,value:v.capacity,onChange:b=>N(E=>({...E,capacity:Number(b.target.value)}))})]}),s.jsx("div",{className:"text-xs opacity-70",children:"Note: community tournaments do not award prizes."}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn",disabled:i,onClick:x,children:"Create"})})]})]})})]})}function jv(){return s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold text-indigo-300 mb-2",children:"Admin PREMIUM"}),s.jsx("p",{className:"mb-2 text-indigo-200",children:"Unlock every game mode known to darts, advanced stats, and admin tools."}),s.jsxs("ul",{className:"mb-4",children:[s.jsx("li",{children:"All game modes (including paid/advanced)"}),s.jsx("li",{children:"Online play with all rules and variations"}),s.jsx("li",{children:"Advanced analytics and leaderboards"}),s.jsx("li",{children:"Admin tools for managing matches and users"})]}),s.jsx("a",{href:"https://buy.stripe.com/test_00g7vQ8Qw2gQ0wA5kk",target:"_blank",rel:"noopener noreferrer",className:"btn bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-bold shadow-lg hover:scale-105 transition",children:"Subscribe to PREMIUM"})]})}function Sv({open:e,onClose:t,width:n=700,title:r,footer:l,children:i,side:a="right"}){return m.useEffect(()=>{function o(c){c.key==="Escape"&&t()}return e&&document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]),s.jsxs("div",{className:`fixed inset-0 z-50 ${e?"":"pointer-events-none"}`,"aria-hidden":!e,children:[s.jsx("div",{className:`absolute inset-0 bg-black/60 transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:t}),s.jsxs("div",{className:`absolute top-0 ${a==="right"?"right-0 border-l":"left-0 border-r"} h-full bg-slate-900 border-slate-700 shadow-2xl w-full sm:w-auto flex flex-col transition-transform duration-200 ${e?"translate-x-0":a==="right"?"translate-x-full":"-translate-x-full"}`,style:{width:typeof n=="number"?`${n}px`:n},role:"dialog","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-700 sticky top-0 bg-slate-900 z-10",children:[s.jsx("div",{className:"text-lg font-semibold",children:r}),s.jsx("button",{className:"btn px-2 py-1",onClick:t,children:"Close"})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4",children:i}),l&&s.jsx("div",{className:"px-4 py-3 border-t border-slate-700 sticky bottom-0 bg-slate-900 z-10",children:l})]})]})}function kv(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;const n=Math.abs(t)%360;return Qm(n,65,55)}async function Cv(e){try{const t=new Image;t.crossOrigin="anonymous";const n=await new Promise((w,k)=>{t.onload=()=>w(t),t.onerror=()=>k(new Error("image-load-failed")),t.src=e}),r=32,l=32,i=document.createElement("canvas");i.width=r,i.height=l;const a=i.getContext("2d");if(!a)return null;a.drawImage(n,0,0,r,l);const o=a.getImageData(0,0,r,l).data;let c=0,u=0,p=0,y=0;for(let w=0;w<o.length;w+=4)o[w+3]<10||(c+=o[w],u+=o[w+1],p+=o[w+2],y++);if(!y)return null;c=Math.round(c/y),u=Math.round(u/y),p=Math.round(p/y);const[g,v,N]=Ev(c,u,p);return Qm(g,Math.min(80,v+10),Math.max(35,N))}catch{return null}}function Qm(e,t,n){t/=100,n/=100;const r=o=>(o+e/30)%12,l=t*Math.min(n,1-n),i=o=>n-l*Math.max(-1,Math.min(r(o)-3,Math.min(9-r(o),1))),a=o=>Math.round(255*o).toString(16).padStart(2,"0");return`#${a(i(0))}${a(i(8))}${a(i(4))}`}function Ev(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),l=Math.min(e,t,n);let i=0,a=0;const o=(r+l)/2;if(r!==l){const c=r-l;switch(a=o>.5?c/(2-r-l):c/(r+l),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i*=60}return[Math.round(i),Math.round(a*100),Math.round(o*100)]}function Tv(){const e=(()=>{try{return dc()}catch{return null}})(),[t,n]=m.useState("score"),[r,l]=m.useState(!1),[i,a]=m.useState(!1),[o,c]=m.useState(null),[u,p]=m.useState(0),{avgMode:y}=fi(),[g,v]=m.useState(""),[N,w]=m.useState(null),k=m.useRef(null),[h,d]=m.useState(!1),[f,x]=m.useState(null);m.useEffect(()=>{const S=window.matchMedia("(max-width: 768px)"),M=/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent||""),b=()=>l(S.matches||M);b();try{S.addEventListener("change",b)}catch{window.addEventListener("resize",b)}return()=>{try{S.removeEventListener("change",b)}catch{window.removeEventListener("resize",b)}}},[]),m.useEffect(()=>{const S=()=>d(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",S),()=>document.removeEventListener("fullscreenchange",S)},[]),m.useEffect(()=>{r||a(!1)},[r]),m.useEffect(()=>{if(typeof window>"u")return;try{v(localStorage.getItem("ndn:avatar")||"")}catch{}const S=M=>{try{const b=M.detail;v(typeof b=="string"?b:localStorage.getItem("ndn:avatar")||"")}catch{try{v(localStorage.getItem("ndn:avatar")||"")}catch{}}};return window.addEventListener("ndn:avatar-updated",S),()=>window.removeEventListener("ndn:avatar-updated",S)},[]),m.useEffect(()=>{async function S(){const M=g||"",b=o!=null&&o.username?kv(o.username):null;if(M){const E=await Cv(M);x(E||b)}else x(b)}S()},[g,o==null?void 0:o.username]),m.useEffect(()=>{let S=!1;async function M(){try{const z=await(await fetch(`${window.location.protocol}//${window.location.hostname}:8787/api/https-info`)).json();!S&&z&&typeof z.https=="boolean"&&w({https:!!z.https,port:Number(z.port)||8788})}catch{}}M();const b=setInterval(M,15e3);return()=>{S=!0,clearInterval(b)}},[]),m.useEffect(()=>{const S=()=>n("calibrate"),M=()=>S();window.addEventListener("ndn:request-calibrate",M);const b=E=>{var H;const z=(H=E==null?void 0:E.detail)==null?void 0:H.tab;z&&n(z)};return window.addEventListener("ndn:change-tab",b),()=>{window.removeEventListener("ndn:request-calibrate",M),window.removeEventListener("ndn:change-tab",b)}},[]),m.useEffect(()=>{const S=document.getElementById("ndn-main-scroll");S&&S.scrollTo({top:0,behavior:"auto"})},[t]),m.useEffect(()=>{if(!(o!=null&&o.username))return;const S=()=>p(y==="24h"?Kx(o.username):gl(o.username));S();const M=()=>S();return window.addEventListener("ndn:stats-updated",M),()=>window.removeEventListener("ndn:stats-updated",M)},[o==null?void 0:o.username,y]);async function j(S){try{const M=S!=null&&S.email?`?email=${encodeURIComponent(S.email)}`:"",b=await fetch("/api/subscription"+M);if(!b.ok)return;const E=await b.json();c({...S,fullAccess:!!(E!=null&&E.fullAccess)})}catch{}}if(!o)return s.jsx(fv,{onAuth:S=>{c(S),j(S)}});const C=`https://ui-avatars.com/api/?name=${encodeURIComponent(o.username||"NDN")}&background=8F43EE&color=fff&bold=true&rounded=true&size=64`;return s.jsx(Gm,{children:s.jsx(ov,{children:s.jsxs("div",{ref:k,className:`${o!=null&&o.fullAccess?"premium-body":""} h-screen overflow-hidden p-2 sm:p-4`,children:[s.jsx(iv,{}),s.jsxs("div",{className:"max-w-[1400px] mx-auto grid grid-cols-1 sm:grid-cols-[auto,1fr] gap-3 sm:gap-4 h-full overflow-hidden",children:[!r&&s.jsx("div",{className:"relative",style:{width:240},children:s.jsx(fm,{active:t,onChange:S=>{n(S)},user:o})}),s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsx("div",{className:"pt-2",children:s.jsxs("header",{id:"ndn-header",className:"header glass flex-col md:flex-row gap-2 md:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 order-1",children:[r&&s.jsx("button",{className:"btn px-3 py-1 mr-1","aria-label":"Open navigation",onClick:()=>a(!0),children:""}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-brand-700 whitespace-nowrap",children:"NINE-DART-NATION "})]}),s.jsxs("div",{className:"order-3 md:order-2 w-full md:w-auto flex-1 flex flex-col items-center justify-center text-center md:text-left",children:[s.jsxs("span",{className:"text-base md:text-lg font-semibold flex items-center gap-2 max-w-full truncate",style:f?{color:f}:void 0,children:[s.jsx("span",{className:"hidden sm:inline",children:"Welcome,"}),s.jsx("img",{src:g||C,alt:"avatar",className:"w-6 h-6 md:w-7 md:h-7 rounded-full ring-2 ring-white/20"}),s.jsxs("span",{className:"truncate",children:[o.username,""]})]}),s.jsxs("span",{className:"hidden sm:inline text-xs md:text-sm opacity-80",children:["All-time 3-dart avg: ",s.jsx("span",{className:"font-semibold",children:u.toFixed(2)})]})]}),s.jsxs("div",{className:"order-2 md:order-3 ml-0 md:ml-auto flex items-center gap-2 flex-wrap",children:[s.jsx("button",{className:"btn btn--ghost px-3 py-1 text-sm",onClick:()=>{const S=k.current;S&&(document.fullscreenElement?document.exitFullscreen().catch(()=>{}):S.requestFullscreen().catch(()=>{}))},title:h?"Exit Full Screen":"Enter Full Screen",children:h?"Exit Full Screen":"Full Screen"}),e?s.jsx("span",{className:"ml-0 md:ml-2",children:s.jsx(mv,{status:e.status})}):null,N!=null&&N.https?s.jsx("span",{className:"text-[10px] md:text-xs px-2 py-0.5 rounded-full bg-emerald-600/20 text-emerald-300 border border-emerald-400/40",title:`Phone HTTPS active on :${N.port}`,children:"HTTPS READY"}):s.jsx("span",{className:"text-[10px] md:text-xs px-2 py-0.5 rounded-full bg-slate-600/30 text-slate-300 border border-slate-400/30",title:"Enable HTTPS for iPhone camera pairing",children:"HTTP ONLY"})]})]})}),r&&s.jsx(Dv,{open:i,onClose:()=>a(!1),active:t,onChange:S=>{n(S),a(!1)},user:o}),s.jsxs("main",{id:"ndn-main-scroll",className:"space-y-4 flex-1 overflow-y-auto pr-1",children:[t==="settings"&&s.jsx(Ft,{children:s.jsx(dv,{user:o})}),t==="score"&&s.jsx(Ft,{children:s.jsx(lg,{user:o})}),t==="online"&&s.jsx(Ft,{children:s.jsx(wv,{user:o})}),t==="offline"&&s.jsx(Ft,{children:s.jsx(nv,{user:o})}),t==="calibrate"&&s.jsx(Ft,{children:s.jsx(Fx,{})}),t==="friends"&&s.jsx(Ft,{children:s.jsx(lv,{user:o})}),t==="stats"&&s.jsx(Ft,{children:s.jsx(Nv,{})}),t==="tournaments"&&s.jsx(Ft,{children:s.jsx(bv,{user:o})}),t==="admin"&&s.jsx(Ft,{children:s.jsx(Wm,{user:o})}),t==="fullaccess"&&s.jsx(Ft,{children:s.jsx(jv,{})})]})]})]})]})})})}function Dv({open:e,onClose:t,active:n,onChange:r,user:l}){return s.jsx(Sv,{open:e,onClose:t,width:300,side:"left",title:"Navigate",children:s.jsx("div",{className:"mt-2",children:s.jsx(fm,{active:n,onChange:r,user:l})})})}class Mv extends uo.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,message:String((t==null?void 0:t.message)||t)}}componentDidCatch(t,n){console.error("[ErrorBoundary]",t,n)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsxs("div",{className:"card max-w-lg w-full text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),s.jsx("p",{className:"opacity-80 mb-4",children:"Please refresh the page. If this persists, let us know."}),this.state.message&&s.jsx("pre",{className:"text-xs bg-black/40 rounded p-2 overflow-auto text-left",children:this.state.message}),s.jsx("button",{className:"btn mt-4",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}ra.createRoot(document.getElementById("root")).render(s.jsx(uo.StrictMode,{children:s.jsx(Mv,{children:s.jsx(Gm,{children:s.jsx(Tv,{})})})}));

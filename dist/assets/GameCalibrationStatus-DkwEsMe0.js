import{Y as k,Z as $,_ as R,$ as E,a0 as F,a1 as G,j as e,a2 as A}from"./index-dfzpafZr.js";import{K as b,N as c,O as h,R as g,Z as v}from"./ui-BJlhKnDz.js";function q({gameMode:s,compact:l=!1,onRecalibrate:d}){const{H:y,errorPx:r,confidence:p,locked:C}=k(),n=$(s,r),a=R(s,r),{text:o}=E(s,r),x=F(s),m=A[s],i=typeof r=="number"&&!Number.isNaN(r)?G(r):typeof p=="number"?p:null,f=typeof i=="number"&&Math.abs(i-n)>=.5,u=!!y;if(C)return l?e.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-300 inline-flex items-center gap-1 border border-emerald-600/30",children:[e.jsx(b,{className:"w-3 h-3"}),"Camera connected ‚úÖ"]}):e.jsxs("div",{className:"px-3 py-2 rounded bg-emerald-500/20 border border-emerald-600/30 flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-emerald-300",children:"Camera Connected ‚úÖ"}),e.jsxs("div",{className:"text-xs opacity-80",children:["Camera is locked and ready for ",s]})]})]});if(!u)return l?e.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-slate-600/40 text-slate-300 inline-flex items-center gap-1 border border-slate-500/30",children:[e.jsx(c,{className:"w-3 h-3"}),"Camera not connected ‚ùå"]}):e.jsxs("div",{className:"px-3 py-2 rounded bg-red-500/20 border border-red-600/30 flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-red-300",children:"Calibration Required ‚ö†Ô∏è"}),e.jsxs("div",{className:"text-xs opacity-80",children:["Please calibrate before playing ",s]})]}),d&&e.jsx("button",{className:"btn px-2 py-1 text-xs bg-red-600 hover:bg-red-700",onClick:d,children:"Calibrate üìç"})]});if(u&&(r==null||Number.isNaN(r)))return l?e.jsxs("div",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1 border bg-amber-500/20 border-amber-600/30 text-amber-200",children:[e.jsx(h,{className:"w-3 h-3"}),"Quality unknown"]}):e.jsx("div",{className:"px-3 py-2 rounded border bg-amber-500/20 border-amber-600/30 space-y-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4 text-amber-300 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-emerald-300",children:["Calibration for ",s]}),e.jsx("div",{className:"text-xs opacity-80",children:"Calibrated, but quality is unknown (re-check recommended)"})]})]})});const t=o.includes("Perfect"),N=t?"bg-indigo-500/20 border-indigo-600/30":a?"bg-emerald-500/20 border-emerald-600/30":"bg-amber-500/20 border-amber-600/30",w=t?"text-indigo-300":a?"text-emerald-300":"text-amber-300",j=t?v:a?b:c;return l?e.jsxs("div",{className:`text-xs px-2 py-1 rounded inline-flex items-center gap-1 border ${N} ${w}`,children:[g.createElement(j,{className:"w-3 h-3"}),e.jsxs("span",{className:"flex flex-wrap gap-x-1",children:[e.jsx("span",{children:o}),typeof i=="number"&&e.jsxs("span",{children:["¬∑ Raw ",i.toFixed(1),"%"]}),f&&e.jsx("span",{children:`¬∑ ${s}: ${n.toFixed(1)}%`})]}),!a&&x&&e.jsx("span",{className:"w-3 h-3 cursor-help",title:x,children:e.jsx(h,{className:"w-3 h-3 inline"})})]}):e.jsxs("div",{className:`px-3 py-2 rounded border ${N} space-y-1`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[g.createElement(j,{className:`w-4 h-4 ${t?"text-indigo-400":a?"text-emerald-400":"text-amber-400"} flex-shrink-0`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`font-medium ${t?"text-indigo-300":a?"text-emerald-300":"text-amber-300"}`,children:["Calibration for ",s]}),e.jsxs("div",{className:"text-xs opacity-80 flex flex-wrap gap-x-2 gap-y-1",children:[e.jsxs("span",{children:["Error: ",r!==null?`${r.toFixed(2)}px`:"Unknown"]}),e.jsx("span",{children:o}),typeof i=="number"&&e.jsxs("span",{children:["Raw: ",i.toFixed(1),"%"]}),f&&e.jsx("span",{children:`${s}: ${n.toFixed(1)}%`})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 rounded bg-black/30 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${t?"bg-indigo-500":a?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(100,n)}%`}})}),e.jsxs("span",{className:"text-xs font-mono",children:[n.toFixed(1),"%"]})]}),m&&e.jsx("div",{className:"text-xs opacity-75",children:e.jsxs("div",{children:["Tolerance: ¬±",m.tolerancePx,"px | Min:"," ",m.minConfidence,"%"]})}),e.jsxs("div",{className:"space-y-1",children:[!a&&e.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-amber-900/30 text-amber-200 border border-amber-600/20 flex items-center gap-1",children:[e.jsx(c,{className:"w-3 h-3 flex-shrink-0"}),"Calibration quality is below minimum for ",s]}),x&&e.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-blue-900/30 text-blue-200 border border-blue-600/20 flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3 flex-shrink-0"}),x]})]}),!a&&d&&e.jsxs("button",{className:"w-full btn px-2 py-1 text-sm mt-2 bg-amber-600 hover:bg-amber-700",onClick:d,children:["Recalibrate for ",s]})]})}export{q as G};
//# sourceMappingURL=GameCalibrationStatus-DkwEsMe0.js.map

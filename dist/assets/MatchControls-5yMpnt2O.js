import{j as e}from"./index-DWqlal_W.js";import{r as h,N as D}from"./ui-DygUIHRq.js";const C=["7","8","9","4","5","6","1","2","3","0"];function E({value:c,onChange:l,onSubmit:i,disabled:r=!1,label:x="Number pad",helperText:m,maxLength:u=3,className:b=""}){const p=a=>{const t=`${c==="0"?"":c??""}${a}`,n=u>0?t.slice(0,u):t;l(n)};return h.useEffect(()=>{if(r)return;const a=t=>{if(!t||!t.tagName)return!1;const n=t,d=n.tagName.toLowerCase();return d==="input"||d==="textarea"||d==="select"?!0:!!n.getAttribute("contenteditable")},o=t=>{if(!t.defaultPrevented&&!a(t.target)&&!(t.metaKey||t.ctrlKey||t.altKey)){if(t.key>="0"&&t.key<="9"){t.preventDefault(),p(t.key);return}if(t.key==="Backspace"){t.preventDefault(),l((c||"").slice(0,-1));return}if(t.key==="Escape"){t.preventDefault(),l("");return}t.key==="Enter"&&i&&(t.preventDefault(),i())}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[p,r,l,i,c]),e.jsxs("div",{className:b,children:[x&&e.jsx("div",{className:"text-sm font-semibold mb-2",children:x}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-sm",children:[C.map(a=>e.jsx("button",{className:"btn text-lg",onClick:()=>p(a),disabled:r,children:a},a)),e.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700 text-white",onClick:()=>l(""),disabled:r,children:"Clear"}),e.jsx("button",{className:"btn bg-slate-600 hover:bg-slate-700 text-white",onClick:()=>l((c||"").slice(0,-1)),disabled:r,children:"Back"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>i&&i(),disabled:r||!i,children:"Enter"})]}),m&&e.jsx("div",{className:"text-xs opacity-70 mt-2",children:m})]})}function I({inProgress:c=!0,startingScore:l=501,pendingEntries:i=[],onAddVisit:r,onUndo:x,onEndLeg:m,onNextPlayer:u,onEndGame:b,showDartsSelect:p=!0,showCheckoutSelectors:a=!0,quickButtons:o=[180,140,100,60]}){const[t,n]=h.useState("0"),[d,k]=h.useState(3),[N,w]=h.useState(3),[g,y]=h.useState(1),v=Number(t||0),f=Number.isFinite(v)?v:0,j=()=>{r(Math.max(0,f),d),n("0")};return c?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{className:"input w-32",type:"number",value:t,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),j())},placeholder:"Score"}),p&&e.jsxs("select",{className:"input",value:d,onChange:s=>k(parseInt(s.target.value)),children:[e.jsx("option",{value:1,children:"1 dart"}),e.jsx("option",{value:2,children:"2 darts"}),e.jsx("option",{value:3,children:"3 darts"})]}),e.jsx("button",{className:"btn",onClick:j,children:"Add Visit âž•"}),e.jsx("button",{className:"px-3 py-2 rounded-xl border border-slate-200",onClick:()=>x&&x(),title:"Undo",children:e.jsx(D,{className:"w-4 h-4"})})]}),o&&o.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.jsx("span",{className:"opacity-70",children:"Quick:"}),o.map(s=>e.jsx("button",{className:"btn px-2 py-0.5 text-xs",onClick:()=>r(s,3),children:s},String(s)))]}),e.jsx(E,{value:t,onChange:n,onSubmit:j,helperText:"Tap numbers then press Enter to submit."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{className:"btn",onClick:()=>{m&&m(Math.max(0,f),N,{doubleDarts:g}),n("0")},children:["End Leg (Checkout ",f||0,") ï¿½"]}),e.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>u&&u(),children:"Next Player ðŸ‘¤"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:()=>{b&&b()},children:"End Game ï¿½"})]}),a&&e.jsxs("div",{className:"grid gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts used at double"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${g===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>y(s),children:s},`double-${s}`))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts at checkout"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${N===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>w(s),children:s},`checkout-${s}`))})]})]})]}):e.jsx("p",{className:"text-slate-600",children:"No game in progress."})}export{I as M,E as S};
//# sourceMappingURL=MatchControls-5yMpnt2O.js.map

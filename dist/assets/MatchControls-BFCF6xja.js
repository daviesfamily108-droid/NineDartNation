import{j as e}from"./index-rAzhK-sV.js";import{r as h,N as K}from"./ui-DygUIHRq.js";const M=["7","8","9","4","5","6","1","2","3","0"];function T({value:n,onChange:c,onSubmit:l,disabled:r=!1,label:o="Number pad",helperText:d,maxLength:x=3,className:b=""}){const u=a=>{const t=`${n==="0"?"":n??""}${a}`,i=x>0?t.slice(0,x):t;c(i)};return h.useEffect(()=>{if(r)return;const a=t=>{if(!t||!t.tagName)return!1;const i=t,p=i.tagName.toLowerCase();return p==="input"||p==="textarea"||p==="select"?!0:!!i.getAttribute("contenteditable")},m=t=>{if(!t.defaultPrevented&&!a(t.target)&&!(t.metaKey||t.ctrlKey||t.altKey)){if(t.key>="0"&&t.key<="9"){t.preventDefault(),u(t.key);return}if(t.key==="Backspace"){t.preventDefault(),c((n||"").slice(0,-1));return}if(t.key==="Escape"){t.preventDefault(),c("");return}t.key==="Enter"&&l&&(t.preventDefault(),l())}};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[u,r,c,l,n]),e.jsxs("div",{className:b,children:[o&&e.jsx("div",{className:"text-sm font-semibold mb-2",children:o}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-sm",children:[M.map(a=>e.jsx("button",{className:"btn text-lg",onClick:()=>u(a),disabled:r,children:a},a)),e.jsx("button",{className:"btn bg-rose-600 hover:bg-rose-700 text-white",onClick:()=>c(""),disabled:r,children:"Clear"}),e.jsx("button",{className:"btn bg-slate-600 hover:bg-slate-700 text-white",onClick:()=>c((n||"").slice(0,-1)),disabled:r,children:"Back"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>l&&l(),disabled:r||!l,children:"Enter"})]}),d&&e.jsx("div",{className:"text-xs opacity-70 mt-2",children:d})]})}function _({inProgress:n=!0,startingScore:c=501,pendingEntries:l=[],onAddVisit:r,onUndo:o,onEndLeg:d,onNextPlayer:x,onEndGame:b,showDartsSelect:u=!0,showCheckoutSelectors:a=!0,showActionButtons:m=!0,showQuickButtons:t=!0,showUndo:i=!0,showVisitInputRow:p=!0,showHelperText:C=!0,showNumberPadLabel:E=!0,quickButtons:j=[180,140,100,60]}){const[N,f]=h.useState("0"),[k,S]=h.useState(3),[w,$]=h.useState(3),[y,I]=h.useState(1),D=Number(N||0),g=Number.isFinite(D)?D:0,v=()=>{r(Math.max(0,g),k),f("0")};return n?e.jsxs("div",{className:"space-y-3",children:[p&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{className:"input w-32",type:"number",value:N,onChange:s=>f(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),v())},placeholder:"Score"}),u&&e.jsxs("select",{className:"input",value:k,onChange:s=>S(parseInt(s.target.value)),children:[e.jsx("option",{value:1,children:"1 dart"}),e.jsx("option",{value:2,children:"2 darts"}),e.jsx("option",{value:3,children:"3 darts"})]}),e.jsx("button",{className:"btn",onClick:v,children:"Add Visit âž•"}),i&&e.jsx("button",{className:"px-3 py-2 rounded-xl border border-slate-200",onClick:()=>o&&o(),title:"Undo",children:e.jsx(K,{className:"w-4 h-4"})})]}),t&&j&&j.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.jsx("span",{className:"opacity-70",children:"Quick:"}),j.map(s=>e.jsx("button",{className:"btn px-2 py-0.5 text-xs",onClick:()=>r(s,3),children:s},String(s)))]}),e.jsx(T,{value:N,onChange:f,onSubmit:v,label:E?"Number pad":void 0,helperText:C?"Tap numbers then press Enter to submit.":void 0}),m&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{className:"btn",onClick:()=>{d&&d(Math.max(0,g),w,{doubleDarts:y}),f("0")},children:["End Leg (Checkout ",g||0,") ï¿½"]}),e.jsx("button",{className:"btn bg-slate-700 hover:bg-slate-800",onClick:()=>x&&x(),children:"Next Player ðŸ‘¤"}),e.jsx("button",{className:"btn bg-emerald-600 hover:bg-emerald-700",onClick:()=>{b&&b()},children:"End Game ï¿½"})]}),a&&e.jsxs("div",{className:"grid gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts used at double"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${y===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>I(s),children:s},`double-${s}`))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Darts at checkout"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(s=>e.jsx("button",{className:`btn px-3 py-1 text-sm ${w===s?"bg-brand-600":"btn--ghost"}`,onClick:()=>$(s),children:s},`checkout-${s}`))})]})]})]}):e.jsx("p",{className:"text-slate-600",children:"No game in progress."})}export{_ as M,T as S};
//# sourceMappingURL=MatchControls-BFCF6xja.js.map

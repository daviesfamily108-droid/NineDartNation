import{A as ne,e as ae,j as t,B as ie}from"./index-CMUmc1rS.js";import{r as l}from"./ui-DygUIHRq.js";import"./vendor-D3F3s8fL.js";const B="ndn:messages:inbox",z="ndn:messages:unread",K="ndn:messages:threads";function re(){try{const o=localStorage.getItem(B),i=o?JSON.parse(o):[],s=Number(localStorage.getItem(z)||"0")||0,a=localStorage.getItem(K),r=a?JSON.parse(a):{};return{inbox:Array.isArray(i)?i.filter(h=>h&&typeof h.id=="string").slice(0,200):[],unread:s,threads:r&&typeof r=="object"?r:{}}}catch{return{inbox:[],unread:0,threads:{}}}}function C(o,i,s){try{localStorage.setItem(B,JSON.stringify(o))}catch{}try{localStorage.setItem(z,String(i))}catch{}if(s)try{localStorage.setItem(K,JSON.stringify(s))}catch{}}const W=re(),le=ne((o,i)=>({inbox:W.inbox,unread:W.unread,threads:W.threads,inGame:!1,setInGame:s=>o({inGame:s}),add:s=>o(a=>{const r=a.inbox.some(h=>h.id===s.id&&h.ts===s.ts),d=r?a.inbox:[s,...a.inbox].slice(0,200),u=a.unread+(r?0:1);return C(d,u,a.threads),{inbox:d,unread:u}}),load:s=>o(a=>{const r=[...s].sort((d,u)=>u.ts-d.ts).slice(0,200);return C(r,a.unread,a.threads),{inbox:r,unread:a.unread}}),loadThread:(s,a)=>o(r=>{const d=String(s||"").toLowerCase();if(!d)return r;const u=[...a].sort((w,k)=>w.ts-k.ts).slice(-400),h={...r.threads,[d]:{other:d,messages:u}};return C(r.inbox,r.unread,h),{threads:h}}),markAllRead:()=>{const s=i();C(s.inbox,0,s.threads),o({unread:0})},pushThread:(s,a)=>o(r=>{const d=String(s||"").toLowerCase();if(!d)return r;const h=[...r.threads[d]?.messages||[],a].sort((k,T)=>k.ts-T.ts).slice(-400),w={...r.threads,[d]:{other:d,messages:h}};return C(r.inbox,r.unread,w),{threads:w}}),remove:s=>o(a=>{const r=a.inbox.filter(u=>u.id!==s),d=a.unread;return C(r,d,a.threads),{inbox:r,unread:d}})})),oe=[/\b(f+[\W_]*u+[\W_]*c+[\W_]*k+)\b/gi,/\b(s+[\W_]*h+[\W_]*i+[\W_]*t+)\b/gi,/\b(b+[\W_]*i+[\W_]*t+[\W_]*c+[\W_]*h+)\b/gi,/\b(a+[\W_]*s+[\W_]*s+[\W_]*h+[\W_]*o+[\W_]*l+[\W_]*e+)\b/gi,/\b(d+[\W_]*a+[\W_]*m+[\W_]*n+)\b/gi,/\b(c+[\W_]*r+[\W_]*a+[\W_]*p+)\b/gi,/\b(p+[\W_]*i+[\W_]*s+[\W_]*s+)\b/gi];function ce(o){return o.replace(/[\p{L}\p{N}]/gu,"*")}function de(o){if(!o)return o;let i=o;for(const s of oe)i=i.replace(s,a=>ce(a));return i}function me(o){if(!o)return"";const i=Math.floor((Date.now()-o)/1e3);if(i<60)return`${i}s ago`;const s=Math.floor(i/60);if(s<60)return`${s}m ago`;const a=Math.floor(s/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function ge({user:o}){const i=ae(),s=String(o?.email||"").toLowerCase(),[a,r]=l.useState([]),[d,u]=l.useState([]),[h,w]=l.useState([]),[k,T]=l.useState(""),[M,fe]=l.useState("all"),[N,O]=l.useState(!1),x=le(),[c,q]=l.useState(null),[F,A]=l.useState(""),P=l.useRef(null),[R,H]=l.useState([]),[$,Q]=l.useState([]),[_,L]=l.useState({show:!1}),[b,g]=l.useState(null),[y,j]=l.useState(null),D=l.useCallback(async e=>{const n=String(e||"").toLowerCase();if(!(!s||!n||n===s))try{const f=await(await fetch(`/api/friends/thread?email=${encodeURIComponent(s)}&other=${encodeURIComponent(n)}`)).json();f?.ok&&Array.isArray(f.thread)&&x.loadThread(n,f.thread)}catch{}},[s,x]),E=l.useMemo(()=>{if(!c?.email)return[];const e=c.email.toLowerCase(),n=x.threads?.[e]?.messages;return Array.isArray(n)&&n.length?n:x.inbox.filter(m=>String(m.from||"").toLowerCase()===e).slice().sort((m,f)=>m.ts-f.ts)},[c?.email,x.inbox,x.threads]);l.useMemo(()=>{const e=new Map;for(const n of x.inbox){const m=String(n.from||"").toLowerCase(),f=e.get(m);(!f||n.ts>f.ts)&&e.set(m,{ts:n.ts,message:n.message})}return e},[x.inbox]),l.useMemo(()=>{const e=new Map,n=1e3*60*60*24*3,m=Date.now()-n;for(const f of x.inbox){if((f.ts||0)<m)continue;const p=String(f.from||"").toLowerCase();e.set(p,(e.get(p)||0)+1)}return e},[x.inbox]);async function v(){if(s)try{const[e,n,m,f]=await Promise.all([fetch(`/api/friends/list?email=${encodeURIComponent(s)}`).then(p=>p.json()),fetch(`/api/friends/suggested?email=${encodeURIComponent(s)}`).then(p=>p.json()),fetch(`/api/friends/requests?email=${encodeURIComponent(s)}`).then(p=>p.json()),fetch(`/api/friends/outgoing?email=${encodeURIComponent(s)}`).then(p=>p.json())]);r(e.friends||[]),u(n.suggestions||[]),H(m.requests||[]),Q(f.requests||[])}catch{}}l.useEffect(()=>{v()},[s]),l.useEffect(()=>{s&&fetch(`/api/friends/messages?email=${encodeURIComponent(s)}`).then(e=>e.json()).then(e=>{e?.ok&&Array.isArray(e.messages)&&x.load(e.messages)}).catch(()=>{})},[s]),l.useEffect(()=>{c?.email&&D(c.email)},[c?.email,D]),l.useEffect(()=>{if(!c)return;const e=P.current;e&&(e.scrollTop=e.scrollHeight)},[c?.email,E.length]);async function X(e){if(T(e),!e){w([]);return}try{const m=await(await fetch(`/api/friends/search?q=${encodeURIComponent(e)}`)).json();w(m.results||[])}catch{}}async function U(e){if(!(!s||!e)){O(!0);try{await fetch("/api/friends/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,friend:e})}),await v(),T(""),w([]),i("Friend added",{type:"success"})}finally{O(!1)}}}async function Y(e){if(!(!s||!e)){O(!0);try{await fetch("/api/friends/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,friend:e})}),await v(),i("Friend removed",{type:"info"})}finally{O(!1)}}}async function V(e){try{await fetch("/api/friends/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,requestId:e})}),await v(),i("Friend request accepted",{type:"success"})}catch{}}async function Z(e){try{await fetch("/api/friends/decline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,requestId:e})}),await v(),i("Friend request declined",{type:"info"})}catch{}}async function ee(e){try{await fetch("/api/friends/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,requestId:e})}),await v(),i("Friend request cancelled",{type:"info"})}catch{}}async function te(){const n=document.getElementById("message-input")?.value;if(!(!n||!_.toEmail))try{await fetch("/api/friends/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromEmail:s,toEmail:_.toEmail,message:n})}),L({show:!1}),i("Message sent",{type:"success"})}catch{}}async function J(){if(!s||!c?.email)return;const e=F.trim();if(e)try{await fetch("/api/friends/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromEmail:s,toEmail:c.email,message:e})});const n=Date.now(),m=`${n}-${Math.random().toString(36).slice(2,8)}`;x.pushThread(c.email,{id:m,from:s,to:String(c.email).toLowerCase(),message:e,ts:n,readBy:[s]}),A(""),i("Message sent",{type:"success"})}catch{i("Failed to send message",{type:"error"})}}l.useMemo(()=>M==="all"?a:a.filter(e=>(e.status||"offline")===M),[a,M]);const I=l.useMemo(()=>{const e={online:0,ingame:0,offline:0};for(const n of a)n.status==="online"?e.online+=1:n.status==="ingame"?e.ingame+=1:e.offline+=1;return e},[a]),S=l.useMemo(()=>{const e=a.filter(f=>(f.status||"offline")==="online"),n=a.filter(f=>(f.status||"offline")==="offline"),m=a.filter(f=>(f.status||"offline")==="ingame");return{online:e,offline:n,ingame:m}},[a]);async function se(e){if(!e){i("Room unavailable",{type:"error"});return}try{const n=new CustomEvent("ndn:spectate-request",{detail:{roomId:e}});window.dispatchEvent(n),i("Opening spectator view...",{type:"info"})}catch{}}const G=R.length+$.length;return t.jsxs("div",{className:"card ndn-game-shell ndn-page",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-700 mb-2 ndn-section-title",children:"Friends ðŸ‘¥"}),t.jsx("p",{className:"mb-2 text-brand-600",children:"Manage your friends. See who's online, in-game, or offline; find new teammates; and invite people to play."}),t.jsx("div",{className:"grid gap-3 mb-4 grid-cols-2 sm:grid-cols-4",children:[{label:"Online",value:I.online,accent:"bg-emerald-500/10 border-emerald-500/40"},{label:"In-Game",value:I.ingame,accent:"bg-amber-500/10 border-amber-500/40"},{label:"Offline",value:I.offline,accent:"bg-slate-500/10 border-slate-500/40"},{label:"Requests",value:G,accent:"bg-indigo-500/10 border-indigo-500/40"}].map(e=>t.jsxs("div",{className:`rounded-2xl border px-3 py-2 text-center ${e.accent} ${e.label!=="Requests"?"cursor-pointer hover:brightness-110":""}`,role:e.label!=="Requests"?"button":void 0,tabIndex:e.label!=="Requests"?0:void 0,onClick:()=>{e.label==="Online"?g({show:!0,filter:"online"}):e.label==="Offline"?g({show:!0,filter:"offline"}):e.label==="In-Game"&&g({show:!0,filter:"ingame"})},onKeyDown:n=>{n.key!=="Enter"&&n.key!==" "||(e.label==="Online"?g({show:!0,filter:"online"}):e.label==="Offline"?g({show:!0,filter:"offline"}):e.label==="In-Game"&&g({show:!0,filter:"ingame"}))},children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:e.label}),t.jsx("div",{className:"text-2xl font-semibold text-white",children:e.value})]},e.label))}),b?.show&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onMouseDown:e=>{e.target===e.currentTarget&&g(null)},children:t.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-white/10 bg-slate-950/90 p-4 shadow-2xl",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:b.filter==="online"?"Online friends":b.filter==="offline"?"Offline friends":"In-game friends"}),t.jsx("div",{className:"text-sm text-white/80",children:"Tap a friend to see actions."})]}),t.jsx("button",{className:"btn btn--ghost px-3 py-1 text-xs",onClick:()=>g(null),children:"Close"})]}),t.jsxs("ul",{className:"space-y-2 max-h-[60vh] overflow-auto pr-1",children:[(b.filter==="online"?S.online:b.filter==="offline"?S.offline:S.ingame).map(e=>t.jsx("li",{children:t.jsxs("button",{className:"w-full text-left p-3 rounded-2xl border border-white/10 bg-slate-900/40 hover:bg-slate-900/60 transition",onClick:()=>j({show:!0,friend:e}),children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-white truncate",children:e.username||e.email}),t.jsx("div",{className:"text-xs text-slate-400 truncate",children:e.email})]}),t.jsx("div",{className:"shrink-0 text-[11px] text-slate-300/80",children:(e.status||"offline")==="online"?"Online":(e.status||"offline")==="ingame"?"In-Game":e.lastSeen?`Last seen ${me(e.lastSeen)}`:"Offline"})]}),e.status==="ingame"&&e.match&&t.jsxs("div",{className:"mt-2 text-[11px] text-slate-300/70",children:[ie(e.match.mode)," Â· ",e.match.game," Â· ",e.match.value]})]})},`${b.filter}-${e.email}`)),b.filter==="online"&&S.online.length===0||b.filter==="offline"&&S.offline.length===0||b.filter==="ingame"&&S.ingame.length===0?t.jsx("li",{className:"text-xs text-slate-400 p-3",children:"No friends in this category."}):null]})]})}),y?.show&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onMouseDown:e=>{e.target===e.currentTarget&&j(null)},children:t.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-slate-950/95 p-4 shadow-2xl",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"font-semibold text-white",children:y.friend.username||y.friend.email}),t.jsx("div",{className:"text-xs text-slate-400",children:y.friend.email})]}),t.jsxs("div",{className:"space-y-2",children:[y.friend.status==="ingame"&&t.jsx("button",{className:"w-full btn px-3 py-2 justify-start",onClick:()=>{const e=y.friend.roomId;j(null),se(e)},children:"Spectate game"}),t.jsx("button",{className:"w-full btn px-3 py-2 justify-start",onClick:()=>{const e=y.friend;j(null),g(null),q({email:e.email,username:e.username})},children:"Message"}),y.friend.status!=="ingame"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"w-full btn btn--ghost px-3 py-2 justify-start",onClick:()=>{i("Compare is not wired yet",{type:"info"}),j(null)},children:"Compare"}),t.jsx("button",{className:"w-full btn btn--ghost px-3 py-2 justify-start text-rose-300",onClick:async()=>{const e=y.friend;confirm(`Remove ${e.username||e.email} from your friends?`)&&(j(null),g(null),await Y(e.email))},children:"Delete friend"})]})]}),t.jsx("div",{className:"mt-3 flex justify-end",children:t.jsx("button",{className:"btn btn--ghost px-3 py-1 text-xs",onClick:()=>j(null),children:"Cancel"})})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-3 mb-4",children:[t.jsxs("div",{className:`${c?"hidden lg:block":"block"} lg:col-span-2 p-4 rounded-[28px] bg-gradient-to-br from-slate-900/80 to-indigo-900/60 border border-white/10 shadow-2xl`,children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsx("div",{className:"font-semibold text-white/90",children:"Friend Requests"})}),t.jsx("ul",{className:"space-y-3 mt-3",children:G>0?t.jsxs(t.Fragment,{children:[R.length>0&&R.map(e=>t.jsxs("li",{className:"p-3 rounded-2xl border border-white/10 bg-slate-900/40 flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-lg",children:e.fromUsername||e.fromEmail||"Unknown User"}),t.jsx("span",{className:"text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded",children:"Incoming"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>V(e.id),className:"px-3 py-1 rounded-lg bg-emerald-500/20 text-emerald-400 text-xs font-bold hover:bg-emerald-500/30 transition-colors",children:"Accept âœ…"}),t.jsx("button",{onClick:()=>Z(e.id),className:"px-3 py-1 rounded-lg bg-rose-500/20 text-rose-400 text-xs font-bold hover:bg-rose-500/30 transition-colors",children:"Decline âŒ"})]})]},`incoming-${e.id||e.fromEmail}`)),$.length>0&&$.map(e=>t.jsxs("li",{className:"p-3 rounded-2xl border border-white/10 bg-slate-900/40 flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-lg",children:e.toUsername||e.toEmail||"Unknown User"}),t.jsx("div",{className:"px-3 py-1 rounded-lg bg-white/5 text-white/40 text-xs font-bold",children:"Pending â³"})]}),t.jsx("button",{onClick:()=>ee(e.id),className:"px-3 py-1 rounded-lg bg-rose-500/20 text-rose-400 text-xs font-bold hover:bg-rose-500/30 transition-colors",children:"Cancel âœ–ï¸"})]},`outgoing-${e.id||e.toEmail}`))]}):t.jsx("li",{className:"text-sm opacity-70",children:"No friend requests yet."})})]}),t.jsx("div",{className:`${c?"block":"hidden lg:block"} lg:col-span-3 p-4 rounded-[28px] bg-slate-950/70 border border-white/10 shadow-2xl`,children:c?t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("button",{className:"lg:hidden px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-white/80 text-xs font-bold",onClick:()=>q(null),children:"â† Back"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-white truncate",children:c.username||c.email}),t.jsx("div",{className:"text-xs text-slate-400 truncate",children:c.email})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>x.markAllRead(),className:"text-xs text-indigo-400 font-bold hover:text-indigo-300 transition-colors",title:"This clears the global unread counter",children:"Mark all read âœ…"})})]}),t.jsx("div",{ref:P,className:"flex-1 min-h-[260px] max-h-[55vh] overflow-auto rounded-2xl border border-white/10 bg-black/20 p-3",children:E.length===0?t.jsx("div",{className:"text-sm text-slate-400 p-3",children:"No messages from this friend yet. Say hi ðŸ‘‹"}):t.jsx("ul",{className:"space-y-2",children:E.map(e=>{const n=String(e.from||"").toLowerCase()===s;return t.jsx("li",{className:n?"flex justify-end":"flex",children:t.jsxs("div",{className:n?"max-w-[95%] rounded-2xl bg-indigo-600/80 border border-indigo-300/20 px-3 py-2":"max-w-[95%] rounded-2xl bg-slate-900/60 border border-white/10 px-3 py-2",children:[t.jsxs("div",{className:"text-[10px] text-slate-300/80 mb-1 flex items-center justify-between gap-2",children:[t.jsx("span",{className:"font-bold",children:n?"You":c.username||c.email}),t.jsx("span",{className:"shrink-0",children:new Date(e.ts).toLocaleString()})]}),t.jsx("div",{className:"text-sm whitespace-pre-wrap break-words text-white/90",children:de(e.message)}),!n&&t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("button",{onClick:()=>x.remove(e.id),className:"px-3 py-1 rounded-lg bg-rose-500/15 text-rose-300 text-[11px] font-bold hover:bg-rose-500/25 transition-colors",children:"Delete ðŸ—‘ï¸"}),t.jsx("button",{className:"px-3 py-1 rounded-lg bg-rose-500/15 text-rose-300 text-[11px] font-bold hover:bg-rose-500/25 transition-colors",onClick:async()=>{const m=prompt("Report reason (what happened)?");if(m)try{await fetch("/api/friends/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reporterEmail:s,offenderEmail:e.from,reason:m,messageId:e.id})}),i("Report sent to admin",{type:"info"})}catch{}},children:"Report"})]})]})},e.id)})})}),t.jsxs("div",{className:"mt-3 rounded-2xl border border-white/10 bg-slate-900/30 p-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("textarea",{className:"w-full min-h-[44px] max-h-40 bg-slate-700/60 border border-slate-600 rounded-xl px-3 py-2 text-white placeholder-slate-400 resize-y",placeholder:`Message ${c.username||"friend"}...`,value:F,onChange:e=>A(e.target.value),onKeyDown:e=>{e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),J())}}),t.jsx("button",{onClick:J,className:"px-5 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors",children:"Send"})]}),t.jsx("div",{className:"mt-2 text-[11px] text-slate-400",children:"Tip: Press Enter to send, Shift+Enter for a new line."})]})]}):t.jsxs("div",{className:"h-full min-h-[240px] flex flex-col items-center justify-center text-center gap-2",children:[t.jsx("div",{className:"text-lg font-semibold text-white/90",children:"Messages ðŸ’¬"}),t.jsx("div",{className:"text-sm text-slate-400 max-w-sm",children:"Pick a friend to see your conversation. New messages will show up here."}),x.inbox.length>0&&t.jsx("button",{onClick:()=>x.markAllRead(),className:"mt-2 text-xs text-indigo-400 font-bold hover:text-indigo-300 transition-colors",children:"Mark all read âœ…"})]})}),t.jsxs("div",{className:"lg:col-span-2 p-4 rounded-[28px] bg-slate-950/70 border border-white/10 shadow-xl",children:[t.jsx("div",{className:"font-semibold mb-2 text-white/90",children:"Find Friends"}),t.jsx("input",{className:"input w-full mb-2",placeholder:"Search by name or email",value:k,onChange:e=>X(e.target.value)}),t.jsxs("ul",{className:"space-y-2 mb-3 max-h-48 overflow-auto",children:[h.map(e=>t.jsxs("li",{className:"flex items-center justify-between gap-2 p-3 rounded-2xl border border-white/10 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${e.status==="online"?"bg-emerald-400":e.status==="ingame"?"bg-amber-400":"bg-slate-400"}`}),t.jsx("span",{children:e.username||e.email})]}),t.jsx("button",{onClick:()=>U(e.email),disabled:N,className:`px-4 py-2 rounded-xl text-white text-sm font-bold transition-colors ${N?"bg-indigo-900/40 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500"}`,children:N?"Workingâ€¦":"Add âž•"})]},e.email)),h.length===0&&t.jsx("li",{className:"text-xs opacity-60",children:"Type to search..."})]}),t.jsx("div",{className:"font-semibold mb-1 text-white/90",children:"Suggested"}),t.jsxs("ul",{className:"space-y-2 max-h-48 overflow-auto",children:[d.map(e=>t.jsxs("li",{className:"flex items-center justify-between gap-2 p-3 rounded-2xl border border-white/10 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${e.status==="online"?"bg-emerald-400":e.status==="ingame"?"bg-amber-400":"bg-slate-400"}`}),t.jsx("span",{children:e.username||e.email})]}),t.jsx("button",{onClick:()=>U(e.email),disabled:N,className:`px-4 py-2 rounded-xl text-white text-sm font-bold transition-colors ${N?"bg-indigo-900/40 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500"}`,children:N?"Workingâ€¦":"Add âž•"})]},e.email)),d.length===0&&t.jsx("li",{className:"text-xs opacity-60",children:"No suggestions right now."})]})]})]}),_.show&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsx("div",{className:"text-center mb-4",children:t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Send Message âœ‰ï¸"})}),t.jsx("textarea",{className:"w-full h-32 bg-slate-700 border border-slate-600 rounded p-3 text-white placeholder-slate-400 resize-none",placeholder:"Type your message here...",id:"message-input",autoFocus:!0}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx("button",{onClick:te,className:"px-6 py-2 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors",children:"Send Message ðŸ“¤"}),t.jsx("button",{className:"btn bg-slate-600 hover:bg-slate-700",onClick:()=>L({show:!1}),children:"Cancel"})]})]})})]})}export{ge as default};
//# sourceMappingURL=Friends-CtBoMJbq.js.map

import{h as d}from"./index-QB6Os3F3.js";const b="ndn:messages:inbox",l="ndn:messages:unread";function W(){try{const n=localStorage.getItem(b),r=n?JSON.parse(n):[],t=Number(localStorage.getItem(l)||"0")||0;return{inbox:Array.isArray(r)?r.filter(o=>o&&typeof o.id=="string").slice(0,200):[],unread:t}}catch{return{inbox:[],unread:0}}}function i(n,r){try{localStorage.setItem(b,JSON.stringify(n))}catch{}try{localStorage.setItem(l,String(r))}catch{}}const u=W(),x=d((n,r)=>({inbox:u.inbox,unread:u.unread,inGame:!1,setInGame:t=>n({inGame:t}),add:t=>n(e=>{const o=e.inbox.some(c=>c.id===t.id&&c.ts===t.ts),a=o?e.inbox:[t,...e.inbox].slice(0,200),s=e.unread+(o?0:1);return i(a,s),{inbox:a,unread:s}}),load:t=>n(e=>{const o=[...t].sort((a,s)=>s.ts-a.ts).slice(0,200);return i(o,e.unread),{inbox:o,unread:e.unread}}),markAllRead:()=>{const t=r();i(t.inbox,0),n({unread:0})},remove:t=>n(e=>{const o=e.inbox.filter(s=>s.id!==t),a=e.unread;return i(o,a),{inbox:o,unread:a}})})),_=[/\b(f+[\W_]*u+[\W_]*c+[\W_]*k+)\b/gi,/\b(s+[\W_]*h+[\W_]*i+[\W_]*t+)\b/gi,/\b(b+[\W_]*i+[\W_]*t+[\W_]*c+[\W_]*h+)\b/gi,/\b(a+[\W_]*s+[\W_]*s+[\W_]*h+[\W_]*o+[\W_]*l+[\W_]*e+)\b/gi,/\b(d+[\W_]*a+[\W_]*m+[\W_]*n+)\b/gi,/\b(c+[\W_]*r+[\W_]*a+[\W_]*p+)\b/gi,/\b(p+[\W_]*i+[\W_]*s+[\W_]*s+)\b/gi];function f(n){return n.replace(/[\p{L}\p{N}]/gu,"*")}function m(n){if(!n)return n;let r=n;for(const t of _)r=r.replace(t,e=>f(e));return r}function y(n){return n?_.some(r=>r.test(n)):!1}export{y as a,m as c,x as u};
//# sourceMappingURL=profanity-_ZQ4W8dR.js.map

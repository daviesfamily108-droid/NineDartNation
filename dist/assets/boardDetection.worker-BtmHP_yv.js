(function(){"use strict";const q={bullInner:6.35,bullOuter:15.9,trebleInner:99,trebleOuter:107,doubleInner:162,doubleOuter:170},be=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5];function ge(t,r){const e=new Array(9).fill(0);for(let n=0;n<3;n++)for(let l=0;l<3;l++)for(let i=0;i<3;i++)e[n*3+l]+=t[n*3+i]*r[i*3+l];return e}function te(t,r){const e=r.x,n=r.y,l=t[6]*e+t[7]*n+t[8],i=(t[0]*e+t[1]*n+t[2])/l,f=(t[3]*e+t[4]*n+t[5])/l;return{x:i,y:f}}function Pe(t,r,e){return[r*t[0],r*t[1],r*t[2],e*t[3],e*t[4],e*t[5],t[6],t[7],t[8]]}function Le(t,r){const e=Math.cos(r),n=Math.sin(r),l=[e,-n,0,n,e,0,0,0,1];return ge(t,l)}function Se(t,r,e){return ge([1,0,r,0,1,e,0,0,1],t)}function ne(t,r){if(t.length<4||r.length<4)throw new Error("Need at least 4 correspondences");if(t.length!==r.length)throw new Error("Correspondences must have equal length");const e=[],n=[];for(let f=0;f<t.length;f++){const{x:s,y}=t[f],{x:v,y:O}=r[f];e.push([s,y,1,0,0,0,-v*s,-v*y]),n.push(v),e.push([0,0,0,s,y,1,-O*s,-O*y]),n.push(O)}const l=ke(e,n);return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],1]}function ke(t,r){const e=t.length,n=t[0].length,l=Array.from({length:n},()=>new Array(n).fill(0)),i=new Array(n).fill(0);for(let f=0;f<e;f++)for(let s=0;s<n;s++){i[s]+=t[f][s]*r[f];for(let y=0;y<n;y++)l[s][y]+=t[f][s]*t[f][y]}return Fe(l,i)}function Fe(t,r){const e=r.length,n=t.map((i,f)=>i.concat([r[f]]));for(let i=0;i<e;i++){let f=i;for(let s=i+1;s<e;s++)Math.abs(n[s][i])>Math.abs(n[f][i])&&(f=s);if(Math.abs(n[f][i])<1e-12)throw new Error("Singular matrix");if(f!==i){const s=n[i];n[i]=n[f],n[f]=s}for(let s=i+1;s<e;s++){const y=n[s][i]/n[i][i];for(let v=i;v<=e;v++)n[s][v]-=y*n[i][v]}}const l=new Array(e).fill(0);for(let i=e-1;i>=0;i--){let f=n[i][e];for(let s=i+1;s<e;s++)f-=n[i][s]*l[s];l[i]=f/n[i][i]}return l}function Ne(t="center"){const r=(q.doubleInner+q.doubleOuter)/2,n=[20,6,3,11].map(l=>{const f=be.indexOf(l)/be.length*Math.PI*2-Math.PI/2,s=r*Math.cos(f),y=r*Math.sin(f);return{x:Math.abs(s)<1e-9?0:s,y:Math.abs(y)<1e-9?0:y}});return n.push({x:0,y:0}),n}function Be(t,r,e=256){const n=[];for(let l=0;l<e;l++){const i=l/e*Math.PI*2,f=te(t,{x:r*Math.cos(i),y:r*Math.sin(i)});n.push(f)}return n}function Q(t,r,e){let n=0;for(let l=0;l<r.length;l++){const i=te(t,r[l]),f=i.x-e[l].x,s=i.y-e[l].y;n+=f*f+s*s}return Math.sqrt(n/r.length)}function Ue(t,r,e={}){const n=t.length;if(n<4||r.length<4)throw new Error("Need at least 4 correspondences");const l=e.thresholdPx??8,i=e.maxIter??500,f=e.minInliers??4,s=e.rng??Math.random;let y=null,v=new Array(n).fill(!1),O=0,d=1/0;for(let M=0;M<i;M++){const _=new Set;for(;_.size<4;)_.add(Math.floor(s()*n));const L=Array.from(_),B=[],k=[];for(const x of L)B.push(t[x]),k.push(r[x]);let A;try{A=ne(B,k)}catch{continue}const I=new Array(n).fill(!1);let c=0;for(let x=0;x<n;x++){const z=te(A,t[x]),G=z.x-r[x].x,H=z.y-r[x].y;Math.hypot(G,H)<=l&&(I[x]=!0,c++)}if(c<f)continue;const h=[],p=[];for(let x=0;x<n;x++)I[x]&&(h.push(t[x]),p.push(r[x]));let T;try{T=ne(h,p)}catch{continue}const P=Q(T,h,p);(c>O||c===O&&P<d)&&(O=c,d=P,y=T,v=I.slice())}if(!y||O<f)return{H:null,inliers:new Array(n).fill(!1),errorPx:null};const m=[],R=[];for(let M=0;M<n;M++)v[M]&&(m.push(t[M]),R.push(r[M]));const E=m.length>0?Q(y,m,R):null;return{H:y,inliers:v,errorPx:E}}function $e(t){if(t==null||Number.isNaN(t)||t<0)return null;let r;t<=.25?r=99.5+(.25-t)*2:t<=1?r=98+(1-t)*2:t<=2?r=95+(2-t)*3:t<=5?r=90+(5-t)*1.66:r=Math.max(0,90-(t-5)*5);const e=Math.max(0,Math.min(100,r));return Number(e.toFixed(1))}const je={},Me=t=>{let r;const e=new Set,n=(O,d)=>{const m=typeof O=="function"?O(r):O;if(!Object.is(m,r)){const R=r;r=d??(typeof m!="object"||m===null)?m:Object.assign({},r,m),e.forEach(E=>E(r,R))}},l=()=>r,y={setState:n,getState:l,getInitialState:()=>v,subscribe:O=>(e.add(O),()=>e.delete(O)),destroy:()=>{(je?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),e.clear()}},v=r=t(n,l,y);return y},Ve=t=>t?Me(t):Me;function xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ie={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce;function qe(){if(Ce)return D;Ce=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),f=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),d=Symbol.iterator;function m(o){return o===null||typeof o!="object"?null:(o=d&&o[d]||o["@@iterator"],typeof o=="function"?o:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function _(o,a,u){this.props=o,this.context=a,this.refs=M,this.updater=u||R}_.prototype.isReactComponent={},_.prototype.setState=function(o,a){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,a,"setState")},_.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function L(){}L.prototype=_.prototype;function B(o,a,u){this.props=o,this.context=a,this.refs=M,this.updater=u||R}var k=B.prototype=new L;k.constructor=B,E(k,_.prototype),k.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,c={current:null},h={key:!0,ref:!0,__self:!0,__source:!0};function p(o,a,u){var b,w={},C=null,N=null;if(a!=null)for(b in a.ref!==void 0&&(N=a.ref),a.key!==void 0&&(C=""+a.key),a)I.call(a,b)&&!h.hasOwnProperty(b)&&(w[b]=a[b]);var S=arguments.length-2;if(S===1)w.children=u;else if(1<S){for(var F=Array(S),$=0;$<S;$++)F[$]=arguments[$+2];w.children=F}if(o&&o.defaultProps)for(b in S=o.defaultProps,S)w[b]===void 0&&(w[b]=S[b]);return{$$typeof:t,type:o,key:C,ref:N,props:w,_owner:c.current}}function T(o,a){return{$$typeof:t,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}}function P(o){return typeof o=="object"&&o!==null&&o.$$typeof===t}function x(o){var a={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(u){return a[u]})}var z=/\/+/g;function G(o,a){return typeof o=="object"&&o!==null&&o.key!=null?x(""+o.key):a.toString(36)}function H(o,a,u,b,w){var C=typeof o;(C==="undefined"||C==="boolean")&&(o=null);var N=!1;if(o===null)N=!0;else switch(C){case"string":case"number":N=!0;break;case"object":switch(o.$$typeof){case t:case r:N=!0}}if(N)return N=o,w=w(N),o=b===""?"."+G(N,0):b,A(w)?(u="",o!=null&&(u=o.replace(z,"$&/")+"/"),H(w,a,u,"",function($){return $})):w!=null&&(P(w)&&(w=T(w,u+(!w.key||N&&N.key===w.key?"":(""+w.key).replace(z,"$&/")+"/")+o)),a.push(w)),1;if(N=0,b=b===""?".":b+":",A(o))for(var S=0;S<o.length;S++){C=o[S];var F=b+G(C,S);N+=H(C,a,u,F,w)}else if(F=m(o),typeof F=="function")for(o=F.call(o),S=0;!(C=o.next()).done;)C=C.value,F=b+G(C,S++),N+=H(C,a,u,F,w);else if(C==="object")throw a=String(o),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return N}function W(o,a,u){if(o==null)return o;var b=[],w=0;return H(o,b,"","",function(C){return a.call(u,C,w++)}),b}function oe(o){if(o._status===-1){var a=o._result;a=a(),a.then(function(u){(o._status===0||o._status===-1)&&(o._status=1,o._result=u)},function(u){(o._status===0||o._status===-1)&&(o._status=2,o._result=u)}),o._status===-1&&(o._status=0,o._result=a)}if(o._status===1)return o._result.default;throw o._result}var U={current:null},X={transition:null},j={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:X,ReactCurrentOwner:c};function ae(){throw Error("act(...) is not supported in production builds of React.")}return D.Children={map:W,forEach:function(o,a,u){W(o,function(){a.apply(this,arguments)},u)},count:function(o){var a=0;return W(o,function(){a++}),a},toArray:function(o){return W(o,function(a){return a})||[]},only:function(o){if(!P(o))throw Error("React.Children.only expected to receive a single React element child.");return o}},D.Component=_,D.Fragment=e,D.Profiler=l,D.PureComponent=B,D.StrictMode=n,D.Suspense=y,D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,D.act=ae,D.cloneElement=function(o,a,u){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var b=E({},o.props),w=o.key,C=o.ref,N=o._owner;if(a!=null){if(a.ref!==void 0&&(C=a.ref,N=c.current),a.key!==void 0&&(w=""+a.key),o.type&&o.type.defaultProps)var S=o.type.defaultProps;for(F in a)I.call(a,F)&&!h.hasOwnProperty(F)&&(b[F]=a[F]===void 0&&S!==void 0?S[F]:a[F])}var F=arguments.length-2;if(F===1)b.children=u;else if(1<F){S=Array(F);for(var $=0;$<F;$++)S[$]=arguments[$+2];b.children=S}return{$$typeof:t,type:o.type,key:w,ref:C,props:b,_owner:N}},D.createContext=function(o){return o={$$typeof:f,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:i,_context:o},o.Consumer=o},D.createElement=p,D.createFactory=function(o){var a=p.bind(null,o);return a.type=o,a},D.createRef=function(){return{current:null}},D.forwardRef=function(o){return{$$typeof:s,render:o}},D.isValidElement=P,D.lazy=function(o){return{$$typeof:O,_payload:{_status:-1,_result:o},_init:oe}},D.memo=function(o,a){return{$$typeof:v,type:o,compare:a===void 0?null:a}},D.startTransition=function(o){var a=X.transition;X.transition={};try{o()}finally{X.transition=a}},D.unstable_act=ae,D.useCallback=function(o,a){return U.current.useCallback(o,a)},D.useContext=function(o){return U.current.useContext(o)},D.useDebugValue=function(){},D.useDeferredValue=function(o){return U.current.useDeferredValue(o)},D.useEffect=function(o,a){return U.current.useEffect(o,a)},D.useId=function(){return U.current.useId()},D.useImperativeHandle=function(o,a,u){return U.current.useImperativeHandle(o,a,u)},D.useInsertionEffect=function(o,a){return U.current.useInsertionEffect(o,a)},D.useLayoutEffect=function(o,a){return U.current.useLayoutEffect(o,a)},D.useMemo=function(o,a){return U.current.useMemo(o,a)},D.useReducer=function(o,a,u){return U.current.useReducer(o,a,u)},D.useRef=function(o){return U.current.useRef(o)},D.useState=function(o){return U.current.useState(o)},D.useSyncExternalStore=function(o,a,u){return U.current.useSyncExternalStore(o,a,u)},D.useTransition=function(){return U.current.useTransition()},D.version="18.3.1",D}var ve;function se(){return ve||(ve=1,ie.exports=qe()),ie.exports}var ze=se(),He=xe(ze),ce={exports:{}},le={},ue={exports:{}},fe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe;function Ge(){if(Oe)return fe;Oe=1;var t=se();function r(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var e=typeof Object.is=="function"?Object.is:r,n=t.useState,l=t.useEffect,i=t.useLayoutEffect,f=t.useDebugValue;function s(d,m){var R=m(),E=n({inst:{value:R,getSnapshot:m}}),M=E[0].inst,_=E[1];return i(function(){M.value=R,M.getSnapshot=m,y(M)&&_({inst:M})},[d,R,m]),l(function(){return y(M)&&_({inst:M}),d(function(){y(M)&&_({inst:M})})},[d]),f(R),R}function y(d){var m=d.getSnapshot;d=d.value;try{var R=m();return!e(d,R)}catch{return!0}}function v(d,m){return m()}var O=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:s;return fe.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:O,fe}var Ie;function We(){return Ie||(Ie=1,ue.exports=Ge()),ue.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we;function Xe(){if(we)return le;we=1;var t=se(),r=We();function e(v,O){return v===O&&(v!==0||1/v===1/O)||v!==v&&O!==O}var n=typeof Object.is=="function"?Object.is:e,l=r.useSyncExternalStore,i=t.useRef,f=t.useEffect,s=t.useMemo,y=t.useDebugValue;return le.useSyncExternalStoreWithSelector=function(v,O,d,m,R){var E=i(null);if(E.current===null){var M={hasValue:!1,value:null};E.current=M}else M=E.current;E=s(function(){function L(c){if(!B){if(B=!0,k=c,c=m(c),R!==void 0&&M.hasValue){var h=M.value;if(R(h,c))return A=h}return A=c}if(h=A,n(k,c))return h;var p=m(c);return R!==void 0&&R(h,p)?(k=c,h):(k=c,A=p)}var B=!1,k,A,I=d===void 0?null:d;return[function(){return L(O())},I===null?void 0:function(){return L(I())}]},[O,d,m,R]);var _=l(v,E[0],E[1]);return f(function(){M.hasValue=!0,M.value=_},[_]),y(_),_},le}var De;function Je(){return De||(De=1,ce.exports=Xe()),ce.exports}var Ye=Je(),Ke=xe(Ye);const Ee={},{useDebugValue:Qe}=He,{useSyncExternalStoreWithSelector:Ze}=Ke;let Re=!1;const et=t=>t;function tt(t,r=et,e){(Ee?"production":void 0)!=="production"&&e&&!Re&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Re=!0);const n=Ze(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,e);return Qe(n),n}const _e=t=>{(Ee?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?Ve(t):t,e=(n,l)=>tt(r,n,l);return Object.assign(e,r),e},rt=t=>t?_e(t):_e,re="ndn_user_settings";function de(){try{const t=localStorage.getItem(re);if(!t)return{favoriteDouble:"D16",callerEnabled:!0,callerVoice:"",callerVolume:1,callerStyle:"professional",speakCheckoutOnly:!1,avgMode:"all-time",autoStartOffline:!1,rememberLastOffline:!0,lastOffline:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!1,compactHeader:!1,allowSpectate:!0,cameraScale:1,cameraAspect:"wide",cameraFitMode:"fit",cameraRecordDarts:!0,cameraShowLabels:!1,cameraLowLatency:!1,cameraProcessingFps:15,calibrationGuide:!0,preferredCameraId:void 0,preferredCameraLabel:void 0,preserveCalibrationOverlay:!0,preserveCalibrationOnCameraChange:!0,cameraEnabled:!0,hideCameraOverlay:!1,offlineLayout:"modern",hideInGameSidebar:!0,hiddenSections:[],autoscoreProvider:"built-in",autoscoreWsUrl:"",autoCommitMode:"immediate",confirmUncertainDarts:!1,autoScoreConfidenceThreshold:.82,autoscoreDetectorMinArea:30,autoscoreDetectorThresh:15,autoscoreDetectorRequireStableN:2,harshLightingMode:!1,enhanceBigTrebles:!1,allowAutocommitInOnline:!1,textSize:"medium",boxSize:"medium",statsCardMinHeight:220,cardPaddingBottom:900,matchType:"singles",teamAName:"Team A",teamBName:"Team B",dartTimerEnabled:!1,dartTimerSeconds:10,x01DoubleIn:!1};const r=JSON.parse(t),e=Number(r?.__version||0);if(e<2){const n={...r,autoCommitMode:"immediate",confirmUncertainDarts:!1,cameraRecordDarts:!0,autoScoreConfidenceThreshold:.82,__version:2};try{localStorage.setItem(re,JSON.stringify(n))}catch{}}if(e<3){const n={...r,cardPaddingBottom:900,__version:3};try{localStorage.setItem(re,JSON.stringify(n))}catch{}}if(e<4){const n={...r,cardPaddingBottom:900,__version:4};try{localStorage.setItem(re,JSON.stringify(n))}catch{}}return{favoriteDouble:r.favoriteDouble||"D16",callerEnabled:typeof r.callerEnabled=="boolean"?r.callerEnabled:!0,callerVoice:r.callerVoice||"",callerVolume:typeof r.callerVolume=="number"?Math.max(0,Math.min(1,r.callerVolume)):1,callerStyle:r.callerStyle==="energetic"||r.callerStyle==="classic"?r.callerStyle:"professional",speakCheckoutOnly:!!r.speakCheckoutOnly,avgMode:r.avgMode==="24h"?"24h":"all-time",autoStartOffline:!!r.autoStartOffline,rememberLastOffline:typeof r.rememberLastOffline=="boolean"?r.rememberLastOffline:!0,lastOffline:r.lastOffline&&typeof r.lastOffline=="object"?{mode:r.lastOffline.mode||"X01",x01Start:Number(r.lastOffline.x01Start)||501,firstTo:Number(r.lastOffline.firstTo)||1,aiLevel:r.lastOffline.aiLevel||"None"}:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!!r.reducedMotion,compactHeader:!!r.compactHeader,allowSpectate:typeof r.allowSpectate=="boolean"?r.allowSpectate:!0,cameraScale:typeof r.cameraScale=="number"&&isFinite(r.cameraScale)?Math.max(.5,Math.min(1.25,r.cameraScale)):1,cameraAspect:r.cameraAspect==="square"?"square":"wide",cameraFitMode:r.cameraFitMode==="fit"||r.cameraFitMode==="fill"?r.cameraFitMode:"fit",calibrationUseRansac:typeof r.calibrationUseRansac=="boolean"?r.calibrationUseRansac:!0,autoscoreProvider:(()=>{let n=r.autoscoreProvider;return n!=="external-ws"&&n!=="manual"&&n!=="built-in"&&n!=="built-in-v2"&&(n="built-in"),n})(),autoscoreWsUrl:typeof r.autoscoreWsUrl=="string"?r.autoscoreWsUrl:"",autoCommitMode:r.autoCommitMode==="immediate"?"immediate":"wait-for-clear",confirmUncertainDarts:typeof r.confirmUncertainDarts=="boolean"?r.confirmUncertainDarts:!1,autoScoreConfidenceThreshold:typeof r.autoScoreConfidenceThreshold=="number"&&isFinite(r.autoScoreConfidenceThreshold)?Math.max(.5,Math.min(.99,r.autoScoreConfidenceThreshold)):.82,autoscoreDetectorMinArea:typeof r.autoscoreDetectorMinArea=="number"&&isFinite(r.autoscoreDetectorMinArea)?Math.max(5,Math.min(500,Math.round(r.autoscoreDetectorMinArea))):30,autoscoreDetectorThresh:typeof r.autoscoreDetectorThresh=="number"&&isFinite(r.autoscoreDetectorThresh)?Math.max(5,Math.min(60,Math.round(r.autoscoreDetectorThresh))):15,autoscoreDetectorRequireStableN:typeof r.autoscoreDetectorRequireStableN=="number"&&isFinite(r.autoscoreDetectorRequireStableN)?Math.max(1,Math.min(10,Math.round(r.autoscoreDetectorRequireStableN))):2,harshLightingMode:typeof r.harshLightingMode=="boolean"?r.harshLightingMode:!1,enhanceBigTrebles:typeof r.enhanceBigTrebles=="boolean"?r.enhanceBigTrebles:!1,allowAutocommitInOnline:!!r.allowAutocommitInOnline,calibrationGuide:typeof r.calibrationGuide=="boolean"?r.calibrationGuide:!0,preferredCameraId:typeof r.preferredCameraId=="string"?r.preferredCameraId:void 0,preserveCalibrationOverlay:typeof r.preserveCalibrationOverlay=="boolean"?r.preserveCalibrationOverlay:!0,preserveCalibrationOnCameraChange:typeof r.preserveCalibrationOnCameraChange=="boolean"?r.preserveCalibrationOnCameraChange:!0,preferredCameraLabel:typeof r.preferredCameraLabel=="string"?r.preferredCameraLabel:void 0,preferredCameraLocked:typeof r.preferredCameraLocked=="boolean"?r.preferredCameraLocked:!1,cameraEnabled:typeof r.cameraEnabled=="boolean"?r.cameraEnabled:!0,hideCameraOverlay:typeof r.hideCameraOverlay=="boolean"?r.hideCameraOverlay:!1,offlineLayout:r.offlineLayout==="classic"?"classic":"modern",hideInGameSidebar:typeof r.hideInGameSidebar=="boolean"?r.hideInGameSidebar:!0,hiddenSections:Array.isArray(r.hiddenSections)?r.hiddenSections.filter(n=>typeof n=="string"):[],textSize:r.textSize==="small"||r.textSize==="large"?r.textSize:"medium",boxSize:r.boxSize==="small"||r.boxSize==="large"?r.boxSize:"medium",statsCardMinHeight:typeof r.statsCardMinHeight=="number"&&isFinite(r.statsCardMinHeight)?Math.max(160,Math.min(520,Math.round(r.statsCardMinHeight))):220,cardPaddingBottom:typeof r.cardPaddingBottom=="number"&&isFinite(r.cardPaddingBottom)?Math.max(0,Math.min(1200,Math.round(r.cardPaddingBottom))):900,matchType:r.matchType==="doubles"?"doubles":"singles",teamAName:typeof r.teamAName=="string"?r.teamAName:"Team A",teamBName:typeof r.teamBName=="string"?r.teamBName:"Team B",dartTimerEnabled:typeof r.dartTimerEnabled=="boolean"?r.dartTimerEnabled:!1,dartTimerSeconds:typeof r.dartTimerSeconds=="number"&&isFinite(r.dartTimerSeconds)?Math.max(3,Math.min(60,r.dartTimerSeconds)):10,x01DoubleIn:typeof r.x01DoubleIn=="boolean"?r.x01DoubleIn:!1,cameraRecordDarts:typeof r.cameraRecordDarts=="boolean"?r.cameraRecordDarts:!0,cameraShowLabels:typeof r.cameraShowLabels=="boolean"?r.cameraShowLabels:!1}}catch{return{favoriteDouble:"D16",callerEnabled:!0,callerVoice:"",callerVolume:1,callerStyle:"professional",speakCheckoutOnly:!1,avgMode:"all-time",autoStartOffline:!1,rememberLastOffline:!0,lastOffline:{mode:"X01",x01Start:501,firstTo:1,aiLevel:"None"},reducedMotion:!1,compactHeader:!1,allowSpectate:!0,cameraScale:1,cameraAspect:"wide",cameraFitMode:"fit",calibrationGuide:!0,calibrationUseRansac:!0,preferredCameraId:void 0,preferredCameraLabel:void 0,preferredCameraLocked:!1,preserveCalibrationOverlay:!0,preserveCalibrationOnCameraChange:!0,cameraEnabled:!0,hideCameraOverlay:!1,offlineLayout:"modern",hideInGameSidebar:!0,hiddenSections:[],autoscoreProvider:"built-in",autoscoreWsUrl:"",autoCommitMode:"immediate",confirmUncertainDarts:!1,autoScoreConfidenceThreshold:.82,harshLightingMode:!1,enhanceBigTrebles:!1,textSize:"medium",boxSize:"medium",statsCardMinHeight:220,cardPaddingBottom:900,matchType:"singles",teamAName:"Team A",teamBName:"Team B",dartTimerEnabled:!1,dartTimerSeconds:10,x01DoubleIn:!1}}}function g(t){try{const r=de();localStorage.setItem(re,JSON.stringify({...r,...t}))}catch{}}const nt=rt((t,r)=>({...de(),setFavoriteDouble:e=>{g({favoriteDouble:e}),t({favoriteDouble:e})},setCallerEnabled:e=>{g({callerEnabled:e}),t({callerEnabled:e})},setCallerVoice:e=>{g({callerVoice:e}),t({callerVoice:e})},setCallerStyle:e=>{const n=e==="energetic"||e==="classic"?e:"professional";g({callerStyle:n}),t({callerStyle:n})},setAvgMode:e=>{g({avgMode:e}),t({avgMode:e})},setCallerVolume:e=>{const n=Math.max(0,Math.min(1,e));g({callerVolume:n}),t({callerVolume:n})},setSpeakCheckoutOnly:e=>{g({speakCheckoutOnly:e}),t({speakCheckoutOnly:e})},setAutoStartOffline:e=>{g({autoStartOffline:e}),t({autoStartOffline:e})},setRememberLastOffline:e=>{g({rememberLastOffline:e}),t({rememberLastOffline:e})},setLastOffline:e=>{const l={...de().lastOffline,...e};g({lastOffline:l}),t({lastOffline:l})},setReducedMotion:e=>{g({reducedMotion:e}),t({reducedMotion:e})},setCompactHeader:e=>{g({compactHeader:e}),t({compactHeader:e})},setAllowSpectate:e=>{g({allowSpectate:e}),t({allowSpectate:e})},ignorePreferredCameraSync:!1,setIgnorePreferredCameraSync:e=>{g({}),t({ignorePreferredCameraSync:e})},setCameraScale:e=>{const n=Math.max(.5,Math.min(2,e));g({cameraScale:n}),t({cameraScale:n})},setCameraAspect:e=>{const n=e==="square"?"square":"wide";g({cameraAspect:n}),t({cameraAspect:n})},setCameraFitMode:e=>{const n=e==="fit"?"fit":"fill";g({cameraFitMode:n}),t({cameraFitMode:n})},setAutoscoreProvider:e=>{const n=e;g({autoscoreProvider:n}),t({autoscoreProvider:n})},setAutoscoreWsUrl:e=>{g({autoscoreWsUrl:e}),t({autoscoreWsUrl:e})},setAutoCommitMode:e=>{const n=e==="immediate"?"immediate":"wait-for-clear";g({autoCommitMode:n}),t({autoCommitMode:n})},setConfirmUncertainDarts:e=>{const n=!!e;g({confirmUncertainDarts:n}),t({confirmUncertainDarts:n})},setAutoScoreConfidenceThreshold:e=>{const n=typeof e=="number"&&isFinite(e)?Math.max(.5,Math.min(.99,e)):.85;g({autoScoreConfidenceThreshold:n}),t({autoScoreConfidenceThreshold:n})},setAutoscoreDetectorMinArea:e=>{const n=typeof e=="number"&&isFinite(e)?Math.max(5,Math.min(500,Math.round(e))):30;g({autoscoreDetectorMinArea:n}),t({autoscoreDetectorMinArea:n})},setAutoscoreDetectorThresh:e=>{const n=typeof e=="number"&&isFinite(e)?Math.max(5,Math.min(60,Math.round(e))):15;g({autoscoreDetectorThresh:n}),t({autoscoreDetectorThresh:n})},setAutoscoreDetectorRequireStableN:e=>{const n=typeof e=="number"&&isFinite(e)?Math.max(1,Math.min(10,Math.round(e))):2;g({autoscoreDetectorRequireStableN:n}),t({autoscoreDetectorRequireStableN:n})},setHarshLightingMode:e=>{const n=!!e;g({harshLightingMode:n}),t({harshLightingMode:n})},setEnhanceBigTrebles:e=>{const n=!!e;g({enhanceBigTrebles:n}),t({enhanceBigTrebles:n})},setAllowAutocommitInOnline:e=>{g({allowAutocommitInOnline:e}),t({allowAutocommitInOnline:e})},setCalibrationGuide:e=>{g({calibrationGuide:e}),t({calibrationGuide:e})},setCalibrationUseRansac:e=>{g({calibrationUseRansac:e}),t({calibrationUseRansac:e})},setPreserveCalibrationOverlay:e=>{g({preserveCalibrationOverlay:e}),t({preserveCalibrationOverlay:e})},setPreserveCalibrationOnCameraChange:e=>{g({preserveCalibrationOnCameraChange:e}),t({preserveCalibrationOnCameraChange:!!e})},setPreferredCamera:(e,n,l=!1)=>{try{if(r().preferredCameraLocked&&!l){console.log("[USERSETTINGS] Camera selection locked and force=false, ignoring update");return}}catch{}try{const i=r();if(i.preferredCameraId===e&&i.preferredCameraLabel===n)return}catch{}g({preferredCameraId:e,preferredCameraLabel:n}),t({preferredCameraId:e,preferredCameraLabel:n})},setPreferredCameraLocked:e=>{try{if(r().ignorePreferredCameraSync&&e===!0){console.debug("[USERSETTINGS] Ignoring auto-lock due to ignorePreferredCameraSync");return}}catch{}g({preferredCameraLocked:e}),t({preferredCameraLocked:e})},setCameraEnabled:e=>{g({cameraEnabled:e}),t({cameraEnabled:e})},setHideCameraOverlay:e=>{g({hideCameraOverlay:e}),t({hideCameraOverlay:e})},setCameraShowLabels:e=>{g({cameraShowLabels:e}),t({cameraShowLabels:!!e})},setCameraRecordDarts:e=>{const n=!!e;g({cameraRecordDarts:n}),t({cameraRecordDarts:n})},setCameraLowLatency:e=>{const n=!!e;g({cameraLowLatency:n}),t({cameraLowLatency:n})},setCameraProcessingFps:e=>{const n=Math.max(5,Math.min(30,Math.round(e)));g({cameraProcessingFps:n}),t({cameraProcessingFps:n})},setOfflineLayout:e=>{g({offlineLayout:e}),t({offlineLayout:e})},setHideInGameSidebar:e=>{g({hideInGameSidebar:e}),t({hideInGameSidebar:e})},setHiddenSections:e=>{const n=Array.isArray(e)?e.filter(l=>typeof l=="string"):[];g({hiddenSections:n}),t({hiddenSections:n})},setTextSize:e=>{g({textSize:e}),t({textSize:e})},setBoxSize:e=>{g({boxSize:e}),t({boxSize:e})},setStatsCardMinHeight:e=>{const n=Math.max(160,Math.min(520,Math.round(e)));g({statsCardMinHeight:n}),t({statsCardMinHeight:n})},setCardPaddingBottom:e=>{const n=Math.max(0,Math.min(1200,Math.round(e)));g({cardPaddingBottom:n}),t({cardPaddingBottom:n})},setMatchType:e=>{const n=e==="doubles"?"doubles":"singles";g({matchType:n}),t({matchType:n})},setTeamAName:e=>{const n=e?.trim()||"Team A";g({teamAName:n}),t({teamAName:n})},setTeamBName:e=>{const n=e?.trim()||"Team B";g({teamBName:n}),t({teamBName:n})},setDartTimerEnabled:e=>{g({dartTimerEnabled:e}),t({dartTimerEnabled:e})},setDartTimerSeconds:e=>{const n=Math.max(3,Math.min(60,Math.round(e)));g({dartTimerSeconds:n}),t({dartTimerSeconds:n})},setX01DoubleIn:e=>{g({x01DoubleIn:e}),t({x01DoubleIn:e})}})),ot=t=>!!t&&Number.isFinite(t.x)&&Number.isFinite(t.y),at=t=>Array.isArray(t)&&t.length===9&&t.every(Number.isFinite);function it(t,r){const e=t.getContext("2d",{willReadFrequently:!0});if(!e)return null;const n=t.width,l=t.height,i=160,f=i/n,s=Math.floor(l*f),v=new OffscreenCanvas(i,s).getContext("2d",{willReadFrequently:!0});if(!v)return null;v.drawImage(t,0,0,i,s);const d=v.getImageData(0,0,i,s).data,m=new Float32Array(i*s),R=8;for(let a=1;a<s-1;a++)for(let u=1;u<i-1;u++){const b=(a*i+u)*4,w=b-4,C=b+4,N=b-i*4,S=b+i*4,F=d[w]*.299+d[w+1]*.587+d[w+2]*.114,$=d[C]*.299+d[C+1]*.587+d[C+2]*.114,V=d[N]*.299+d[N+1]*.587+d[N+2]*.114,J=d[S]*.299+d[S+1]*.587+d[S+2]*.114,Y=$-F,K=J-V,Z=Math.sqrt(Y*Y+K*K);if(Z>R){const Te=Y/Z,Ae=K/Z,ft=i*.03,dt=i*.6;for(let ee=ft;ee<dt;ee+=1){const me=Math.round(u+Te*ee),he=Math.round(a+Ae*ee);me>=0&&me<i&&he>=0&&he<s&&m[he*i+me]++;const pe=Math.round(u-Te*ee),ye=Math.round(a-Ae*ee);pe>=0&&pe<i&&ye>=0&&ye<s&&m[ye*i+pe]++}}}const E=new Float32Array(i*s),M=2;for(let a=M;a<s-M;a++)for(let u=M;u<i-M;u++){let b=0;for(let w=-M;w<=M;w++)for(let C=-M;C<=M;C++)b+=m[(a+w)*i+(u+C)];E[a*i+u]=b}let _=0,L=i/2,B=s/2;const k=5;for(let a=k;a<s-k;a++)for(let u=k;u<i-k;u++){const b=E[a*i+u];b>_&&(_=b,L=u,B=a)}let A=L/f,I=B/f;console.log(`[findDartboardRings] Voting Peak: (${Math.round(A)}, ${Math.round(I)}) Votes=${_}`);const c=400,h=c/n,p=Math.floor(l*h),P=new OffscreenCanvas(c,p).getContext("2d");if(!P)return null;P.drawImage(t,0,0,c,p);const x=P.getImageData(0,0,c,p).data,z=new Float32Array(c*p),G=new Float32Array(c*p);for(let a=1;a<p-1;a++)for(let u=1;u<c-1;u++){const b=(a*c+u)*4;x[b]*.299+x[b+1]*.587+x[b+2]*.114;const w=b-4,C=b+4,N=b-c*4,S=b+c*4,F=x[w]*.299+x[w+1]*.587+x[w+2]*.114,$=x[C]*.299+x[C+1]*.587+x[C+2]*.114,V=x[N]*.299+x[N+1]*.587+x[N+2]*.114,J=x[S]*.299+x[S+1]*.587+x[S+2]*.114,Y=$-F,K=J-V;z[a*c+u]=Y,G[a*c+u]=K}const H=e.getImageData(0,0,n,l).data,W=(a,u)=>{const b=Math.max(0,Math.min(n-1,Math.round(a))),C=(Math.max(0,Math.min(l-1,Math.round(u)))*n+b)*4;return .299*H[C]+.587*H[C+1]+.114*H[C+2]},oe=60,U={};for(let a=0;a<oe;a++){const u=a/oe*Math.PI*2,b=Math.cos(u),w=Math.sin(u),C=[];for(let S=30;S<Math.min(n,l)/2;S+=1){const F=A+(S-2)*b,$=I+(S-2)*w,V=A+(S+2)*b,J=I+(S+2)*w,Y=W(F,$),K=W(V,J),Z=Math.abs(K-Y);Z>2&&S>20&&C.push({r:S,grad:Z})}const N=[];for(let S=0;S<C.length;S++){const F=S>0?C[S-1].grad:0,$=C[S].grad,V=S<C.length-1?C[S+1].grad:0;$>F&&$>V&&$>2&&N.push(C[S].r)}N.length>0&&N.forEach(S=>{const F=Object.keys(U).map(V=>({key:parseInt(V),median:U[parseInt(V)][Math.floor(U[parseInt(V)].length/2)]})).filter(V=>Math.abs(V.median-S)<15).sort((V,J)=>Math.abs(V.median-S)-Math.abs(J.median-S))[0],$=F?F.key:Math.max(-1,...Object.keys(U).map(V=>parseInt(V)))+1;U[$]||(U[$]=[]),U[$].push(S)})}const X=Object.keys(U).map(a=>{const u=U[parseInt(a)].sort((w,C)=>w-C),b=u[Math.floor(u.length/2)];return{tier:parseInt(a),radius:b,samples:u.length}}).sort((a,u)=>a.radius-u.radius);console.log("[findDartboardRings] Detected ring tiers:",X);const j=[...X];if(j.length>=2){const a=j[j.length-1].radius,u=j[j.length-2].radius,b=a/u;(b>1.15&&j.length>=5||b>1.3)&&(console.log(`[findDartboardRings] Ignoring outermost ring (likely light ring/surround): ${a.toFixed(1)}px (ratio ${b.toFixed(2)} to ${u.toFixed(1)}px)`),j.pop())}const ae=j.length>0?j[j.length-1].radius:Math.min(n,l)*.3;let o=50+j.length*6;return j.length>=7?o=98:j.length===6?o=96:j.length===5&&(o=94),{cx:A,cy:I,r:ae,confidence:o,ringCount:j.length,ringStrength:j.length>0?j[j.length-1].radius:0,detectedRings:j.map(a=>a.radius)}}function st(t,r,e,n){const l=t.getContext("2d");if(!l)return null;const i=t.width,f=t.height,s=720,y=n,v=new Array(s).fill(0),O=Math.max(2,Math.round(y-8)),d=Math.round(y+8),m=l.getImageData(0,0,i,f).data,R=(c,h)=>{const p=Math.round(c),T=Math.round(h);if(p<0||p>=i||T<0||T>=f)return 127;const P=(T*i+p)*4;return m[P]*.299+m[P+1]*.587+m[P+2]*.114};for(let c=0;c<s;c++){const h=c/s*Math.PI*2;let p=0,T=R(r+O*Math.cos(h),e+O*Math.sin(h));for(let P=O+1;P<=d;P++){const x=R(r+P*Math.cos(h),e+P*Math.sin(h)),z=Math.abs(x-T);z>p&&(p=z),T=x}v[c]=p}const E=[];for(let c=0;c<s;c++){const h=v[(c-1+s)%s],p=v[c],T=v[(c+1)%s];p>h&&p>T&&p>10&&E.push(c)}if(E.length<16){const c=v.map((h,p)=>{let T=0,P=0;for(let x=-2;x<=2;x++)T+=v[(p+x+s)%s],P++;return T/P});for(let h=0;h<s;h++){const p=c[(h-1+s)%s],T=c[h],P=c[(h+1)%s];T>p&&T>P&&T>8&&E.push(h)}}if(E.length===0)return 0;const M=E.map(c=>c/s*Math.PI*2);M.sort((c,h)=>c-h);const _=[];for(let c=0;c<M.length;c++){const h=M[c],T=(M[(c+1)%M.length]-h+Math.PI*2)%(Math.PI*2);_.push((h+T/2)%(Math.PI*2))}const L=20,B=new Array(L).fill(0).map((c,h)=>-Math.PI/2+h*(Math.PI*2/L));let k=0,A=1/0;for(let c=0;c<_.length;c++){let h=0;for(let p=0;p<Math.min(L,_.length);p++){const T=_[(p+c)%_.length],P=B[p],x=Math.abs((T-P+Math.PI)%(Math.PI*2)-Math.PI);h+=x*x}h<A&&(A=h,k=(_[c]-B[0]+Math.PI*2)%(Math.PI*2))}return(k+Math.PI)%(Math.PI*2)-Math.PI}function ct(t,r){const e=t.getContext("2d");if(!e)return r;const n=t.width,l=t.height,f=e.getImageData(0,0,n,l).data,s=(L,B)=>{const k=Math.max(0,Math.min(n-1,Math.round(L))),I=(Math.max(0,Math.min(l-1,Math.round(B)))*n+k)*4;return .299*f[I]+.587*f[I+1]+.114*f[I+2]},y=(L,B)=>{const k=s(L+1,B)-s(L-1,B),A=s(L,B+1)-s(L,B-1);return{gx:k,gy:A}},v=te(r,{x:0,y:0}),O=L=>{const B=[q.trebleOuter,q.doubleOuter];let k=0;for(const A of B){const I=Be(L,A,180);for(let c=0;c<I.length;c++){const h=I[c],p=y(h.x,h.y),T=h.x-v.x,P=h.y-v.y,x=Math.hypot(T,P)||1,z=T/x,G=P/x;k+=Math.abs(p.gx*z+p.gy*G)}}return k/180/2};let d=r,m=O(r);const R=L=>L*Math.PI/180,E=[-4,-2,-1,-.5,0,.5,1,2,4],M=[-3,-2,-1,0,1,2,3],_=[.98,.99,1,1.01,1.02];for(const L of E){const B=Le(r,R(L));for(const k of M)for(const A of M){const I=Se(B,k,A);for(const c of _){const h=Pe(I,c,c),p=O(h);p>m&&(m=p,d=h)}}}return d}function lt(t,r){try{const e=t.width,n=t.height,l=e/2,i=n/2;let f=t;r?.colorAssist;const s=it(f,r?.centerHint);if(!s)return{success:!1,cx:l,cy:i,bullInner:0,bullOuter:0,trebleInner:0,trebleOuter:0,doubleInner:0,doubleOuter:0,confidence:0,homography:null,errorPx:null,calibrationPoints:[],message:"No dartboard detected. Ensure board is clearly visible with good contrast between rings and background."};const y=(()=>{const I=s.detectedRings||[];if(I.length>=6)return{cx:s.cx,cy:s.cy,bullInner:I[0],bullOuter:I[1],trebleInner:I[2],trebleOuter:I[3],doubleInner:I[4],doubleOuter:I[5]};{const c=s.r/q.doubleOuter;return{cx:s.cx,cy:s.cy,bullInner:q.bullInner*c,bullOuter:q.bullOuter*c,trebleInner:q.trebleInner*c,trebleOuter:q.trebleOuter*c,doubleInner:q.doubleInner*c,doubleOuter:s.r}}})(),v=st(t,y.cx,y.cy,y.doubleOuter)||0,O=Ne("outer"),d=O.map(I=>{if(I.x===0&&I.y===0)return{x:y.cx,y:y.cy};const c=Math.cos(v),h=Math.sin(v),p=y.doubleOuter/q.doubleOuter,T=I.x*p,P=I.y*p;return{x:y.cx+(T*c-P*h),y:y.cy+(T*h+P*c)}});let m=null,R=null,E=s.confidence,M=1;try{let I=!0;try{I=!!nt.getState?.()?.calibrationUseRansac}catch{}if(I){const p=Ue(O,d,{thresholdPx:8,maxIter:300});p.H?(m=p.H,R=p.errorPx,M=p.inliers.filter(Boolean).length/d.length,E=Math.max(E,Math.round(E*.6+M*40))):(m=ne(O,d),R=Q(m,O,d))}else m=ne(O,d),R=Q(m,O,d);if(m&&(m=ct(t,m),R=Q(m,O,d)),m){const p=te(m,{x:0,y:0}),T=y.cx-p.x,P=y.cy-p.y;Math.hypot(T,P)>.25&&(m=Se(m,T,P),R=Q(m,O,d))}const h=$e(typeof R=="number"?R:null);typeof h=="number"?E=h:E=Math.max(M*100,s.confidence)}catch{E=Math.max(65,s.confidence)}const _=d.every(ot),L=at(m),B=!!L&&_&&E>50,k=s.ringCount??0,A={success:B,cx:y.cx,cy:y.cy,bullInner:y.bullInner,bullOuter:y.bullOuter,trebleInner:y.trebleInner,trebleOuter:y.trebleOuter,doubleInner:y.doubleInner,doubleOuter:y.doubleOuter,confidence:Math.round(E),homography:L?m:null,errorPx:L?R:null,calibrationPoints:_?d:[],theta:typeof v=="number"?v:void 0,message:!_||!L?`❌ Detection produced unstable calibration data. Adjust camera framing or calibrate manually. (rings: ${k}, r:${Math.round(s.r)})`:E>85?`✅ Excellent detection (rings: ${k}, r:${Math.round(s.r)})`:`✅ Board detected - may need angle adjustment (rings: ${k}, r:${Math.round(s.r)})`};return console.log("[detectBoard] Final result:",{success:A.success,confidence:A.confidence,homographyValid:L,pointsValid:_,cx:Math.round(A.cx),cy:Math.round(A.cy),doubleOuter:Math.round(A.doubleOuter),rings:k,errorPx:A.errorPx?A.errorPx.toFixed(2):null,calibrationPoints:d.map(I=>({x:Math.round(I.x),y:Math.round(I.y)}))},A.message),A}catch(e){return{success:!1,cx:t.width/2,cy:t.height/2,bullInner:0,bullOuter:0,trebleInner:0,trebleOuter:0,doubleInner:0,doubleOuter:0,confidence:0,homography:null,errorPx:null,calibrationPoints:[],message:e instanceof Error?e.message:"Board detection failed"}}}function mt(t){return t}const ut=t=>{const r=t.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Unable to get 2D context for detection");return r};self.addEventListener("message",t=>{const r=t.data;if(!r||r.type!=="detect")return;const{bitmap:e}=r;try{const n=new OffscreenCanvas(e.width,e.height);ut(n).drawImage(e,0,0,e.width,e.height);const i=lt(n),f=i&&i;self.postMessage({type:"result",detection:f??i})}catch(n){const l=n instanceof Error?n.message:String(n);self.postMessage({error:l})}finally{try{e.close?.()}catch{}}})})();
//# sourceMappingURL=boardDetection.worker-BtmHP_yv.js.map

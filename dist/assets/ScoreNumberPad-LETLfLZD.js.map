{"version":3,"file":"ScoreNumberPad-LETLfLZD.js","sources":["../../src/components/ui/ScoreNumberPad.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\n\ninterface ScoreNumberPadProps {\n  value: string;\n  onChange: (next: string) => void;\n  onSubmit?: () => void;\n  disabled?: boolean;\n  label?: string;\n  helperText?: string;\n  maxLength?: number;\n  className?: string;\n}\n\nconst DIGITS = [\"7\", \"8\", \"9\", \"4\", \"5\", \"6\", \"1\", \"2\", \"3\", \"0\"];\n\nexport default function ScoreNumberPad({\n  value,\n  onChange,\n  onSubmit,\n  disabled = false,\n  label = \"Number pad\",\n  helperText,\n  maxLength = 3,\n  className = \"\",\n}: ScoreNumberPadProps) {\n  const appendDigit = (digit: string) => {\n    const base = value === \"0\" ? \"\" : (value ?? \"\");\n    const next = `${base}${digit}`;\n    const trimmed = maxLength > 0 ? next.slice(0, maxLength) : next;\n    onChange(trimmed);\n  };\n\n  useEffect(() => {\n    if (disabled) return;\n    const isEditableTarget = (target: EventTarget | null) => {\n      if (!target || !(target as HTMLElement).tagName) return false;\n      const el = target as HTMLElement;\n      const tag = el.tagName.toLowerCase();\n      if (tag === \"input\" || tag === \"textarea\" || tag === \"select\")\n        return true;\n      return !!el.getAttribute(\"contenteditable\");\n    };\n    const handler = (e: KeyboardEvent) => {\n      if (e.defaultPrevented) return;\n      if (isEditableTarget(e.target)) return;\n      if (e.metaKey || e.ctrlKey || e.altKey) return;\n      if (e.key >= \"0\" && e.key <= \"9\") {\n        e.preventDefault();\n        appendDigit(e.key);\n        return;\n      }\n      if (e.key === \"Backspace\") {\n        e.preventDefault();\n        onChange((value || \"\").slice(0, -1));\n        return;\n      }\n      if (e.key === \"Escape\") {\n        e.preventDefault();\n        onChange(\"\");\n        return;\n      }\n      if (e.key === \"Enter\" && onSubmit) {\n        e.preventDefault();\n        onSubmit();\n      }\n    };\n    window.addEventListener(\"keydown\", handler);\n    return () => window.removeEventListener(\"keydown\", handler);\n  }, [appendDigit, disabled, onChange, onSubmit, value]);\n\n  return (\n    <div className={className}>\n      {label && <div className=\"text-sm font-semibold mb-2\">{label}</div>}\n      <div className=\"grid grid-cols-3 gap-2 max-w-sm\">\n        {DIGITS.map((digit) => (\n          <button\n            key={digit}\n            className=\"btn text-lg\"\n            onClick={() => appendDigit(digit)}\n            disabled={disabled}\n          >\n            {digit}\n          </button>\n        ))}\n        <button\n          className=\"btn bg-rose-600 hover:bg-rose-700 text-white\"\n          onClick={() => onChange(\"\")}\n          disabled={disabled}\n        >\n          Clear\n        </button>\n        <button\n          className=\"btn bg-slate-600 hover:bg-slate-700 text-white\"\n          onClick={() => onChange((value || \"\").slice(0, -1))}\n          disabled={disabled}\n        >\n          Back\n        </button>\n        <button\n          className=\"btn bg-emerald-600 hover:bg-emerald-700 text-white\"\n          onClick={() => onSubmit && onSubmit()}\n          disabled={disabled || !onSubmit}\n        >\n          Enter\n        </button>\n      </div>\n      {helperText && (\n        <div className=\"text-xs opacity-70 mt-2\">{helperText}</div>\n      )}\n    </div>\n  );\n}\n"],"names":["DIGITS","ScoreNumberPad","value","onChange","onSubmit","disabled","label","helperText","maxLength","className","appendDigit","digit","next","trimmed","useEffect","isEditableTarget","target","el","tag","handler","jsxs","jsx"],"mappings":"6EAaA,MAAMA,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAEhE,SAAwBC,EAAe,CACrC,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,SAAAC,EAAW,GACX,MAAAC,EAAQ,aACR,WAAAC,EACA,UAAAC,EAAY,EACZ,UAAAC,EAAY,EACd,EAAwB,CACtB,MAAMC,EAAeC,GAAkB,CAErC,MAAMC,EAAO,GADAV,IAAU,IAAM,GAAMA,GAAS,EACxB,GAAGS,CAAK,GACtBE,EAAUL,EAAY,EAAII,EAAK,MAAM,EAAGJ,CAAS,EAAII,EAC3DT,EAASU,CAAO,CAClB,EAEAC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIT,EAAU,OACd,MAAMU,EAAoBC,GAA+B,CACvD,GAAI,CAACA,GAAU,CAAEA,EAAuB,QAAS,MAAO,GACxD,MAAMC,EAAKD,EACLE,EAAMD,EAAG,QAAQ,YAAA,EACvB,OAAIC,IAAQ,SAAWA,IAAQ,YAAcA,IAAQ,SAC5C,GACF,CAAC,CAACD,EAAG,aAAa,iBAAiB,CAC5C,EACME,EAAW,GAAqB,CACpC,GAAI,GAAE,kBACF,CAAAJ,EAAiB,EAAE,MAAM,GACzB,IAAE,SAAW,EAAE,SAAW,EAAE,QAChC,IAAI,EAAE,KAAO,KAAO,EAAE,KAAO,IAAK,CAChC,EAAE,eAAA,EACFL,EAAY,EAAE,GAAG,EACjB,MACF,CACA,GAAI,EAAE,MAAQ,YAAa,CACzB,EAAE,eAAA,EACFP,GAAUD,GAAS,IAAI,MAAM,EAAG,EAAE,CAAC,EACnC,MACF,CACA,GAAI,EAAE,MAAQ,SAAU,CACtB,EAAE,eAAA,EACFC,EAAS,EAAE,EACX,MACF,CACI,EAAE,MAAQ,SAAWC,IACvB,EAAE,eAAA,EACFA,EAAA,GAEJ,EACA,cAAO,iBAAiB,UAAWe,CAAO,EACnC,IAAM,OAAO,oBAAoB,UAAWA,CAAO,CAC5D,EAAG,CAACT,EAAaL,EAAUF,EAAUC,EAAUF,CAAK,CAAC,EAGnDkB,OAAC,OAAI,UAAAX,EACF,SAAA,CAAAH,GAASe,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA8B,SAAAf,EAAM,EAC7Dc,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACZ,SAAA,CAAApB,EAAO,IAAKW,GACXU,EAAAA,IAAC,SAAA,CAEC,UAAU,cACV,QAAS,IAAMX,EAAYC,CAAK,EAChC,SAAAN,EAEC,SAAAM,CAAA,EALIA,CAAA,CAOR,EACDU,EAAAA,IAAC,SAAA,CACC,UAAU,+CACV,QAAS,IAAMlB,EAAS,EAAE,EAC1B,SAAAE,EACD,SAAA,OAAA,CAAA,EAGDgB,EAAAA,IAAC,SAAA,CACC,UAAU,iDACV,QAAS,IAAMlB,GAAUD,GAAS,IAAI,MAAM,EAAG,EAAE,CAAC,EAClD,SAAAG,EACD,SAAA,MAAA,CAAA,EAGDgB,EAAAA,IAAC,SAAA,CACC,UAAU,qDACV,QAAS,IAAMjB,GAAYA,EAAA,EAC3B,SAAUC,GAAY,CAACD,EACxB,SAAA,OAAA,CAAA,CAED,EACF,EACCG,GACCc,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA2B,SAAAd,CAAA,CAAW,CAAA,EAEzD,CAEJ"}
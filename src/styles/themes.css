/* Theme tokens (CSS variables).
   - Color mode (light/dark) is controlled by [data-color-mode] on <html>.
   - Seasonal themes override token values via [data-theme] on <html>.
*/
:root{
  --bg: #0f172a; /* slate-900 (dark default) */
  --surface: #0b1220;
  --text: #e6eef8;
  --accent: #06b6d4; /* teal-400 */
  --muted: #9aa6b2;
  --gradient-start: #06b6d4;
  --gradient-end: #8b5cf6;
}

[data-color-mode="light"]{
  --bg: #f8fafc; /* slate-50 */
  --surface: #ffffff;
  --text: #0f172a; /* slate-900 */
  --accent: #2563eb; /* blue-600 */
  --muted: #475569; /* slate-600 */
  --gradient-start: #2563eb;
  --gradient-end: #7c3aed;
}

/* Apply theme colors to html and body - overrides Tailwind bg-slate-50 */
html, body {
  background-color: var(--bg) !important;
  color: var(--text) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Number pad slide-up animation */
@keyframes slideUp {
  from { transform: translateY(2rem); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

[data-theme="halloween"]{
  --bg: #0b0b0b;
  --surface: #1a0f0a;
  --text: #fff7ed;
  --accent: #ff6b00; /* orange */
  --muted: #c9a27a;
  --gradient-start: #ff6b00;
  --gradient-end: #7c3aed;
  --decor: url('/themes/halloween/bg.png');
}

[data-theme="easter"]{
  --bg: #4c1d95; /* deep purple */
  --surface: #5b21b6;
  --text: #fdf4ff;
  --accent: #f0abfc; /* pink pastel */
  --muted: #c4b5fd;
  --gradient-start: #e879f9;
  --gradient-end: #a78bfa;
}

[data-theme="summer"]{
  --bg: #0c4a6e; /* deep sky blue */
  --surface: #075985;
  --text: #f0f9ff;
  --accent: #fbbf24; /* amber/gold */
  --muted: #38bdf8;
  --gradient-start: #f59e0b;
  --gradient-end: #0ea5e9;
}

[data-theme="christmas"]{
  /* Christmas theme: festive red/green with snow accents */
  --bg: #0c1821;
  --surface: #0a1f14;
  --text: #f9fafb;
  --accent: #ef4444; /* red-500 */
  --muted: #86efac;
  --gradient-start: #dc2626;
  --gradient-end: #16a34a;
  --decor: none;
}

/* ========== GLOBAL THEME APPLICATION ========== */

/* small helper class to apply themed background if provided */
.theme-bg {
  background-color: var(--bg);
  color: var(--text);
}

/* surface card */
.surface {
  background-color: var(--surface);
  color: var(--text);
}

/* Cards and panels should use themed surface */
.card,
.panel {
  background-color: var(--surface);
  color: var(--text);
  border-color: rgba(255,255,255,0.1);
}

/* In dark mode (default), preserve the original glassy card look */
:root .card,
:root .panel {
  background: rgba(49,46,129,0.18);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  color: #F5F5F5;
  border-color: #8F43EE44;
}

/* Game-shell page cards always use solid dark purple (never white) on all devices */
.ndn-game-shell.card {
  background: #0f0d2e !important;
  border-color: #8F43EE44 !important;
  color: #F5F5F5 !important;
}

/* Light mode: force light surface for normal cards/panels */
[data-color-mode="light"] .card,
[data-color-mode="light"] .panel {
  background-color: var(--surface) !important;
  color: var(--text) !important;
  border-color: rgba(0,0,0,0.1) !important;
}

/* Game-shell cards override light mode â€” always dark purple */
[data-color-mode="light"] .ndn-game-shell.card {
  background: #0f0d2e !important;
  border-color: #8F43EE44 !important;
  color: #F5F5F5 !important;
}

/* Force white text inside game shells in ALL modes (dark purple background) */
.ndn-game-shell.card .ndn-shell-body,
.ndn-game-shell.card h2,
.ndn-game-shell.card h3,
.ndn-game-shell.card label,
.ndn-game-shell.card span,
.ndn-game-shell.card p,
.ndn-game-shell.card div,
.ndn-game-shell.card li,
.ndn-game-shell.card td,
.ndn-game-shell.card th,
.ndn-game-shell.card input,
.ndn-game-shell.card textarea,
.ndn-game-shell.card select {
  color: inherit;
}
[data-color-mode="light"] .ndn-game-shell.card .ndn-shell-body,
[data-color-mode="light"] .ndn-game-shell.card h2,
[data-color-mode="light"] .ndn-game-shell.card h3,
[data-color-mode="light"] .ndn-game-shell.card label,
[data-color-mode="light"] .ndn-game-shell.card span,
[data-color-mode="light"] .ndn-game-shell.card p,
[data-color-mode="light"] .ndn-game-shell.card div,
[data-color-mode="light"] .ndn-game-shell.card li,
[data-color-mode="light"] .ndn-game-shell.card td,
[data-color-mode="light"] .ndn-game-shell.card th {
  color: #F5F5F5 !important;
}
[data-color-mode="light"] .ndn-game-shell.card input,
[data-color-mode="light"] .ndn-game-shell.card textarea,
[data-color-mode="light"] .ndn-game-shell.card select {
  color: #F5F5F5 !important;
  background-color: rgba(255,255,255,0.08) !important;
  border-color: rgba(255,255,255,0.15) !important;
}

/* Inner panels inside game shells need readable colours in light mode */
[data-color-mode="light"] .ndn-game-shell .ndn-shell-body {
  color: #F5F5F5;
}
[data-color-mode="light"] .ndn-game-shell .input {
  background-color: rgba(255,255,255,0.08);
  color: #F5F5F5;
  border-color: rgba(255,255,255,0.15);
}

.glass {
  background-color: rgba(255, 255, 255, 0.03) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: var(--text) !important;
}

/* Buttons with accent color */
.btn-accent {
  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end)) !important;
  color: #fff !important;
}

/* Headers and text elements */
.header {
  color: var(--text) !important;
}

/* Links and interactive elements */
a:not(.btn) {
  color: var(--accent);
}

/* Muted text */
.text-muted {
  color: var(--muted) !important;
}

/* Pill utilities to provide filled/ghost variations across the app */
.pill {
  padding: 0.125rem 0.5rem; /* px-2 py-0.5 */
  border-radius: 9999px;
  font-size: 0.75rem; /* text-xs */
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}
.pill--filled {
  background-color: var(--accent);
  color: #ffffff;
  border: 1px solid transparent;
}
.pill--ghost {
  background-color: rgba(255,255,255,0.08);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.12);
}

/* Themed dropdown used for camera selection to match site dropdowns but
   ensure the internal option text uses black for readability (per request). */
.dropdown-themed {
  background-color: var(--surface);
  color: #000000; /* black text inside the control */
  border: 1px solid rgba(0,0,0,0.12);
}
.dropdown-themed option {
  /* many browsers limit styling of <option>, but set a white background and
     black text so browsers that support it will match the request. */
  background: #ffffff;
  color: #000000;
}
